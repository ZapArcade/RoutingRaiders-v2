var uy=Object.defineProperty;var cy=(e,t,n)=>t in e?uy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var O=(e,t,n)=>cy(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();var Pr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ld={exports:{}},Hi={},Pd={exports:{}},D={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var So=Symbol.for("react.element"),fy=Symbol.for("react.portal"),py=Symbol.for("react.fragment"),hy=Symbol.for("react.strict_mode"),yy=Symbol.for("react.profiler"),gy=Symbol.for("react.provider"),my=Symbol.for("react.context"),vy=Symbol.for("react.forward_ref"),wy=Symbol.for("react.suspense"),xy=Symbol.for("react.memo"),_y=Symbol.for("react.lazy"),Vu=Symbol.iterator;function Ey(e){return e===null||typeof e!="object"?null:(e=Vu&&e[Vu]||e["@@iterator"],typeof e=="function"?e:null)}var Id={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jd=Object.assign,Rd={};function kr(e,t,n){this.props=e,this.context=t,this.refs=Rd,this.updater=n||Id}kr.prototype.isReactComponent={};kr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};kr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Md(){}Md.prototype=kr.prototype;function da(e,t,n){this.props=e,this.context=t,this.refs=Rd,this.updater=n||Id}var fa=da.prototype=new Md;fa.constructor=da;jd(fa,kr.prototype);fa.isPureReactComponent=!0;var Wu=Array.isArray,Od=Object.prototype.hasOwnProperty,pa={current:null},Bd={key:!0,ref:!0,__self:!0,__source:!0};function Hd(e,t,n){var r,o={},i=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)Od.call(t,r)&&!Bd.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(u===1)o.children=n;else if(1<u){for(var a=Array(u),d=0;d<u;d++)a[d]=arguments[d+2];o.children=a}if(e&&e.defaultProps)for(r in u=e.defaultProps,u)o[r]===void 0&&(o[r]=u[r]);return{$$typeof:So,type:e,key:i,ref:l,props:o,_owner:pa.current}}function Sy(e,t){return{$$typeof:So,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ha(e){return typeof e=="object"&&e!==null&&e.$$typeof===So}function by(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Gu=/\/+/g;function ms(e,t){return typeof e=="object"&&e!==null&&e.key!=null?by(""+e.key):t.toString(36)}function Qo(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case So:case fy:l=!0}}if(l)return l=e,o=o(l),e=r===""?"."+ms(l,0):r,Wu(o)?(n="",e!=null&&(n=e.replace(Gu,"$&/")+"/"),Qo(o,t,n,"",function(d){return d})):o!=null&&(ha(o)&&(o=Sy(o,n+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(Gu,"$&/")+"/")+e)),t.push(o)),1;if(l=0,r=r===""?".":r+":",Wu(e))for(var u=0;u<e.length;u++){i=e[u];var a=r+ms(i,u);l+=Qo(i,t,n,a,o)}else if(a=Ey(e),typeof a=="function")for(e=a.call(e),u=0;!(i=e.next()).done;)i=i.value,a=r+ms(i,u++),l+=Qo(i,t,n,a,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Lo(e,t,n){if(e==null)return e;var r=[],o=0;return Qo(e,r,"","",function(i){return t.call(n,i,o++)}),r}function ky(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ce={current:null},Xo={transition:null},Ay={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:Xo,ReactCurrentOwner:pa};function Ud(){throw Error("act(...) is not supported in production builds of React.")}D.Children={map:Lo,forEach:function(e,t,n){Lo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Lo(e,function(){t++}),t},toArray:function(e){return Lo(e,function(t){return t})||[]},only:function(e){if(!ha(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};D.Component=kr;D.Fragment=py;D.Profiler=yy;D.PureComponent=da;D.StrictMode=hy;D.Suspense=wy;D.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ay;D.act=Ud;D.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=jd({},e.props),o=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=pa.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(a in t)Od.call(t,a)&&!Bd.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&u!==void 0?u[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){u=Array(a);for(var d=0;d<a;d++)u[d]=arguments[d+2];r.children=u}return{$$typeof:So,type:e.type,key:o,ref:i,props:r,_owner:l}};D.createContext=function(e){return e={$$typeof:my,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:gy,_context:e},e.Consumer=e};D.createElement=Hd;D.createFactory=function(e){var t=Hd.bind(null,e);return t.type=e,t};D.createRef=function(){return{current:null}};D.forwardRef=function(e){return{$$typeof:vy,render:e}};D.isValidElement=ha;D.lazy=function(e){return{$$typeof:_y,_payload:{_status:-1,_result:e},_init:ky}};D.memo=function(e,t){return{$$typeof:xy,type:e,compare:t===void 0?null:t}};D.startTransition=function(e){var t=Xo.transition;Xo.transition={};try{e()}finally{Xo.transition=t}};D.unstable_act=Ud;D.useCallback=function(e,t){return Ce.current.useCallback(e,t)};D.useContext=function(e){return Ce.current.useContext(e)};D.useDebugValue=function(){};D.useDeferredValue=function(e){return Ce.current.useDeferredValue(e)};D.useEffect=function(e,t){return Ce.current.useEffect(e,t)};D.useId=function(){return Ce.current.useId()};D.useImperativeHandle=function(e,t,n){return Ce.current.useImperativeHandle(e,t,n)};D.useInsertionEffect=function(e,t){return Ce.current.useInsertionEffect(e,t)};D.useLayoutEffect=function(e,t){return Ce.current.useLayoutEffect(e,t)};D.useMemo=function(e,t){return Ce.current.useMemo(e,t)};D.useReducer=function(e,t,n){return Ce.current.useReducer(e,t,n)};D.useRef=function(e){return Ce.current.useRef(e)};D.useState=function(e){return Ce.current.useState(e)};D.useSyncExternalStore=function(e,t,n){return Ce.current.useSyncExternalStore(e,t,n)};D.useTransition=function(){return Ce.current.useTransition()};D.version="18.3.1";Pd.exports=D;var z=Pd.exports;const qu=dy(z);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ny=z,Ty=Symbol.for("react.element"),Cy=Symbol.for("react.fragment"),Ly=Object.prototype.hasOwnProperty,Py=Ny.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Iy={key:!0,ref:!0,__self:!0,__source:!0};function zd(e,t,n){var r,o={},i=null,l=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)Ly.call(t,r)&&!Iy.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:Ty,type:e,key:i,ref:l,props:o,_owner:Py.current}}Hi.Fragment=Cy;Hi.jsx=zd;Hi.jsxs=zd;Ld.exports=Hi;var v=Ld.exports,$d={exports:{}},De={},Fd={exports:{}},Dd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,T){var M=A.length;A.push(T);e:for(;0<M;){var H=M-1>>>1,U=A[H];if(0<o(U,T))A[H]=T,A[M]=U,M=H;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var T=A[0],M=A.pop();if(M!==T){A[0]=M;e:for(var H=0,U=A.length,ge=U>>>1;H<ge;){var me=2*(H+1)-1,ct=A[me],Be=me+1,He=A[Be];if(0>o(ct,M))Be<U&&0>o(He,ct)?(A[H]=He,A[Be]=M,H=Be):(A[H]=ct,A[me]=M,H=me);else if(Be<U&&0>o(He,M))A[H]=He,A[Be]=M,H=Be;else break e}}return T}function o(A,T){var M=A.sortIndex-T.sortIndex;return M!==0?M:A.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var a=[],d=[],m=1,s=null,c=3,f=!1,p=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(A){for(var T=n(d);T!==null;){if(T.callback===null)r(d);else if(T.startTime<=A)r(d),T.sortIndex=T.expirationTime,t(a,T);else break;T=n(d)}}function _(A){if(y=!1,x(A),!p)if(n(a)!==null)p=!0,E(N);else{var T=n(d);T!==null&&R(_,T.startTime-A)}}function N(A,T){p=!1,y&&(y=!1,h(k),k=-1),f=!0;var M=c;try{for(x(T),s=n(a);s!==null&&(!(s.expirationTime>T)||A&&!P());){var H=s.callback;if(typeof H=="function"){s.callback=null,c=s.priorityLevel;var U=H(s.expirationTime<=T);T=e.unstable_now(),typeof U=="function"?s.callback=U:s===n(a)&&r(a),x(T)}else r(a);s=n(a)}if(s!==null)var ge=!0;else{var me=n(d);me!==null&&R(_,me.startTime-T),ge=!1}return ge}finally{s=null,c=M,f=!1}}var S=!1,b=null,k=-1,I=5,j=-1;function P(){return!(e.unstable_now()-j<I)}function $(){if(b!==null){var A=e.unstable_now();j=A;var T=!0;try{T=b(!0,A)}finally{T?F():(S=!1,b=null)}}else S=!1}var F;if(typeof g=="function")F=function(){g($)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,C=V.port2;V.port1.onmessage=$,F=function(){C.postMessage(null)}}else F=function(){w($,0)};function E(A){b=A,S||(S=!0,F())}function R(A,T){k=w(function(){A(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){p||f||(p=!0,E(N))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return c},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(A){switch(c){case 1:case 2:case 3:var T=3;break;default:T=c}var M=c;c=T;try{return A()}finally{c=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,T){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var M=c;c=A;try{return T()}finally{c=M}},e.unstable_scheduleCallback=function(A,T,M){var H=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?H+M:H):M=H,A){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=M+U,A={id:m++,callback:T,priorityLevel:A,startTime:M,expirationTime:U,sortIndex:-1},M>H?(A.sortIndex=M,t(d,A),n(a)===null&&A===n(d)&&(y?(h(k),k=-1):y=!0,R(_,M-H))):(A.sortIndex=U,t(a,A),p||f||(p=!0,E(N))),A},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(A){var T=c;return function(){var M=c;c=T;try{return A.apply(this,arguments)}finally{c=M}}}})(Dd);Fd.exports=Dd;var jy=Fd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ry=z,Fe=jy;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vd=new Set,ro={};function zn(e,t){yr(e,t),yr(e+"Capture",t)}function yr(e,t){for(ro[e]=t,e=0;e<t.length;e++)Vd.add(t[e])}var jt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ll=Object.prototype.hasOwnProperty,My=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ku={},Qu={};function Oy(e){return ll.call(Qu,e)?!0:ll.call(Ku,e)?!1:My.test(e)?Qu[e]=!0:(Ku[e]=!0,!1)}function By(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Hy(e,t,n,r){if(t===null||typeof t>"u"||By(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Le(e,t,n,r,o,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ye[e]=new Le(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ye[t]=new Le(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ye[e]=new Le(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ye[e]=new Le(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ye[e]=new Le(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ye[e]=new Le(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ye[e]=new Le(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ye[e]=new Le(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ye[e]=new Le(e,5,!1,e.toLowerCase(),null,!1,!1)});var ya=/[\-:]([a-z])/g;function ga(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ya,ga);ye[t]=new Le(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ya,ga);ye[t]=new Le(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ya,ga);ye[t]=new Le(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ye[e]=new Le(e,1,!1,e.toLowerCase(),null,!1,!1)});ye.xlinkHref=new Le("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ye[e]=new Le(e,1,!1,e.toLowerCase(),null,!0,!0)});function ma(e,t,n,r){var o=ye.hasOwnProperty(t)?ye[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Hy(t,n,o,r)&&(n=null),r||o===null?Oy(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ht=Ry.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Po=Symbol.for("react.element"),Qn=Symbol.for("react.portal"),Xn=Symbol.for("react.fragment"),va=Symbol.for("react.strict_mode"),al=Symbol.for("react.profiler"),Wd=Symbol.for("react.provider"),Gd=Symbol.for("react.context"),wa=Symbol.for("react.forward_ref"),ul=Symbol.for("react.suspense"),cl=Symbol.for("react.suspense_list"),xa=Symbol.for("react.memo"),Kt=Symbol.for("react.lazy"),qd=Symbol.for("react.offscreen"),Xu=Symbol.iterator;function Ir(e){return e===null||typeof e!="object"?null:(e=Xu&&e[Xu]||e["@@iterator"],typeof e=="function"?e:null)}var te=Object.assign,vs;function Dr(e){if(vs===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);vs=t&&t[1]||""}return`
`+vs+e}var ws=!1;function xs(e,t){if(!e||ws)return"";ws=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var o=d.stack.split(`
`),i=r.stack.split(`
`),l=o.length-1,u=i.length-1;1<=l&&0<=u&&o[l]!==i[u];)u--;for(;1<=l&&0<=u;l--,u--)if(o[l]!==i[u]){if(l!==1||u!==1)do if(l--,u--,0>u||o[l]!==i[u]){var a=`
`+o[l].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=l&&0<=u);break}}}finally{ws=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Dr(e):""}function Uy(e){switch(e.tag){case 5:return Dr(e.type);case 16:return Dr("Lazy");case 13:return Dr("Suspense");case 19:return Dr("SuspenseList");case 0:case 2:case 15:return e=xs(e.type,!1),e;case 11:return e=xs(e.type.render,!1),e;case 1:return e=xs(e.type,!0),e;default:return""}}function dl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Xn:return"Fragment";case Qn:return"Portal";case al:return"Profiler";case va:return"StrictMode";case ul:return"Suspense";case cl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Gd:return(e.displayName||"Context")+".Consumer";case Wd:return(e._context.displayName||"Context")+".Provider";case wa:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case xa:return t=e.displayName||null,t!==null?t:dl(e.type)||"Memo";case Kt:t=e._payload,e=e._init;try{return dl(e(t))}catch{}}return null}function zy(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dl(t);case 8:return t===va?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function pn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Kd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $y(e){var t=Kd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(l){r=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Io(e){e._valueTracker||(e._valueTracker=$y(e))}function Qd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Kd(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ai(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function fl(e,t){var n=t.checked;return te({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Zu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=pn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Xd(e,t){t=t.checked,t!=null&&ma(e,"checked",t,!1)}function pl(e,t){Xd(e,t);var n=pn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?hl(e,t.type,n):t.hasOwnProperty("defaultValue")&&hl(e,t.type,pn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Yu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function hl(e,t,n){(t!=="number"||ai(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Vr=Array.isArray;function ar(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+pn(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function yl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return te({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ju(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(L(92));if(Vr(n)){if(1<n.length)throw Error(L(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:pn(n)}}function Zd(e,t){var n=pn(t.value),r=pn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ec(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Yd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Yd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var jo,Jd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(jo=jo||document.createElement("div"),jo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=jo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function oo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var qr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fy=["Webkit","ms","Moz","O"];Object.keys(qr).forEach(function(e){Fy.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),qr[t]=qr[e]})});function ef(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||qr.hasOwnProperty(e)&&qr[e]?(""+t).trim():t+"px"}function tf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=ef(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var Dy=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ml(e,t){if(t){if(Dy[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function vl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wl=null;function _a(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xl=null,ur=null,cr=null;function tc(e){if(e=Ao(e)){if(typeof xl!="function")throw Error(L(280));var t=e.stateNode;t&&(t=Di(t),xl(e.stateNode,e.type,t))}}function nf(e){ur?cr?cr.push(e):cr=[e]:ur=e}function rf(){if(ur){var e=ur,t=cr;if(cr=ur=null,tc(e),t)for(e=0;e<t.length;e++)tc(t[e])}}function of(e,t){return e(t)}function sf(){}var _s=!1;function lf(e,t,n){if(_s)return e(t,n);_s=!0;try{return of(e,t,n)}finally{_s=!1,(ur!==null||cr!==null)&&(sf(),rf())}}function io(e,t){var n=e.stateNode;if(n===null)return null;var r=Di(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(L(231,t,typeof n));return n}var _l=!1;if(jt)try{var jr={};Object.defineProperty(jr,"passive",{get:function(){_l=!0}}),window.addEventListener("test",jr,jr),window.removeEventListener("test",jr,jr)}catch{_l=!1}function Vy(e,t,n,r,o,i,l,u,a){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(m){this.onError(m)}}var Kr=!1,ui=null,ci=!1,El=null,Wy={onError:function(e){Kr=!0,ui=e}};function Gy(e,t,n,r,o,i,l,u,a){Kr=!1,ui=null,Vy.apply(Wy,arguments)}function qy(e,t,n,r,o,i,l,u,a){if(Gy.apply(this,arguments),Kr){if(Kr){var d=ui;Kr=!1,ui=null}else throw Error(L(198));ci||(ci=!0,El=d)}}function $n(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function af(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function nc(e){if($n(e)!==e)throw Error(L(188))}function Ky(e){var t=e.alternate;if(!t){if(t=$n(e),t===null)throw Error(L(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return nc(o),e;if(i===r)return nc(o),t;i=i.sibling}throw Error(L(188))}if(n.return!==r.return)n=o,r=i;else{for(var l=!1,u=o.child;u;){if(u===n){l=!0,n=o,r=i;break}if(u===r){l=!0,r=o,n=i;break}u=u.sibling}if(!l){for(u=i.child;u;){if(u===n){l=!0,n=i,r=o;break}if(u===r){l=!0,r=i,n=o;break}u=u.sibling}if(!l)throw Error(L(189))}}if(n.alternate!==r)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?e:t}function uf(e){return e=Ky(e),e!==null?cf(e):null}function cf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=cf(e);if(t!==null)return t;e=e.sibling}return null}var df=Fe.unstable_scheduleCallback,rc=Fe.unstable_cancelCallback,Qy=Fe.unstable_shouldYield,Xy=Fe.unstable_requestPaint,oe=Fe.unstable_now,Zy=Fe.unstable_getCurrentPriorityLevel,Ea=Fe.unstable_ImmediatePriority,ff=Fe.unstable_UserBlockingPriority,di=Fe.unstable_NormalPriority,Yy=Fe.unstable_LowPriority,pf=Fe.unstable_IdlePriority,Ui=null,xt=null;function Jy(e){if(xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(Ui,e,void 0,(e.current.flags&128)===128)}catch{}}var st=Math.clz32?Math.clz32:ng,eg=Math.log,tg=Math.LN2;function ng(e){return e>>>=0,e===0?32:31-(eg(e)/tg|0)|0}var Ro=64,Mo=4194304;function Wr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function fi(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,l=n&268435455;if(l!==0){var u=l&~o;u!==0?r=Wr(u):(i&=l,i!==0&&(r=Wr(i)))}else l=n&~o,l!==0?r=Wr(l):i!==0&&(r=Wr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-st(t),o=1<<n,r|=e[n],t&=~o;return r}function rg(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function og(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-st(i),u=1<<l,a=o[l];a===-1?(!(u&n)||u&r)&&(o[l]=rg(u,t)):a<=t&&(e.expiredLanes|=u),i&=~u}}function Sl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function hf(){var e=Ro;return Ro<<=1,!(Ro&4194240)&&(Ro=64),e}function Es(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function bo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-st(t),e[t]=n}function ig(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-st(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function Sa(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var q=0;function yf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var gf,ba,mf,vf,wf,bl=!1,Oo=[],rn=null,on=null,sn=null,so=new Map,lo=new Map,Zt=[],sg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function oc(e,t){switch(e){case"focusin":case"focusout":rn=null;break;case"dragenter":case"dragleave":on=null;break;case"mouseover":case"mouseout":sn=null;break;case"pointerover":case"pointerout":so.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lo.delete(t.pointerId)}}function Rr(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=Ao(t),t!==null&&ba(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function lg(e,t,n,r,o){switch(t){case"focusin":return rn=Rr(rn,e,t,n,r,o),!0;case"dragenter":return on=Rr(on,e,t,n,r,o),!0;case"mouseover":return sn=Rr(sn,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return so.set(i,Rr(so.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,lo.set(i,Rr(lo.get(i)||null,e,t,n,r,o)),!0}return!1}function xf(e){var t=An(e.target);if(t!==null){var n=$n(t);if(n!==null){if(t=n.tag,t===13){if(t=af(n),t!==null){e.blockedOn=t,wf(e.priority,function(){mf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Zo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=kl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);wl=r,n.target.dispatchEvent(r),wl=null}else return t=Ao(n),t!==null&&ba(t),e.blockedOn=n,!1;t.shift()}return!0}function ic(e,t,n){Zo(e)&&n.delete(t)}function ag(){bl=!1,rn!==null&&Zo(rn)&&(rn=null),on!==null&&Zo(on)&&(on=null),sn!==null&&Zo(sn)&&(sn=null),so.forEach(ic),lo.forEach(ic)}function Mr(e,t){e.blockedOn===t&&(e.blockedOn=null,bl||(bl=!0,Fe.unstable_scheduleCallback(Fe.unstable_NormalPriority,ag)))}function ao(e){function t(o){return Mr(o,e)}if(0<Oo.length){Mr(Oo[0],e);for(var n=1;n<Oo.length;n++){var r=Oo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(rn!==null&&Mr(rn,e),on!==null&&Mr(on,e),sn!==null&&Mr(sn,e),so.forEach(t),lo.forEach(t),n=0;n<Zt.length;n++)r=Zt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Zt.length&&(n=Zt[0],n.blockedOn===null);)xf(n),n.blockedOn===null&&Zt.shift()}var dr=Ht.ReactCurrentBatchConfig,pi=!0;function ug(e,t,n,r){var o=q,i=dr.transition;dr.transition=null;try{q=1,ka(e,t,n,r)}finally{q=o,dr.transition=i}}function cg(e,t,n,r){var o=q,i=dr.transition;dr.transition=null;try{q=4,ka(e,t,n,r)}finally{q=o,dr.transition=i}}function ka(e,t,n,r){if(pi){var o=kl(e,t,n,r);if(o===null)Is(e,t,r,hi,n),oc(e,r);else if(lg(o,e,t,n,r))r.stopPropagation();else if(oc(e,r),t&4&&-1<sg.indexOf(e)){for(;o!==null;){var i=Ao(o);if(i!==null&&gf(i),i=kl(e,t,n,r),i===null&&Is(e,t,r,hi,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else Is(e,t,r,null,n)}}var hi=null;function kl(e,t,n,r){if(hi=null,e=_a(r),e=An(e),e!==null)if(t=$n(e),t===null)e=null;else if(n=t.tag,n===13){if(e=af(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return hi=e,null}function _f(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zy()){case Ea:return 1;case ff:return 4;case di:case Yy:return 16;case pf:return 536870912;default:return 16}default:return 16}}var Jt=null,Aa=null,Yo=null;function Ef(){if(Yo)return Yo;var e,t=Aa,n=t.length,r,o="value"in Jt?Jt.value:Jt.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===o[i-r];r++);return Yo=o.slice(e,1<r?1-r:void 0)}function Jo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Bo(){return!0}function sc(){return!1}function Ve(e){function t(n,r,o,i,l){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Bo:sc,this.isPropagationStopped=sc,this}return te(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Bo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Bo)},persist:function(){},isPersistent:Bo}),t}var Ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Na=Ve(Ar),ko=te({},Ar,{view:0,detail:0}),dg=Ve(ko),Ss,bs,Or,zi=te({},ko,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ta,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Or&&(Or&&e.type==="mousemove"?(Ss=e.screenX-Or.screenX,bs=e.screenY-Or.screenY):bs=Ss=0,Or=e),Ss)},movementY:function(e){return"movementY"in e?e.movementY:bs}}),lc=Ve(zi),fg=te({},zi,{dataTransfer:0}),pg=Ve(fg),hg=te({},ko,{relatedTarget:0}),ks=Ve(hg),yg=te({},Ar,{animationName:0,elapsedTime:0,pseudoElement:0}),gg=Ve(yg),mg=te({},Ar,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vg=Ve(mg),wg=te({},Ar,{data:0}),ac=Ve(wg),xg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_g={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Eg[e])?!!t[e]:!1}function Ta(){return Sg}var bg=te({},ko,{key:function(e){if(e.key){var t=xg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Jo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_g[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ta,charCode:function(e){return e.type==="keypress"?Jo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Jo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),kg=Ve(bg),Ag=te({},zi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uc=Ve(Ag),Ng=te({},ko,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ta}),Tg=Ve(Ng),Cg=te({},Ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lg=Ve(Cg),Pg=te({},zi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ig=Ve(Pg),jg=[9,13,27,32],Ca=jt&&"CompositionEvent"in window,Qr=null;jt&&"documentMode"in document&&(Qr=document.documentMode);var Rg=jt&&"TextEvent"in window&&!Qr,Sf=jt&&(!Ca||Qr&&8<Qr&&11>=Qr),cc=" ",dc=!1;function bf(e,t){switch(e){case"keyup":return jg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Zn=!1;function Mg(e,t){switch(e){case"compositionend":return kf(t);case"keypress":return t.which!==32?null:(dc=!0,cc);case"textInput":return e=t.data,e===cc&&dc?null:e;default:return null}}function Og(e,t){if(Zn)return e==="compositionend"||!Ca&&bf(e,t)?(e=Ef(),Yo=Aa=Jt=null,Zn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sf&&t.locale!=="ko"?null:t.data;default:return null}}var Bg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Bg[e.type]:t==="textarea"}function Af(e,t,n,r){nf(r),t=yi(t,"onChange"),0<t.length&&(n=new Na("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Xr=null,uo=null;function Hg(e){Bf(e,0)}function $i(e){var t=er(e);if(Qd(t))return e}function Ug(e,t){if(e==="change")return t}var Nf=!1;if(jt){var As;if(jt){var Ns="oninput"in document;if(!Ns){var pc=document.createElement("div");pc.setAttribute("oninput","return;"),Ns=typeof pc.oninput=="function"}As=Ns}else As=!1;Nf=As&&(!document.documentMode||9<document.documentMode)}function hc(){Xr&&(Xr.detachEvent("onpropertychange",Tf),uo=Xr=null)}function Tf(e){if(e.propertyName==="value"&&$i(uo)){var t=[];Af(t,uo,e,_a(e)),lf(Hg,t)}}function zg(e,t,n){e==="focusin"?(hc(),Xr=t,uo=n,Xr.attachEvent("onpropertychange",Tf)):e==="focusout"&&hc()}function $g(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $i(uo)}function Fg(e,t){if(e==="click")return $i(t)}function Dg(e,t){if(e==="input"||e==="change")return $i(t)}function Vg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var at=typeof Object.is=="function"?Object.is:Vg;function co(e,t){if(at(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!ll.call(t,o)||!at(e[o],t[o]))return!1}return!0}function yc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gc(e,t){var n=yc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=yc(n)}}function Cf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Cf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Lf(){for(var e=window,t=ai();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ai(e.document)}return t}function La(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Wg(e){var t=Lf(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Cf(n.ownerDocument.documentElement,n)){if(r!==null&&La(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=gc(n,i);var l=gc(n,r);o&&l&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Gg=jt&&"documentMode"in document&&11>=document.documentMode,Yn=null,Al=null,Zr=null,Nl=!1;function mc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Nl||Yn==null||Yn!==ai(r)||(r=Yn,"selectionStart"in r&&La(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Zr&&co(Zr,r)||(Zr=r,r=yi(Al,"onSelect"),0<r.length&&(t=new Na("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Yn)))}function Ho(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Jn={animationend:Ho("Animation","AnimationEnd"),animationiteration:Ho("Animation","AnimationIteration"),animationstart:Ho("Animation","AnimationStart"),transitionend:Ho("Transition","TransitionEnd")},Ts={},Pf={};jt&&(Pf=document.createElement("div").style,"AnimationEvent"in window||(delete Jn.animationend.animation,delete Jn.animationiteration.animation,delete Jn.animationstart.animation),"TransitionEvent"in window||delete Jn.transitionend.transition);function Fi(e){if(Ts[e])return Ts[e];if(!Jn[e])return e;var t=Jn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Pf)return Ts[e]=t[n];return e}var If=Fi("animationend"),jf=Fi("animationiteration"),Rf=Fi("animationstart"),Mf=Fi("transitionend"),Of=new Map,vc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gn(e,t){Of.set(e,t),zn(t,[e])}for(var Cs=0;Cs<vc.length;Cs++){var Ls=vc[Cs],qg=Ls.toLowerCase(),Kg=Ls[0].toUpperCase()+Ls.slice(1);gn(qg,"on"+Kg)}gn(If,"onAnimationEnd");gn(jf,"onAnimationIteration");gn(Rf,"onAnimationStart");gn("dblclick","onDoubleClick");gn("focusin","onFocus");gn("focusout","onBlur");gn(Mf,"onTransitionEnd");yr("onMouseEnter",["mouseout","mouseover"]);yr("onMouseLeave",["mouseout","mouseover"]);yr("onPointerEnter",["pointerout","pointerover"]);yr("onPointerLeave",["pointerout","pointerover"]);zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zn("onBeforeInput",["compositionend","keypress","textInput","paste"]);zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gr));function wc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,qy(r,t,void 0,e),e.currentTarget=null}function Bf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var l=r.length-1;0<=l;l--){var u=r[l],a=u.instance,d=u.currentTarget;if(u=u.listener,a!==i&&o.isPropagationStopped())break e;wc(o,u,d),i=a}else for(l=0;l<r.length;l++){if(u=r[l],a=u.instance,d=u.currentTarget,u=u.listener,a!==i&&o.isPropagationStopped())break e;wc(o,u,d),i=a}}}if(ci)throw e=El,ci=!1,El=null,e}function Q(e,t){var n=t[Il];n===void 0&&(n=t[Il]=new Set);var r=e+"__bubble";n.has(r)||(Hf(t,e,2,!1),n.add(r))}function Ps(e,t,n){var r=0;t&&(r|=4),Hf(n,e,r,t)}var Uo="_reactListening"+Math.random().toString(36).slice(2);function fo(e){if(!e[Uo]){e[Uo]=!0,Vd.forEach(function(n){n!=="selectionchange"&&(Qg.has(n)||Ps(n,!1,e),Ps(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Uo]||(t[Uo]=!0,Ps("selectionchange",!1,t))}}function Hf(e,t,n,r){switch(_f(t)){case 1:var o=ug;break;case 4:o=cg;break;default:o=ka}n=o.bind(null,t,n,e),o=void 0,!_l||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Is(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var u=r.stateNode.containerInfo;if(u===o||u.nodeType===8&&u.parentNode===o)break;if(l===4)for(l=r.return;l!==null;){var a=l.tag;if((a===3||a===4)&&(a=l.stateNode.containerInfo,a===o||a.nodeType===8&&a.parentNode===o))return;l=l.return}for(;u!==null;){if(l=An(u),l===null)return;if(a=l.tag,a===5||a===6){r=i=l;continue e}u=u.parentNode}}r=r.return}lf(function(){var d=i,m=_a(n),s=[];e:{var c=Of.get(e);if(c!==void 0){var f=Na,p=e;switch(e){case"keypress":if(Jo(n)===0)break e;case"keydown":case"keyup":f=kg;break;case"focusin":p="focus",f=ks;break;case"focusout":p="blur",f=ks;break;case"beforeblur":case"afterblur":f=ks;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=lc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=pg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Tg;break;case If:case jf:case Rf:f=gg;break;case Mf:f=Lg;break;case"scroll":f=dg;break;case"wheel":f=Ig;break;case"copy":case"cut":case"paste":f=vg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=uc}var y=(t&4)!==0,w=!y&&e==="scroll",h=y?c!==null?c+"Capture":null:c;y=[];for(var g=d,x;g!==null;){x=g;var _=x.stateNode;if(x.tag===5&&_!==null&&(x=_,h!==null&&(_=io(g,h),_!=null&&y.push(po(g,_,x)))),w)break;g=g.return}0<y.length&&(c=new f(c,p,null,n,m),s.push({event:c,listeners:y}))}}if(!(t&7)){e:{if(c=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",c&&n!==wl&&(p=n.relatedTarget||n.fromElement)&&(An(p)||p[Rt]))break e;if((f||c)&&(c=m.window===m?m:(c=m.ownerDocument)?c.defaultView||c.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=d,p=p?An(p):null,p!==null&&(w=$n(p),p!==w||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=d),f!==p)){if(y=lc,_="onMouseLeave",h="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(y=uc,_="onPointerLeave",h="onPointerEnter",g="pointer"),w=f==null?c:er(f),x=p==null?c:er(p),c=new y(_,g+"leave",f,n,m),c.target=w,c.relatedTarget=x,_=null,An(m)===d&&(y=new y(h,g+"enter",p,n,m),y.target=x,y.relatedTarget=w,_=y),w=_,f&&p)t:{for(y=f,h=p,g=0,x=y;x;x=Gn(x))g++;for(x=0,_=h;_;_=Gn(_))x++;for(;0<g-x;)y=Gn(y),g--;for(;0<x-g;)h=Gn(h),x--;for(;g--;){if(y===h||h!==null&&y===h.alternate)break t;y=Gn(y),h=Gn(h)}y=null}else y=null;f!==null&&xc(s,c,f,y,!1),p!==null&&w!==null&&xc(s,w,p,y,!0)}}e:{if(c=d?er(d):window,f=c.nodeName&&c.nodeName.toLowerCase(),f==="select"||f==="input"&&c.type==="file")var N=Ug;else if(fc(c))if(Nf)N=Dg;else{N=$g;var S=zg}else(f=c.nodeName)&&f.toLowerCase()==="input"&&(c.type==="checkbox"||c.type==="radio")&&(N=Fg);if(N&&(N=N(e,d))){Af(s,N,n,m);break e}S&&S(e,c,d),e==="focusout"&&(S=c._wrapperState)&&S.controlled&&c.type==="number"&&hl(c,"number",c.value)}switch(S=d?er(d):window,e){case"focusin":(fc(S)||S.contentEditable==="true")&&(Yn=S,Al=d,Zr=null);break;case"focusout":Zr=Al=Yn=null;break;case"mousedown":Nl=!0;break;case"contextmenu":case"mouseup":case"dragend":Nl=!1,mc(s,n,m);break;case"selectionchange":if(Gg)break;case"keydown":case"keyup":mc(s,n,m)}var b;if(Ca)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Zn?bf(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(Sf&&n.locale!=="ko"&&(Zn||k!=="onCompositionStart"?k==="onCompositionEnd"&&Zn&&(b=Ef()):(Jt=m,Aa="value"in Jt?Jt.value:Jt.textContent,Zn=!0)),S=yi(d,k),0<S.length&&(k=new ac(k,e,null,n,m),s.push({event:k,listeners:S}),b?k.data=b:(b=kf(n),b!==null&&(k.data=b)))),(b=Rg?Mg(e,n):Og(e,n))&&(d=yi(d,"onBeforeInput"),0<d.length&&(m=new ac("onBeforeInput","beforeinput",null,n,m),s.push({event:m,listeners:d}),m.data=b))}Bf(s,t)})}function po(e,t,n){return{instance:e,listener:t,currentTarget:n}}function yi(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=io(e,n),i!=null&&r.unshift(po(e,i,o)),i=io(e,t),i!=null&&r.push(po(e,i,o))),e=e.return}return r}function Gn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function xc(e,t,n,r,o){for(var i=t._reactName,l=[];n!==null&&n!==r;){var u=n,a=u.alternate,d=u.stateNode;if(a!==null&&a===r)break;u.tag===5&&d!==null&&(u=d,o?(a=io(n,i),a!=null&&l.unshift(po(n,a,u))):o||(a=io(n,i),a!=null&&l.push(po(n,a,u)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var Xg=/\r\n?/g,Zg=/\u0000|\uFFFD/g;function _c(e){return(typeof e=="string"?e:""+e).replace(Xg,`
`).replace(Zg,"")}function zo(e,t,n){if(t=_c(t),_c(e)!==t&&n)throw Error(L(425))}function gi(){}var Tl=null,Cl=null;function Ll(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Pl=typeof setTimeout=="function"?setTimeout:void 0,Yg=typeof clearTimeout=="function"?clearTimeout:void 0,Ec=typeof Promise=="function"?Promise:void 0,Jg=typeof queueMicrotask=="function"?queueMicrotask:typeof Ec<"u"?function(e){return Ec.resolve(null).then(e).catch(em)}:Pl;function em(e){setTimeout(function(){throw e})}function js(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),ao(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);ao(t)}function ln(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Sc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Nr=Math.random().toString(36).slice(2),gt="__reactFiber$"+Nr,ho="__reactProps$"+Nr,Rt="__reactContainer$"+Nr,Il="__reactEvents$"+Nr,tm="__reactListeners$"+Nr,nm="__reactHandles$"+Nr;function An(e){var t=e[gt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Rt]||n[gt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Sc(e);e!==null;){if(n=e[gt])return n;e=Sc(e)}return t}e=n,n=e.parentNode}return null}function Ao(e){return e=e[gt]||e[Rt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function er(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function Di(e){return e[ho]||null}var jl=[],tr=-1;function mn(e){return{current:e}}function X(e){0>tr||(e.current=jl[tr],jl[tr]=null,tr--)}function K(e,t){tr++,jl[tr]=e.current,e.current=t}var hn={},Ae=mn(hn),je=mn(!1),jn=hn;function gr(e,t){var n=e.type.contextTypes;if(!n)return hn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Re(e){return e=e.childContextTypes,e!=null}function mi(){X(je),X(Ae)}function bc(e,t,n){if(Ae.current!==hn)throw Error(L(168));K(Ae,t),K(je,n)}function Uf(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(L(108,zy(e)||"Unknown",o));return te({},n,r)}function vi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hn,jn=Ae.current,K(Ae,e),K(je,je.current),!0}function kc(e,t,n){var r=e.stateNode;if(!r)throw Error(L(169));n?(e=Uf(e,t,jn),r.__reactInternalMemoizedMergedChildContext=e,X(je),X(Ae),K(Ae,e)):X(je),K(je,n)}var kt=null,Vi=!1,Rs=!1;function zf(e){kt===null?kt=[e]:kt.push(e)}function rm(e){Vi=!0,zf(e)}function vn(){if(!Rs&&kt!==null){Rs=!0;var e=0,t=q;try{var n=kt;for(q=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}kt=null,Vi=!1}catch(o){throw kt!==null&&(kt=kt.slice(e+1)),df(Ea,vn),o}finally{q=t,Rs=!1}}return null}var nr=[],rr=0,wi=null,xi=0,qe=[],Ke=0,Rn=null,Tt=1,Ct="";function En(e,t){nr[rr++]=xi,nr[rr++]=wi,wi=e,xi=t}function $f(e,t,n){qe[Ke++]=Tt,qe[Ke++]=Ct,qe[Ke++]=Rn,Rn=e;var r=Tt;e=Ct;var o=32-st(r)-1;r&=~(1<<o),n+=1;var i=32-st(t)+o;if(30<i){var l=o-o%5;i=(r&(1<<l)-1).toString(32),r>>=l,o-=l,Tt=1<<32-st(t)+o|n<<o|r,Ct=i+e}else Tt=1<<i|n<<o|r,Ct=e}function Pa(e){e.return!==null&&(En(e,1),$f(e,1,0))}function Ia(e){for(;e===wi;)wi=nr[--rr],nr[rr]=null,xi=nr[--rr],nr[rr]=null;for(;e===Rn;)Rn=qe[--Ke],qe[Ke]=null,Ct=qe[--Ke],qe[Ke]=null,Tt=qe[--Ke],qe[Ke]=null}var $e=null,ze=null,Y=!1,it=null;function Ff(e,t){var n=Qe(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ac(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,$e=e,ze=ln(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,$e=e,ze=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Rn!==null?{id:Tt,overflow:Ct}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Qe(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,$e=e,ze=null,!0):!1;default:return!1}}function Rl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ml(e){if(Y){var t=ze;if(t){var n=t;if(!Ac(e,t)){if(Rl(e))throw Error(L(418));t=ln(n.nextSibling);var r=$e;t&&Ac(e,t)?Ff(r,n):(e.flags=e.flags&-4097|2,Y=!1,$e=e)}}else{if(Rl(e))throw Error(L(418));e.flags=e.flags&-4097|2,Y=!1,$e=e}}}function Nc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;$e=e}function $o(e){if(e!==$e)return!1;if(!Y)return Nc(e),Y=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ll(e.type,e.memoizedProps)),t&&(t=ze)){if(Rl(e))throw Df(),Error(L(418));for(;t;)Ff(e,t),t=ln(t.nextSibling)}if(Nc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ze=ln(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ze=null}}else ze=$e?ln(e.stateNode.nextSibling):null;return!0}function Df(){for(var e=ze;e;)e=ln(e.nextSibling)}function mr(){ze=$e=null,Y=!1}function ja(e){it===null?it=[e]:it.push(e)}var om=Ht.ReactCurrentBatchConfig;function Br(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(L(309));var r=n.stateNode}if(!r)throw Error(L(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var u=o.refs;l===null?delete u[i]:u[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(L(284));if(!n._owner)throw Error(L(290,e))}return e}function Fo(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Tc(e){var t=e._init;return t(e._payload)}function Vf(e){function t(h,g){if(e){var x=h.deletions;x===null?(h.deletions=[g],h.flags|=16):x.push(g)}}function n(h,g){if(!e)return null;for(;g!==null;)t(h,g),g=g.sibling;return null}function r(h,g){for(h=new Map;g!==null;)g.key!==null?h.set(g.key,g):h.set(g.index,g),g=g.sibling;return h}function o(h,g){return h=dn(h,g),h.index=0,h.sibling=null,h}function i(h,g,x){return h.index=x,e?(x=h.alternate,x!==null?(x=x.index,x<g?(h.flags|=2,g):x):(h.flags|=2,g)):(h.flags|=1048576,g)}function l(h){return e&&h.alternate===null&&(h.flags|=2),h}function u(h,g,x,_){return g===null||g.tag!==6?(g=$s(x,h.mode,_),g.return=h,g):(g=o(g,x),g.return=h,g)}function a(h,g,x,_){var N=x.type;return N===Xn?m(h,g,x.props.children,_,x.key):g!==null&&(g.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Kt&&Tc(N)===g.type)?(_=o(g,x.props),_.ref=Br(h,g,x),_.return=h,_):(_=si(x.type,x.key,x.props,null,h.mode,_),_.ref=Br(h,g,x),_.return=h,_)}function d(h,g,x,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==x.containerInfo||g.stateNode.implementation!==x.implementation?(g=Fs(x,h.mode,_),g.return=h,g):(g=o(g,x.children||[]),g.return=h,g)}function m(h,g,x,_,N){return g===null||g.tag!==7?(g=Pn(x,h.mode,_,N),g.return=h,g):(g=o(g,x),g.return=h,g)}function s(h,g,x){if(typeof g=="string"&&g!==""||typeof g=="number")return g=$s(""+g,h.mode,x),g.return=h,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Po:return x=si(g.type,g.key,g.props,null,h.mode,x),x.ref=Br(h,null,g),x.return=h,x;case Qn:return g=Fs(g,h.mode,x),g.return=h,g;case Kt:var _=g._init;return s(h,_(g._payload),x)}if(Vr(g)||Ir(g))return g=Pn(g,h.mode,x,null),g.return=h,g;Fo(h,g)}return null}function c(h,g,x,_){var N=g!==null?g.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return N!==null?null:u(h,g,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Po:return x.key===N?a(h,g,x,_):null;case Qn:return x.key===N?d(h,g,x,_):null;case Kt:return N=x._init,c(h,g,N(x._payload),_)}if(Vr(x)||Ir(x))return N!==null?null:m(h,g,x,_,null);Fo(h,x)}return null}function f(h,g,x,_,N){if(typeof _=="string"&&_!==""||typeof _=="number")return h=h.get(x)||null,u(g,h,""+_,N);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Po:return h=h.get(_.key===null?x:_.key)||null,a(g,h,_,N);case Qn:return h=h.get(_.key===null?x:_.key)||null,d(g,h,_,N);case Kt:var S=_._init;return f(h,g,x,S(_._payload),N)}if(Vr(_)||Ir(_))return h=h.get(x)||null,m(g,h,_,N,null);Fo(g,_)}return null}function p(h,g,x,_){for(var N=null,S=null,b=g,k=g=0,I=null;b!==null&&k<x.length;k++){b.index>k?(I=b,b=null):I=b.sibling;var j=c(h,b,x[k],_);if(j===null){b===null&&(b=I);break}e&&b&&j.alternate===null&&t(h,b),g=i(j,g,k),S===null?N=j:S.sibling=j,S=j,b=I}if(k===x.length)return n(h,b),Y&&En(h,k),N;if(b===null){for(;k<x.length;k++)b=s(h,x[k],_),b!==null&&(g=i(b,g,k),S===null?N=b:S.sibling=b,S=b);return Y&&En(h,k),N}for(b=r(h,b);k<x.length;k++)I=f(b,h,k,x[k],_),I!==null&&(e&&I.alternate!==null&&b.delete(I.key===null?k:I.key),g=i(I,g,k),S===null?N=I:S.sibling=I,S=I);return e&&b.forEach(function(P){return t(h,P)}),Y&&En(h,k),N}function y(h,g,x,_){var N=Ir(x);if(typeof N!="function")throw Error(L(150));if(x=N.call(x),x==null)throw Error(L(151));for(var S=N=null,b=g,k=g=0,I=null,j=x.next();b!==null&&!j.done;k++,j=x.next()){b.index>k?(I=b,b=null):I=b.sibling;var P=c(h,b,j.value,_);if(P===null){b===null&&(b=I);break}e&&b&&P.alternate===null&&t(h,b),g=i(P,g,k),S===null?N=P:S.sibling=P,S=P,b=I}if(j.done)return n(h,b),Y&&En(h,k),N;if(b===null){for(;!j.done;k++,j=x.next())j=s(h,j.value,_),j!==null&&(g=i(j,g,k),S===null?N=j:S.sibling=j,S=j);return Y&&En(h,k),N}for(b=r(h,b);!j.done;k++,j=x.next())j=f(b,h,k,j.value,_),j!==null&&(e&&j.alternate!==null&&b.delete(j.key===null?k:j.key),g=i(j,g,k),S===null?N=j:S.sibling=j,S=j);return e&&b.forEach(function($){return t(h,$)}),Y&&En(h,k),N}function w(h,g,x,_){if(typeof x=="object"&&x!==null&&x.type===Xn&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Po:e:{for(var N=x.key,S=g;S!==null;){if(S.key===N){if(N=x.type,N===Xn){if(S.tag===7){n(h,S.sibling),g=o(S,x.props.children),g.return=h,h=g;break e}}else if(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Kt&&Tc(N)===S.type){n(h,S.sibling),g=o(S,x.props),g.ref=Br(h,S,x),g.return=h,h=g;break e}n(h,S);break}else t(h,S);S=S.sibling}x.type===Xn?(g=Pn(x.props.children,h.mode,_,x.key),g.return=h,h=g):(_=si(x.type,x.key,x.props,null,h.mode,_),_.ref=Br(h,g,x),_.return=h,h=_)}return l(h);case Qn:e:{for(S=x.key;g!==null;){if(g.key===S)if(g.tag===4&&g.stateNode.containerInfo===x.containerInfo&&g.stateNode.implementation===x.implementation){n(h,g.sibling),g=o(g,x.children||[]),g.return=h,h=g;break e}else{n(h,g);break}else t(h,g);g=g.sibling}g=Fs(x,h.mode,_),g.return=h,h=g}return l(h);case Kt:return S=x._init,w(h,g,S(x._payload),_)}if(Vr(x))return p(h,g,x,_);if(Ir(x))return y(h,g,x,_);Fo(h,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,g!==null&&g.tag===6?(n(h,g.sibling),g=o(g,x),g.return=h,h=g):(n(h,g),g=$s(x,h.mode,_),g.return=h,h=g),l(h)):n(h,g)}return w}var vr=Vf(!0),Wf=Vf(!1),_i=mn(null),Ei=null,or=null,Ra=null;function Ma(){Ra=or=Ei=null}function Oa(e){var t=_i.current;X(_i),e._currentValue=t}function Ol(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function fr(e,t){Ei=e,Ra=or=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ie=!0),e.firstContext=null)}function Ze(e){var t=e._currentValue;if(Ra!==e)if(e={context:e,memoizedValue:t,next:null},or===null){if(Ei===null)throw Error(L(308));or=e,Ei.dependencies={lanes:0,firstContext:e}}else or=or.next=e;return t}var Nn=null;function Ba(e){Nn===null?Nn=[e]:Nn.push(e)}function Gf(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Ba(t)):(n.next=o.next,o.next=n),t.interleaved=n,Mt(e,r)}function Mt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Qt=!1;function Ha(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function an(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,W&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Mt(e,n)}return o=r.interleaved,o===null?(t.next=t,Ba(r)):(t.next=o.next,o.next=t),r.interleaved=t,Mt(e,n)}function ei(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Sa(e,n)}}function Cc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Si(e,t,n,r){var o=e.updateQueue;Qt=!1;var i=o.firstBaseUpdate,l=o.lastBaseUpdate,u=o.shared.pending;if(u!==null){o.shared.pending=null;var a=u,d=a.next;a.next=null,l===null?i=d:l.next=d,l=a;var m=e.alternate;m!==null&&(m=m.updateQueue,u=m.lastBaseUpdate,u!==l&&(u===null?m.firstBaseUpdate=d:u.next=d,m.lastBaseUpdate=a))}if(i!==null){var s=o.baseState;l=0,m=d=a=null,u=i;do{var c=u.lane,f=u.eventTime;if((r&c)===c){m!==null&&(m=m.next={eventTime:f,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,y=u;switch(c=t,f=n,y.tag){case 1:if(p=y.payload,typeof p=="function"){s=p.call(f,s,c);break e}s=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=y.payload,c=typeof p=="function"?p.call(f,s,c):p,c==null)break e;s=te({},s,c);break e;case 2:Qt=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,c=o.effects,c===null?o.effects=[u]:c.push(u))}else f={eventTime:f,lane:c,tag:u.tag,payload:u.payload,callback:u.callback,next:null},m===null?(d=m=f,a=s):m=m.next=f,l|=c;if(u=u.next,u===null){if(u=o.shared.pending,u===null)break;c=u,u=c.next,c.next=null,o.lastBaseUpdate=c,o.shared.pending=null}}while(!0);if(m===null&&(a=s),o.baseState=a,o.firstBaseUpdate=d,o.lastBaseUpdate=m,t=o.shared.interleaved,t!==null){o=t;do l|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);On|=l,e.lanes=l,e.memoizedState=s}}function Lc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(L(191,o));o.call(r)}}}var No={},_t=mn(No),yo=mn(No),go=mn(No);function Tn(e){if(e===No)throw Error(L(174));return e}function Ua(e,t){switch(K(go,t),K(yo,e),K(_t,No),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:gl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=gl(t,e)}X(_t),K(_t,t)}function wr(){X(_t),X(yo),X(go)}function Kf(e){Tn(go.current);var t=Tn(_t.current),n=gl(t,e.type);t!==n&&(K(yo,e),K(_t,n))}function za(e){yo.current===e&&(X(_t),X(yo))}var J=mn(0);function bi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ms=[];function $a(){for(var e=0;e<Ms.length;e++)Ms[e]._workInProgressVersionPrimary=null;Ms.length=0}var ti=Ht.ReactCurrentDispatcher,Os=Ht.ReactCurrentBatchConfig,Mn=0,ee=null,le=null,ue=null,ki=!1,Yr=!1,mo=0,im=0;function ve(){throw Error(L(321))}function Fa(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!at(e[n],t[n]))return!1;return!0}function Da(e,t,n,r,o,i){if(Mn=i,ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ti.current=e===null||e.memoizedState===null?um:cm,e=n(r,o),Yr){i=0;do{if(Yr=!1,mo=0,25<=i)throw Error(L(301));i+=1,ue=le=null,t.updateQueue=null,ti.current=dm,e=n(r,o)}while(Yr)}if(ti.current=Ai,t=le!==null&&le.next!==null,Mn=0,ue=le=ee=null,ki=!1,t)throw Error(L(300));return e}function Va(){var e=mo!==0;return mo=0,e}function yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ue===null?ee.memoizedState=ue=e:ue=ue.next=e,ue}function Ye(){if(le===null){var e=ee.alternate;e=e!==null?e.memoizedState:null}else e=le.next;var t=ue===null?ee.memoizedState:ue.next;if(t!==null)ue=t,le=e;else{if(e===null)throw Error(L(310));le=e,e={memoizedState:le.memoizedState,baseState:le.baseState,baseQueue:le.baseQueue,queue:le.queue,next:null},ue===null?ee.memoizedState=ue=e:ue=ue.next=e}return ue}function vo(e,t){return typeof t=="function"?t(e):t}function Bs(e){var t=Ye(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var r=le,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var l=o.next;o.next=i.next,i.next=l}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var u=l=null,a=null,d=i;do{var m=d.lane;if((Mn&m)===m)a!==null&&(a=a.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var s={lane:m,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};a===null?(u=a=s,l=r):a=a.next=s,ee.lanes|=m,On|=m}d=d.next}while(d!==null&&d!==i);a===null?l=r:a.next=u,at(r,t.memoizedState)||(Ie=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,ee.lanes|=i,On|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Hs(e){var t=Ye(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var l=o=o.next;do i=e(i,l.action),l=l.next;while(l!==o);at(i,t.memoizedState)||(Ie=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Qf(){}function Xf(e,t){var n=ee,r=Ye(),o=t(),i=!at(r.memoizedState,o);if(i&&(r.memoizedState=o,Ie=!0),r=r.queue,Wa(Jf.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||ue!==null&&ue.memoizedState.tag&1){if(n.flags|=2048,wo(9,Yf.bind(null,n,r,o,t),void 0,null),de===null)throw Error(L(349));Mn&30||Zf(n,t,o)}return o}function Zf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ee.updateQueue,t===null?(t={lastEffect:null,stores:null},ee.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Yf(e,t,n,r){t.value=n,t.getSnapshot=r,ep(t)&&tp(e)}function Jf(e,t,n){return n(function(){ep(t)&&tp(e)})}function ep(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!at(e,n)}catch{return!0}}function tp(e){var t=Mt(e,1);t!==null&&lt(t,e,1,-1)}function Pc(e){var t=yt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vo,lastRenderedState:e},t.queue=e,e=e.dispatch=am.bind(null,ee,e),[t.memoizedState,e]}function wo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ee.updateQueue,t===null?(t={lastEffect:null,stores:null},ee.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function np(){return Ye().memoizedState}function ni(e,t,n,r){var o=yt();ee.flags|=e,o.memoizedState=wo(1|t,n,void 0,r===void 0?null:r)}function Wi(e,t,n,r){var o=Ye();r=r===void 0?null:r;var i=void 0;if(le!==null){var l=le.memoizedState;if(i=l.destroy,r!==null&&Fa(r,l.deps)){o.memoizedState=wo(t,n,i,r);return}}ee.flags|=e,o.memoizedState=wo(1|t,n,i,r)}function Ic(e,t){return ni(8390656,8,e,t)}function Wa(e,t){return Wi(2048,8,e,t)}function rp(e,t){return Wi(4,2,e,t)}function op(e,t){return Wi(4,4,e,t)}function ip(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function sp(e,t,n){return n=n!=null?n.concat([e]):null,Wi(4,4,ip.bind(null,t,e),n)}function Ga(){}function lp(e,t){var n=Ye();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Fa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ap(e,t){var n=Ye();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Fa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function up(e,t,n){return Mn&21?(at(n,t)||(n=hf(),ee.lanes|=n,On|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ie=!0),e.memoizedState=n)}function sm(e,t){var n=q;q=n!==0&&4>n?n:4,e(!0);var r=Os.transition;Os.transition={};try{e(!1),t()}finally{q=n,Os.transition=r}}function cp(){return Ye().memoizedState}function lm(e,t,n){var r=cn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},dp(e))fp(t,n);else if(n=Gf(e,t,n,r),n!==null){var o=Te();lt(n,e,r,o),pp(n,t,r)}}function am(e,t,n){var r=cn(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(dp(e))fp(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,u=i(l,n);if(o.hasEagerState=!0,o.eagerState=u,at(u,l)){var a=t.interleaved;a===null?(o.next=o,Ba(t)):(o.next=a.next,a.next=o),t.interleaved=o;return}}catch{}finally{}n=Gf(e,t,o,r),n!==null&&(o=Te(),lt(n,e,r,o),pp(n,t,r))}}function dp(e){var t=e.alternate;return e===ee||t!==null&&t===ee}function fp(e,t){Yr=ki=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function pp(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Sa(e,n)}}var Ai={readContext:Ze,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useInsertionEffect:ve,useLayoutEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useMutableSource:ve,useSyncExternalStore:ve,useId:ve,unstable_isNewReconciler:!1},um={readContext:Ze,useCallback:function(e,t){return yt().memoizedState=[e,t===void 0?null:t],e},useContext:Ze,useEffect:Ic,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ni(4194308,4,ip.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ni(4194308,4,e,t)},useInsertionEffect:function(e,t){return ni(4,2,e,t)},useMemo:function(e,t){var n=yt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=yt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=lm.bind(null,ee,e),[r.memoizedState,e]},useRef:function(e){var t=yt();return e={current:e},t.memoizedState=e},useState:Pc,useDebugValue:Ga,useDeferredValue:function(e){return yt().memoizedState=e},useTransition:function(){var e=Pc(!1),t=e[0];return e=sm.bind(null,e[1]),yt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ee,o=yt();if(Y){if(n===void 0)throw Error(L(407));n=n()}else{if(n=t(),de===null)throw Error(L(349));Mn&30||Zf(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,Ic(Jf.bind(null,r,i,e),[e]),r.flags|=2048,wo(9,Yf.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=yt(),t=de.identifierPrefix;if(Y){var n=Ct,r=Tt;n=(r&~(1<<32-st(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=mo++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=im++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},cm={readContext:Ze,useCallback:lp,useContext:Ze,useEffect:Wa,useImperativeHandle:sp,useInsertionEffect:rp,useLayoutEffect:op,useMemo:ap,useReducer:Bs,useRef:np,useState:function(){return Bs(vo)},useDebugValue:Ga,useDeferredValue:function(e){var t=Ye();return up(t,le.memoizedState,e)},useTransition:function(){var e=Bs(vo)[0],t=Ye().memoizedState;return[e,t]},useMutableSource:Qf,useSyncExternalStore:Xf,useId:cp,unstable_isNewReconciler:!1},dm={readContext:Ze,useCallback:lp,useContext:Ze,useEffect:Wa,useImperativeHandle:sp,useInsertionEffect:rp,useLayoutEffect:op,useMemo:ap,useReducer:Hs,useRef:np,useState:function(){return Hs(vo)},useDebugValue:Ga,useDeferredValue:function(e){var t=Ye();return le===null?t.memoizedState=e:up(t,le.memoizedState,e)},useTransition:function(){var e=Hs(vo)[0],t=Ye().memoizedState;return[e,t]},useMutableSource:Qf,useSyncExternalStore:Xf,useId:cp,unstable_isNewReconciler:!1};function rt(e,t){if(e&&e.defaultProps){t=te({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Bl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:te({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Gi={isMounted:function(e){return(e=e._reactInternals)?$n(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Te(),o=cn(e),i=Pt(r,o);i.payload=t,n!=null&&(i.callback=n),t=an(e,i,o),t!==null&&(lt(t,e,o,r),ei(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Te(),o=cn(e),i=Pt(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=an(e,i,o),t!==null&&(lt(t,e,o,r),ei(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Te(),r=cn(e),o=Pt(n,r);o.tag=2,t!=null&&(o.callback=t),t=an(e,o,r),t!==null&&(lt(t,e,r,n),ei(t,e,r))}};function jc(e,t,n,r,o,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,l):t.prototype&&t.prototype.isPureReactComponent?!co(n,r)||!co(o,i):!0}function hp(e,t,n){var r=!1,o=hn,i=t.contextType;return typeof i=="object"&&i!==null?i=Ze(i):(o=Re(t)?jn:Ae.current,r=t.contextTypes,i=(r=r!=null)?gr(e,o):hn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Gi,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function Rc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Gi.enqueueReplaceState(t,t.state,null)}function Hl(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Ha(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=Ze(i):(i=Re(t)?jn:Ae.current,o.context=gr(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Bl(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Gi.enqueueReplaceState(o,o.state,null),Si(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function xr(e,t){try{var n="",r=t;do n+=Uy(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function Us(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ul(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var fm=typeof WeakMap=="function"?WeakMap:Map;function yp(e,t,n){n=Pt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ti||(Ti=!0,Ql=r),Ul(e,t)},n}function gp(e,t,n){n=Pt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Ul(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ul(e,t),typeof r!="function"&&(un===null?un=new Set([this]):un.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function Mc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new fm;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Am.bind(null,e,t,n),t.then(e,e))}function Oc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Bc(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Pt(-1,1),t.tag=2,an(n,t,1))),n.lanes|=1),e)}var pm=Ht.ReactCurrentOwner,Ie=!1;function Ne(e,t,n,r){t.child=e===null?Wf(t,null,n,r):vr(t,e.child,n,r)}function Hc(e,t,n,r,o){n=n.render;var i=t.ref;return fr(t,o),r=Da(e,t,n,r,i,o),n=Va(),e!==null&&!Ie?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ot(e,t,o)):(Y&&n&&Pa(t),t.flags|=1,Ne(e,t,r,o),t.child)}function Uc(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!eu(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,mp(e,t,i,r,o)):(e=si(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:co,n(l,r)&&e.ref===t.ref)return Ot(e,t,o)}return t.flags|=1,e=dn(i,r),e.ref=t.ref,e.return=t,t.child=e}function mp(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(co(i,r)&&e.ref===t.ref)if(Ie=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(Ie=!0);else return t.lanes=e.lanes,Ot(e,t,o)}return zl(e,t,n,r,o)}function vp(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},K(sr,Ue),Ue|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,K(sr,Ue),Ue|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,K(sr,Ue),Ue|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,K(sr,Ue),Ue|=r;return Ne(e,t,o,n),t.child}function wp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function zl(e,t,n,r,o){var i=Re(n)?jn:Ae.current;return i=gr(t,i),fr(t,o),n=Da(e,t,n,r,i,o),r=Va(),e!==null&&!Ie?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ot(e,t,o)):(Y&&r&&Pa(t),t.flags|=1,Ne(e,t,n,o),t.child)}function zc(e,t,n,r,o){if(Re(n)){var i=!0;vi(t)}else i=!1;if(fr(t,o),t.stateNode===null)ri(e,t),hp(t,n,r),Hl(t,n,r,o),r=!0;else if(e===null){var l=t.stateNode,u=t.memoizedProps;l.props=u;var a=l.context,d=n.contextType;typeof d=="object"&&d!==null?d=Ze(d):(d=Re(n)?jn:Ae.current,d=gr(t,d));var m=n.getDerivedStateFromProps,s=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function";s||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==r||a!==d)&&Rc(t,l,r,d),Qt=!1;var c=t.memoizedState;l.state=c,Si(t,r,l,o),a=t.memoizedState,u!==r||c!==a||je.current||Qt?(typeof m=="function"&&(Bl(t,n,m,r),a=t.memoizedState),(u=Qt||jc(t,n,u,r,c,a,d))?(s||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),l.props=r,l.state=a,l.context=d,r=u):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,qf(e,t),u=t.memoizedProps,d=t.type===t.elementType?u:rt(t.type,u),l.props=d,s=t.pendingProps,c=l.context,a=n.contextType,typeof a=="object"&&a!==null?a=Ze(a):(a=Re(n)?jn:Ae.current,a=gr(t,a));var f=n.getDerivedStateFromProps;(m=typeof f=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==s||c!==a)&&Rc(t,l,r,a),Qt=!1,c=t.memoizedState,l.state=c,Si(t,r,l,o);var p=t.memoizedState;u!==s||c!==p||je.current||Qt?(typeof f=="function"&&(Bl(t,n,f,r),p=t.memoizedState),(d=Qt||jc(t,n,d,r,c,p,a)||!1)?(m||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,p,a),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,p,a)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&c===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&c===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),l.props=r,l.state=p,l.context=a,r=d):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&c===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&c===e.memoizedState||(t.flags|=1024),r=!1)}return $l(e,t,n,r,i,o)}function $l(e,t,n,r,o,i){wp(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return o&&kc(t,n,!1),Ot(e,t,i);r=t.stateNode,pm.current=t;var u=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=vr(t,e.child,null,i),t.child=vr(t,null,u,i)):Ne(e,t,u,i),t.memoizedState=r.state,o&&kc(t,n,!0),t.child}function xp(e){var t=e.stateNode;t.pendingContext?bc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&bc(e,t.context,!1),Ua(e,t.containerInfo)}function $c(e,t,n,r,o){return mr(),ja(o),t.flags|=256,Ne(e,t,n,r),t.child}var Fl={dehydrated:null,treeContext:null,retryLane:0};function Dl(e){return{baseLanes:e,cachePool:null,transitions:null}}function _p(e,t,n){var r=t.pendingProps,o=J.current,i=!1,l=(t.flags&128)!==0,u;if((u=l)||(u=e!==null&&e.memoizedState===null?!1:(o&2)!==0),u?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),K(J,o&1),e===null)return Ml(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,i?(r=t.mode,i=t.child,l={mode:"hidden",children:l},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=Qi(l,r,0,null),e=Pn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Dl(n),t.memoizedState=Fl,e):qa(t,l));if(o=e.memoizedState,o!==null&&(u=o.dehydrated,u!==null))return hm(e,t,l,r,u,o,n);if(i){i=r.fallback,l=t.mode,o=e.child,u=o.sibling;var a={mode:"hidden",children:r.children};return!(l&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=dn(o,a),r.subtreeFlags=o.subtreeFlags&14680064),u!==null?i=dn(u,i):(i=Pn(i,l,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,l=e.child.memoizedState,l=l===null?Dl(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=Fl,r}return i=e.child,e=i.sibling,r=dn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function qa(e,t){return t=Qi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Do(e,t,n,r){return r!==null&&ja(r),vr(t,e.child,null,n),e=qa(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function hm(e,t,n,r,o,i,l){if(n)return t.flags&256?(t.flags&=-257,r=Us(Error(L(422))),Do(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=Qi({mode:"visible",children:r.children},o,0,null),i=Pn(i,o,l,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&vr(t,e.child,null,l),t.child.memoizedState=Dl(l),t.memoizedState=Fl,i);if(!(t.mode&1))return Do(e,t,l,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var u=r.dgst;return r=u,i=Error(L(419)),r=Us(i,r,void 0),Do(e,t,l,r)}if(u=(l&e.childLanes)!==0,Ie||u){if(r=de,r!==null){switch(l&-l){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|l)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Mt(e,o),lt(r,e,o,-1))}return Ja(),r=Us(Error(L(421))),Do(e,t,l,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Nm.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,ze=ln(o.nextSibling),$e=t,Y=!0,it=null,e!==null&&(qe[Ke++]=Tt,qe[Ke++]=Ct,qe[Ke++]=Rn,Tt=e.id,Ct=e.overflow,Rn=t),t=qa(t,r.children),t.flags|=4096,t)}function Fc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ol(e.return,t,n)}function zs(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Ep(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Ne(e,t,r.children,n),r=J.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fc(e,n,t);else if(e.tag===19)Fc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(K(J,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&bi(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),zs(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&bi(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}zs(t,!0,n,null,i);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ri(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ot(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),On|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,n=dn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=dn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ym(e,t,n){switch(t.tag){case 3:xp(t),mr();break;case 5:Kf(t);break;case 1:Re(t.type)&&vi(t);break;case 4:Ua(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;K(_i,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(K(J,J.current&1),t.flags|=128,null):n&t.child.childLanes?_p(e,t,n):(K(J,J.current&1),e=Ot(e,t,n),e!==null?e.sibling:null);K(J,J.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Ep(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),K(J,J.current),r)break;return null;case 22:case 23:return t.lanes=0,vp(e,t,n)}return Ot(e,t,n)}var Sp,Vl,bp,kp;Sp=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Vl=function(){};bp=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Tn(_t.current);var i=null;switch(n){case"input":o=fl(e,o),r=fl(e,r),i=[];break;case"select":o=te({},o,{value:void 0}),r=te({},r,{value:void 0}),i=[];break;case"textarea":o=yl(e,o),r=yl(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=gi)}ml(n,r);var l;n=null;for(d in o)if(!r.hasOwnProperty(d)&&o.hasOwnProperty(d)&&o[d]!=null)if(d==="style"){var u=o[d];for(l in u)u.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ro.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var a=r[d];if(u=o!=null?o[d]:void 0,r.hasOwnProperty(d)&&a!==u&&(a!=null||u!=null))if(d==="style")if(u){for(l in u)!u.hasOwnProperty(l)||a&&a.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in a)a.hasOwnProperty(l)&&u[l]!==a[l]&&(n||(n={}),n[l]=a[l])}else n||(i||(i=[]),i.push(d,n)),n=a;else d==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,u=u?u.__html:void 0,a!=null&&u!==a&&(i=i||[]).push(d,a)):d==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(d,""+a):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ro.hasOwnProperty(d)?(a!=null&&d==="onScroll"&&Q("scroll",e),i||u===a||(i=[])):(i=i||[]).push(d,a))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};kp=function(e,t,n,r){n!==r&&(t.flags|=4)};function Hr(e,t){if(!Y)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function we(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function gm(e,t,n){var r=t.pendingProps;switch(Ia(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return we(t),null;case 1:return Re(t.type)&&mi(),we(t),null;case 3:return r=t.stateNode,wr(),X(je),X(Ae),$a(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&($o(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,it!==null&&(Yl(it),it=null))),Vl(e,t),we(t),null;case 5:za(t);var o=Tn(go.current);if(n=t.type,e!==null&&t.stateNode!=null)bp(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(L(166));return we(t),null}if(e=Tn(_t.current),$o(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[gt]=t,r[ho]=i,e=(t.mode&1)!==0,n){case"dialog":Q("cancel",r),Q("close",r);break;case"iframe":case"object":case"embed":Q("load",r);break;case"video":case"audio":for(o=0;o<Gr.length;o++)Q(Gr[o],r);break;case"source":Q("error",r);break;case"img":case"image":case"link":Q("error",r),Q("load",r);break;case"details":Q("toggle",r);break;case"input":Zu(r,i),Q("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Q("invalid",r);break;case"textarea":Ju(r,i),Q("invalid",r)}ml(n,i),o=null;for(var l in i)if(i.hasOwnProperty(l)){var u=i[l];l==="children"?typeof u=="string"?r.textContent!==u&&(i.suppressHydrationWarning!==!0&&zo(r.textContent,u,e),o=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(i.suppressHydrationWarning!==!0&&zo(r.textContent,u,e),o=["children",""+u]):ro.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&Q("scroll",r)}switch(n){case"input":Io(r),Yu(r,i,!0);break;case"textarea":Io(r),ec(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=gi)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Yd(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[gt]=t,e[ho]=r,Sp(e,t,!1,!1),t.stateNode=e;e:{switch(l=vl(n,r),n){case"dialog":Q("cancel",e),Q("close",e),o=r;break;case"iframe":case"object":case"embed":Q("load",e),o=r;break;case"video":case"audio":for(o=0;o<Gr.length;o++)Q(Gr[o],e);o=r;break;case"source":Q("error",e),o=r;break;case"img":case"image":case"link":Q("error",e),Q("load",e),o=r;break;case"details":Q("toggle",e),o=r;break;case"input":Zu(e,r),o=fl(e,r),Q("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=te({},r,{value:void 0}),Q("invalid",e);break;case"textarea":Ju(e,r),o=yl(e,r),Q("invalid",e);break;default:o=r}ml(n,o),u=o;for(i in u)if(u.hasOwnProperty(i)){var a=u[i];i==="style"?tf(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Jd(e,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&oo(e,a):typeof a=="number"&&oo(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ro.hasOwnProperty(i)?a!=null&&i==="onScroll"&&Q("scroll",e):a!=null&&ma(e,i,a,l))}switch(n){case"input":Io(e),Yu(e,r,!1);break;case"textarea":Io(e),ec(e);break;case"option":r.value!=null&&e.setAttribute("value",""+pn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?ar(e,!!r.multiple,i,!1):r.defaultValue!=null&&ar(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=gi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return we(t),null;case 6:if(e&&t.stateNode!=null)kp(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(L(166));if(n=Tn(go.current),Tn(_t.current),$o(t)){if(r=t.stateNode,n=t.memoizedProps,r[gt]=t,(i=r.nodeValue!==n)&&(e=$e,e!==null))switch(e.tag){case 3:zo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&zo(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[gt]=t,t.stateNode=r}return we(t),null;case 13:if(X(J),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Y&&ze!==null&&t.mode&1&&!(t.flags&128))Df(),mr(),t.flags|=98560,i=!1;else if(i=$o(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(L(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(L(317));i[gt]=t}else mr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;we(t),i=!1}else it!==null&&(Yl(it),it=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||J.current&1?ae===0&&(ae=3):Ja())),t.updateQueue!==null&&(t.flags|=4),we(t),null);case 4:return wr(),Vl(e,t),e===null&&fo(t.stateNode.containerInfo),we(t),null;case 10:return Oa(t.type._context),we(t),null;case 17:return Re(t.type)&&mi(),we(t),null;case 19:if(X(J),i=t.memoizedState,i===null)return we(t),null;if(r=(t.flags&128)!==0,l=i.rendering,l===null)if(r)Hr(i,!1);else{if(ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=bi(e),l!==null){for(t.flags|=128,Hr(i,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return K(J,J.current&1|2),t.child}e=e.sibling}i.tail!==null&&oe()>_r&&(t.flags|=128,r=!0,Hr(i,!1),t.lanes=4194304)}else{if(!r)if(e=bi(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Hr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!Y)return we(t),null}else 2*oe()-i.renderingStartTime>_r&&n!==1073741824&&(t.flags|=128,r=!0,Hr(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(n=i.last,n!==null?n.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=oe(),t.sibling=null,n=J.current,K(J,r?n&1|2:n&1),t):(we(t),null);case 22:case 23:return Ya(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ue&1073741824&&(we(t),t.subtreeFlags&6&&(t.flags|=8192)):we(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function mm(e,t){switch(Ia(t),t.tag){case 1:return Re(t.type)&&mi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return wr(),X(je),X(Ae),$a(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return za(t),null;case 13:if(X(J),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));mr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return X(J),null;case 4:return wr(),null;case 10:return Oa(t.type._context),null;case 22:case 23:return Ya(),null;case 24:return null;default:return null}}var Vo=!1,be=!1,vm=typeof WeakSet=="function"?WeakSet:Set,B=null;function ir(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){re(e,t,r)}else n.current=null}function Wl(e,t,n){try{n()}catch(r){re(e,t,r)}}var Dc=!1;function wm(e,t){if(Tl=pi,e=Lf(),La(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,u=-1,a=-1,d=0,m=0,s=e,c=null;t:for(;;){for(var f;s!==n||o!==0&&s.nodeType!==3||(u=l+o),s!==i||r!==0&&s.nodeType!==3||(a=l+r),s.nodeType===3&&(l+=s.nodeValue.length),(f=s.firstChild)!==null;)c=s,s=f;for(;;){if(s===e)break t;if(c===n&&++d===o&&(u=l),c===i&&++m===r&&(a=l),(f=s.nextSibling)!==null)break;s=c,c=s.parentNode}s=f}n=u===-1||a===-1?null:{start:u,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Cl={focusedElem:e,selectionRange:n},pi=!1,B=t;B!==null;)if(t=B,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,B=e;else for(;B!==null;){t=B;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var y=p.memoizedProps,w=p.memoizedState,h=t.stateNode,g=h.getSnapshotBeforeUpdate(t.elementType===t.type?y:rt(t.type,y),w);h.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(_){re(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,B=e;break}B=t.return}return p=Dc,Dc=!1,p}function Jr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&Wl(t,n,i)}o=o.next}while(o!==r)}}function qi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Gl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Ap(e){var t=e.alternate;t!==null&&(e.alternate=null,Ap(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[gt],delete t[ho],delete t[Il],delete t[tm],delete t[nm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Np(e){return e.tag===5||e.tag===3||e.tag===4}function Vc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Np(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ql(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=gi));else if(r!==4&&(e=e.child,e!==null))for(ql(e,t,n),e=e.sibling;e!==null;)ql(e,t,n),e=e.sibling}function Kl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Kl(e,t,n),e=e.sibling;e!==null;)Kl(e,t,n),e=e.sibling}var fe=null,ot=!1;function Ft(e,t,n){for(n=n.child;n!==null;)Tp(e,t,n),n=n.sibling}function Tp(e,t,n){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(Ui,n)}catch{}switch(n.tag){case 5:be||ir(n,t);case 6:var r=fe,o=ot;fe=null,Ft(e,t,n),fe=r,ot=o,fe!==null&&(ot?(e=fe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):fe.removeChild(n.stateNode));break;case 18:fe!==null&&(ot?(e=fe,n=n.stateNode,e.nodeType===8?js(e.parentNode,n):e.nodeType===1&&js(e,n),ao(e)):js(fe,n.stateNode));break;case 4:r=fe,o=ot,fe=n.stateNode.containerInfo,ot=!0,Ft(e,t,n),fe=r,ot=o;break;case 0:case 11:case 14:case 15:if(!be&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&Wl(n,t,l),o=o.next}while(o!==r)}Ft(e,t,n);break;case 1:if(!be&&(ir(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){re(n,t,u)}Ft(e,t,n);break;case 21:Ft(e,t,n);break;case 22:n.mode&1?(be=(r=be)||n.memoizedState!==null,Ft(e,t,n),be=r):Ft(e,t,n);break;default:Ft(e,t,n)}}function Wc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new vm),t.forEach(function(r){var o=Tm.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function tt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,l=t,u=l;e:for(;u!==null;){switch(u.tag){case 5:fe=u.stateNode,ot=!1;break e;case 3:fe=u.stateNode.containerInfo,ot=!0;break e;case 4:fe=u.stateNode.containerInfo,ot=!0;break e}u=u.return}if(fe===null)throw Error(L(160));Tp(i,l,o),fe=null,ot=!1;var a=o.alternate;a!==null&&(a.return=null),o.return=null}catch(d){re(o,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Cp(t,e),t=t.sibling}function Cp(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(tt(t,e),dt(e),r&4){try{Jr(3,e,e.return),qi(3,e)}catch(y){re(e,e.return,y)}try{Jr(5,e,e.return)}catch(y){re(e,e.return,y)}}break;case 1:tt(t,e),dt(e),r&512&&n!==null&&ir(n,n.return);break;case 5:if(tt(t,e),dt(e),r&512&&n!==null&&ir(n,n.return),e.flags&32){var o=e.stateNode;try{oo(o,"")}catch(y){re(e,e.return,y)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,l=n!==null?n.memoizedProps:i,u=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{u==="input"&&i.type==="radio"&&i.name!=null&&Xd(o,i),vl(u,l);var d=vl(u,i);for(l=0;l<a.length;l+=2){var m=a[l],s=a[l+1];m==="style"?tf(o,s):m==="dangerouslySetInnerHTML"?Jd(o,s):m==="children"?oo(o,s):ma(o,m,s,d)}switch(u){case"input":pl(o,i);break;case"textarea":Zd(o,i);break;case"select":var c=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?ar(o,!!i.multiple,f,!1):c!==!!i.multiple&&(i.defaultValue!=null?ar(o,!!i.multiple,i.defaultValue,!0):ar(o,!!i.multiple,i.multiple?[]:"",!1))}o[ho]=i}catch(y){re(e,e.return,y)}}break;case 6:if(tt(t,e),dt(e),r&4){if(e.stateNode===null)throw Error(L(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(y){re(e,e.return,y)}}break;case 3:if(tt(t,e),dt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ao(t.containerInfo)}catch(y){re(e,e.return,y)}break;case 4:tt(t,e),dt(e);break;case 13:tt(t,e),dt(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(Xa=oe())),r&4&&Wc(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(be=(d=be)||m,tt(t,e),be=d):tt(t,e),dt(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!m&&e.mode&1)for(B=e,m=e.child;m!==null;){for(s=B=m;B!==null;){switch(c=B,f=c.child,c.tag){case 0:case 11:case 14:case 15:Jr(4,c,c.return);break;case 1:ir(c,c.return);var p=c.stateNode;if(typeof p.componentWillUnmount=="function"){r=c,n=c.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(y){re(r,n,y)}}break;case 5:ir(c,c.return);break;case 22:if(c.memoizedState!==null){qc(s);continue}}f!==null?(f.return=c,B=f):qc(s)}m=m.sibling}e:for(m=null,s=e;;){if(s.tag===5){if(m===null){m=s;try{o=s.stateNode,d?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(u=s.stateNode,a=s.memoizedProps.style,l=a!=null&&a.hasOwnProperty("display")?a.display:null,u.style.display=ef("display",l))}catch(y){re(e,e.return,y)}}}else if(s.tag===6){if(m===null)try{s.stateNode.nodeValue=d?"":s.memoizedProps}catch(y){re(e,e.return,y)}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===e)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break e;for(;s.sibling===null;){if(s.return===null||s.return===e)break e;m===s&&(m=null),s=s.return}m===s&&(m=null),s.sibling.return=s.return,s=s.sibling}}break;case 19:tt(t,e),dt(e),r&4&&Wc(e);break;case 21:break;default:tt(t,e),dt(e)}}function dt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Np(n)){var r=n;break e}n=n.return}throw Error(L(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(oo(o,""),r.flags&=-33);var i=Vc(e);Kl(e,i,o);break;case 3:case 4:var l=r.stateNode.containerInfo,u=Vc(e);ql(e,u,l);break;default:throw Error(L(161))}}catch(a){re(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function xm(e,t,n){B=e,Lp(e)}function Lp(e,t,n){for(var r=(e.mode&1)!==0;B!==null;){var o=B,i=o.child;if(o.tag===22&&r){var l=o.memoizedState!==null||Vo;if(!l){var u=o.alternate,a=u!==null&&u.memoizedState!==null||be;u=Vo;var d=be;if(Vo=l,(be=a)&&!d)for(B=o;B!==null;)l=B,a=l.child,l.tag===22&&l.memoizedState!==null?Kc(o):a!==null?(a.return=l,B=a):Kc(o);for(;i!==null;)B=i,Lp(i),i=i.sibling;B=o,Vo=u,be=d}Gc(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,B=i):Gc(e)}}function Gc(e){for(;B!==null;){var t=B;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:be||qi(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!be)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:rt(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Lc(t,i,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Lc(t,l,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var m=d.memoizedState;if(m!==null){var s=m.dehydrated;s!==null&&ao(s)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}be||t.flags&512&&Gl(t)}catch(c){re(t,t.return,c)}}if(t===e){B=null;break}if(n=t.sibling,n!==null){n.return=t.return,B=n;break}B=t.return}}function qc(e){for(;B!==null;){var t=B;if(t===e){B=null;break}var n=t.sibling;if(n!==null){n.return=t.return,B=n;break}B=t.return}}function Kc(e){for(;B!==null;){var t=B;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{qi(4,t)}catch(a){re(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(a){re(t,o,a)}}var i=t.return;try{Gl(t)}catch(a){re(t,i,a)}break;case 5:var l=t.return;try{Gl(t)}catch(a){re(t,l,a)}}}catch(a){re(t,t.return,a)}if(t===e){B=null;break}var u=t.sibling;if(u!==null){u.return=t.return,B=u;break}B=t.return}}var _m=Math.ceil,Ni=Ht.ReactCurrentDispatcher,Ka=Ht.ReactCurrentOwner,Xe=Ht.ReactCurrentBatchConfig,W=0,de=null,se=null,he=0,Ue=0,sr=mn(0),ae=0,xo=null,On=0,Ki=0,Qa=0,eo=null,Pe=null,Xa=0,_r=1/0,bt=null,Ti=!1,Ql=null,un=null,Wo=!1,en=null,Ci=0,to=0,Xl=null,oi=-1,ii=0;function Te(){return W&6?oe():oi!==-1?oi:oi=oe()}function cn(e){return e.mode&1?W&2&&he!==0?he&-he:om.transition!==null?(ii===0&&(ii=hf()),ii):(e=q,e!==0||(e=window.event,e=e===void 0?16:_f(e.type)),e):1}function lt(e,t,n,r){if(50<to)throw to=0,Xl=null,Error(L(185));bo(e,n,r),(!(W&2)||e!==de)&&(e===de&&(!(W&2)&&(Ki|=n),ae===4&&Yt(e,he)),Me(e,r),n===1&&W===0&&!(t.mode&1)&&(_r=oe()+500,Vi&&vn()))}function Me(e,t){var n=e.callbackNode;og(e,t);var r=fi(e,e===de?he:0);if(r===0)n!==null&&rc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&rc(n),t===1)e.tag===0?rm(Qc.bind(null,e)):zf(Qc.bind(null,e)),Jg(function(){!(W&6)&&vn()}),n=null;else{switch(yf(r)){case 1:n=Ea;break;case 4:n=ff;break;case 16:n=di;break;case 536870912:n=pf;break;default:n=di}n=Hp(n,Pp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Pp(e,t){if(oi=-1,ii=0,W&6)throw Error(L(327));var n=e.callbackNode;if(pr()&&e.callbackNode!==n)return null;var r=fi(e,e===de?he:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Li(e,r);else{t=r;var o=W;W|=2;var i=jp();(de!==e||he!==t)&&(bt=null,_r=oe()+500,Ln(e,t));do try{bm();break}catch(u){Ip(e,u)}while(!0);Ma(),Ni.current=i,W=o,se!==null?t=0:(de=null,he=0,t=ae)}if(t!==0){if(t===2&&(o=Sl(e),o!==0&&(r=o,t=Zl(e,o))),t===1)throw n=xo,Ln(e,0),Yt(e,r),Me(e,oe()),n;if(t===6)Yt(e,r);else{if(o=e.current.alternate,!(r&30)&&!Em(o)&&(t=Li(e,r),t===2&&(i=Sl(e),i!==0&&(r=i,t=Zl(e,i))),t===1))throw n=xo,Ln(e,0),Yt(e,r),Me(e,oe()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(L(345));case 2:Sn(e,Pe,bt);break;case 3:if(Yt(e,r),(r&130023424)===r&&(t=Xa+500-oe(),10<t)){if(fi(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Te(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Pl(Sn.bind(null,e,Pe,bt),t);break}Sn(e,Pe,bt);break;case 4:if(Yt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var l=31-st(r);i=1<<l,l=t[l],l>o&&(o=l),r&=~i}if(r=o,r=oe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_m(r/1960))-r,10<r){e.timeoutHandle=Pl(Sn.bind(null,e,Pe,bt),r);break}Sn(e,Pe,bt);break;case 5:Sn(e,Pe,bt);break;default:throw Error(L(329))}}}return Me(e,oe()),e.callbackNode===n?Pp.bind(null,e):null}function Zl(e,t){var n=eo;return e.current.memoizedState.isDehydrated&&(Ln(e,t).flags|=256),e=Li(e,t),e!==2&&(t=Pe,Pe=n,t!==null&&Yl(t)),e}function Yl(e){Pe===null?Pe=e:Pe.push.apply(Pe,e)}function Em(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!at(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Yt(e,t){for(t&=~Qa,t&=~Ki,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function Qc(e){if(W&6)throw Error(L(327));pr();var t=fi(e,0);if(!(t&1))return Me(e,oe()),null;var n=Li(e,t);if(e.tag!==0&&n===2){var r=Sl(e);r!==0&&(t=r,n=Zl(e,r))}if(n===1)throw n=xo,Ln(e,0),Yt(e,t),Me(e,oe()),n;if(n===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sn(e,Pe,bt),Me(e,oe()),null}function Za(e,t){var n=W;W|=1;try{return e(t)}finally{W=n,W===0&&(_r=oe()+500,Vi&&vn())}}function Bn(e){en!==null&&en.tag===0&&!(W&6)&&pr();var t=W;W|=1;var n=Xe.transition,r=q;try{if(Xe.transition=null,q=1,e)return e()}finally{q=r,Xe.transition=n,W=t,!(W&6)&&vn()}}function Ya(){Ue=sr.current,X(sr)}function Ln(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Yg(n)),se!==null)for(n=se.return;n!==null;){var r=n;switch(Ia(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&mi();break;case 3:wr(),X(je),X(Ae),$a();break;case 5:za(r);break;case 4:wr();break;case 13:X(J);break;case 19:X(J);break;case 10:Oa(r.type._context);break;case 22:case 23:Ya()}n=n.return}if(de=e,se=e=dn(e.current,null),he=Ue=t,ae=0,xo=null,Qa=Ki=On=0,Pe=eo=null,Nn!==null){for(t=0;t<Nn.length;t++)if(n=Nn[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var l=i.next;i.next=o,r.next=l}n.pending=r}Nn=null}return e}function Ip(e,t){do{var n=se;try{if(Ma(),ti.current=Ai,ki){for(var r=ee.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}ki=!1}if(Mn=0,ue=le=ee=null,Yr=!1,mo=0,Ka.current=null,n===null||n.return===null){ae=1,xo=t,se=null;break}e:{var i=e,l=n.return,u=n,a=t;if(t=he,u.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var d=a,m=u,s=m.tag;if(!(m.mode&1)&&(s===0||s===11||s===15)){var c=m.alternate;c?(m.updateQueue=c.updateQueue,m.memoizedState=c.memoizedState,m.lanes=c.lanes):(m.updateQueue=null,m.memoizedState=null)}var f=Oc(l);if(f!==null){f.flags&=-257,Bc(f,l,u,i,t),f.mode&1&&Mc(i,d,t),t=f,a=d;var p=t.updateQueue;if(p===null){var y=new Set;y.add(a),t.updateQueue=y}else p.add(a);break e}else{if(!(t&1)){Mc(i,d,t),Ja();break e}a=Error(L(426))}}else if(Y&&u.mode&1){var w=Oc(l);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Bc(w,l,u,i,t),ja(xr(a,u));break e}}i=a=xr(a,u),ae!==4&&(ae=2),eo===null?eo=[i]:eo.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var h=yp(i,a,t);Cc(i,h);break e;case 1:u=a;var g=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(un===null||!un.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=gp(i,u,t);Cc(i,_);break e}}i=i.return}while(i!==null)}Mp(n)}catch(N){t=N,se===n&&n!==null&&(se=n=n.return);continue}break}while(!0)}function jp(){var e=Ni.current;return Ni.current=Ai,e===null?Ai:e}function Ja(){(ae===0||ae===3||ae===2)&&(ae=4),de===null||!(On&268435455)&&!(Ki&268435455)||Yt(de,he)}function Li(e,t){var n=W;W|=2;var r=jp();(de!==e||he!==t)&&(bt=null,Ln(e,t));do try{Sm();break}catch(o){Ip(e,o)}while(!0);if(Ma(),W=n,Ni.current=r,se!==null)throw Error(L(261));return de=null,he=0,ae}function Sm(){for(;se!==null;)Rp(se)}function bm(){for(;se!==null&&!Qy();)Rp(se)}function Rp(e){var t=Bp(e.alternate,e,Ue);e.memoizedProps=e.pendingProps,t===null?Mp(e):se=t,Ka.current=null}function Mp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=mm(n,t),n!==null){n.flags&=32767,se=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ae=6,se=null;return}}else if(n=gm(n,t,Ue),n!==null){se=n;return}if(t=t.sibling,t!==null){se=t;return}se=t=e}while(t!==null);ae===0&&(ae=5)}function Sn(e,t,n){var r=q,o=Xe.transition;try{Xe.transition=null,q=1,km(e,t,n,r)}finally{Xe.transition=o,q=r}return null}function km(e,t,n,r){do pr();while(en!==null);if(W&6)throw Error(L(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(ig(e,i),e===de&&(se=de=null,he=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wo||(Wo=!0,Hp(di,function(){return pr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Xe.transition,Xe.transition=null;var l=q;q=1;var u=W;W|=4,Ka.current=null,wm(e,n),Cp(n,e),Wg(Cl),pi=!!Tl,Cl=Tl=null,e.current=n,xm(n),Xy(),W=u,q=l,Xe.transition=i}else e.current=n;if(Wo&&(Wo=!1,en=e,Ci=o),i=e.pendingLanes,i===0&&(un=null),Jy(n.stateNode),Me(e,oe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Ti)throw Ti=!1,e=Ql,Ql=null,e;return Ci&1&&e.tag!==0&&pr(),i=e.pendingLanes,i&1?e===Xl?to++:(to=0,Xl=e):to=0,vn(),null}function pr(){if(en!==null){var e=yf(Ci),t=Xe.transition,n=q;try{if(Xe.transition=null,q=16>e?16:e,en===null)var r=!1;else{if(e=en,en=null,Ci=0,W&6)throw Error(L(331));var o=W;for(W|=4,B=e.current;B!==null;){var i=B,l=i.child;if(B.flags&16){var u=i.deletions;if(u!==null){for(var a=0;a<u.length;a++){var d=u[a];for(B=d;B!==null;){var m=B;switch(m.tag){case 0:case 11:case 15:Jr(8,m,i)}var s=m.child;if(s!==null)s.return=m,B=s;else for(;B!==null;){m=B;var c=m.sibling,f=m.return;if(Ap(m),m===d){B=null;break}if(c!==null){c.return=f,B=c;break}B=f}}}var p=i.alternate;if(p!==null){var y=p.child;if(y!==null){p.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}B=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,B=l;else e:for(;B!==null;){if(i=B,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Jr(9,i,i.return)}var h=i.sibling;if(h!==null){h.return=i.return,B=h;break e}B=i.return}}var g=e.current;for(B=g;B!==null;){l=B;var x=l.child;if(l.subtreeFlags&2064&&x!==null)x.return=l,B=x;else e:for(l=g;B!==null;){if(u=B,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:qi(9,u)}}catch(N){re(u,u.return,N)}if(u===l){B=null;break e}var _=u.sibling;if(_!==null){_.return=u.return,B=_;break e}B=u.return}}if(W=o,vn(),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(Ui,e)}catch{}r=!0}return r}finally{q=n,Xe.transition=t}}return!1}function Xc(e,t,n){t=xr(n,t),t=yp(e,t,1),e=an(e,t,1),t=Te(),e!==null&&(bo(e,1,t),Me(e,t))}function re(e,t,n){if(e.tag===3)Xc(e,e,n);else for(;t!==null;){if(t.tag===3){Xc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(un===null||!un.has(r))){e=xr(n,e),e=gp(t,e,1),t=an(t,e,1),e=Te(),t!==null&&(bo(t,1,e),Me(t,e));break}}t=t.return}}function Am(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Te(),e.pingedLanes|=e.suspendedLanes&n,de===e&&(he&n)===n&&(ae===4||ae===3&&(he&130023424)===he&&500>oe()-Xa?Ln(e,0):Qa|=n),Me(e,t)}function Op(e,t){t===0&&(e.mode&1?(t=Mo,Mo<<=1,!(Mo&130023424)&&(Mo=4194304)):t=1);var n=Te();e=Mt(e,t),e!==null&&(bo(e,t,n),Me(e,n))}function Nm(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Op(e,n)}function Tm(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(L(314))}r!==null&&r.delete(t),Op(e,n)}var Bp;Bp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||je.current)Ie=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ie=!1,ym(e,t,n);Ie=!!(e.flags&131072)}else Ie=!1,Y&&t.flags&1048576&&$f(t,xi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ri(e,t),e=t.pendingProps;var o=gr(t,Ae.current);fr(t,n),o=Da(null,t,r,e,o,n);var i=Va();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Re(r)?(i=!0,vi(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Ha(t),o.updater=Gi,t.stateNode=o,o._reactInternals=t,Hl(t,r,e,n),t=$l(null,t,r,!0,i,n)):(t.tag=0,Y&&i&&Pa(t),Ne(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ri(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=Lm(r),e=rt(r,e),o){case 0:t=zl(null,t,r,e,n);break e;case 1:t=zc(null,t,r,e,n);break e;case 11:t=Hc(null,t,r,e,n);break e;case 14:t=Uc(null,t,r,rt(r.type,e),n);break e}throw Error(L(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:rt(r,o),zl(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:rt(r,o),zc(e,t,r,o,n);case 3:e:{if(xp(t),e===null)throw Error(L(387));r=t.pendingProps,i=t.memoizedState,o=i.element,qf(e,t),Si(t,r,null,n);var l=t.memoizedState;if(r=l.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=xr(Error(L(423)),t),t=$c(e,t,r,n,o);break e}else if(r!==o){o=xr(Error(L(424)),t),t=$c(e,t,r,n,o);break e}else for(ze=ln(t.stateNode.containerInfo.firstChild),$e=t,Y=!0,it=null,n=Wf(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(mr(),r===o){t=Ot(e,t,n);break e}Ne(e,t,r,n)}t=t.child}return t;case 5:return Kf(t),e===null&&Ml(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,l=o.children,Ll(r,o)?l=null:i!==null&&Ll(r,i)&&(t.flags|=32),wp(e,t),Ne(e,t,l,n),t.child;case 6:return e===null&&Ml(t),null;case 13:return _p(e,t,n);case 4:return Ua(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=vr(t,null,r,n):Ne(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:rt(r,o),Hc(e,t,r,o,n);case 7:return Ne(e,t,t.pendingProps,n),t.child;case 8:return Ne(e,t,t.pendingProps.children,n),t.child;case 12:return Ne(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,l=o.value,K(_i,r._currentValue),r._currentValue=l,i!==null)if(at(i.value,l)){if(i.children===o.children&&!je.current){t=Ot(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var u=i.dependencies;if(u!==null){l=i.child;for(var a=u.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=Pt(-1,n&-n),a.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var m=d.pending;m===null?a.next=a:(a.next=m.next,m.next=a),d.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Ol(i.return,n,t),u.lanes|=n;break}a=a.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(L(341));l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),Ol(l,n,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Ne(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,fr(t,n),o=Ze(o),r=r(o),t.flags|=1,Ne(e,t,r,n),t.child;case 14:return r=t.type,o=rt(r,t.pendingProps),o=rt(r.type,o),Uc(e,t,r,o,n);case 15:return mp(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:rt(r,o),ri(e,t),t.tag=1,Re(r)?(e=!0,vi(t)):e=!1,fr(t,n),hp(t,r,o),Hl(t,r,o,n),$l(null,t,r,!0,e,n);case 19:return Ep(e,t,n);case 22:return vp(e,t,n)}throw Error(L(156,t.tag))};function Hp(e,t){return df(e,t)}function Cm(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qe(e,t,n,r){return new Cm(e,t,n,r)}function eu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Lm(e){if(typeof e=="function")return eu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===wa)return 11;if(e===xa)return 14}return 2}function dn(e,t){var n=e.alternate;return n===null?(n=Qe(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function si(e,t,n,r,o,i){var l=2;if(r=e,typeof e=="function")eu(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Xn:return Pn(n.children,o,i,t);case va:l=8,o|=8;break;case al:return e=Qe(12,n,t,o|2),e.elementType=al,e.lanes=i,e;case ul:return e=Qe(13,n,t,o),e.elementType=ul,e.lanes=i,e;case cl:return e=Qe(19,n,t,o),e.elementType=cl,e.lanes=i,e;case qd:return Qi(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Wd:l=10;break e;case Gd:l=9;break e;case wa:l=11;break e;case xa:l=14;break e;case Kt:l=16,r=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=Qe(l,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function Pn(e,t,n,r){return e=Qe(7,e,r,t),e.lanes=n,e}function Qi(e,t,n,r){return e=Qe(22,e,r,t),e.elementType=qd,e.lanes=n,e.stateNode={isHidden:!1},e}function $s(e,t,n){return e=Qe(6,e,null,t),e.lanes=n,e}function Fs(e,t,n){return t=Qe(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Pm(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Es(0),this.expirationTimes=Es(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Es(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function tu(e,t,n,r,o,i,l,u,a){return e=new Pm(e,t,n,u,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Qe(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ha(i),e}function Im(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Up(e){if(!e)return hn;e=e._reactInternals;e:{if($n(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Re(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var n=e.type;if(Re(n))return Uf(e,n,t)}return t}function zp(e,t,n,r,o,i,l,u,a){return e=tu(n,r,!0,e,o,i,l,u,a),e.context=Up(null),n=e.current,r=Te(),o=cn(n),i=Pt(r,o),i.callback=t??null,an(n,i,o),e.current.lanes=o,bo(e,o,r),Me(e,r),e}function Xi(e,t,n,r){var o=t.current,i=Te(),l=cn(o);return n=Up(n),t.context===null?t.context=n:t.pendingContext=n,t=Pt(i,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=an(o,t,l),e!==null&&(lt(e,o,l,i),ei(e,o,l)),l}function Pi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Zc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function nu(e,t){Zc(e,t),(e=e.alternate)&&Zc(e,t)}function jm(){return null}var $p=typeof reportError=="function"?reportError:function(e){console.error(e)};function ru(e){this._internalRoot=e}Zi.prototype.render=ru.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));Xi(e,t,null,null)};Zi.prototype.unmount=ru.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Bn(function(){Xi(null,e,null,null)}),t[Rt]=null}};function Zi(e){this._internalRoot=e}Zi.prototype.unstable_scheduleHydration=function(e){if(e){var t=vf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Zt.length&&t!==0&&t<Zt[n].priority;n++);Zt.splice(n,0,e),n===0&&xf(e)}};function ou(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Yi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Yc(){}function Rm(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var d=Pi(l);i.call(d)}}var l=zp(t,r,e,0,null,!1,!1,"",Yc);return e._reactRootContainer=l,e[Rt]=l.current,fo(e.nodeType===8?e.parentNode:e),Bn(),l}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var u=r;r=function(){var d=Pi(a);u.call(d)}}var a=tu(e,0,!1,null,null,!1,!1,"",Yc);return e._reactRootContainer=a,e[Rt]=a.current,fo(e.nodeType===8?e.parentNode:e),Bn(function(){Xi(t,a,n,r)}),a}function Ji(e,t,n,r,o){var i=n._reactRootContainer;if(i){var l=i;if(typeof o=="function"){var u=o;o=function(){var a=Pi(l);u.call(a)}}Xi(t,l,e,o)}else l=Rm(n,t,e,o,r);return Pi(l)}gf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Wr(t.pendingLanes);n!==0&&(Sa(t,n|1),Me(t,oe()),!(W&6)&&(_r=oe()+500,vn()))}break;case 13:Bn(function(){var r=Mt(e,1);if(r!==null){var o=Te();lt(r,e,1,o)}}),nu(e,1)}};ba=function(e){if(e.tag===13){var t=Mt(e,134217728);if(t!==null){var n=Te();lt(t,e,134217728,n)}nu(e,134217728)}};mf=function(e){if(e.tag===13){var t=cn(e),n=Mt(e,t);if(n!==null){var r=Te();lt(n,e,t,r)}nu(e,t)}};vf=function(){return q};wf=function(e,t){var n=q;try{return q=e,t()}finally{q=n}};xl=function(e,t,n){switch(t){case"input":if(pl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Di(r);if(!o)throw Error(L(90));Qd(r),pl(r,o)}}}break;case"textarea":Zd(e,n);break;case"select":t=n.value,t!=null&&ar(e,!!n.multiple,t,!1)}};of=Za;sf=Bn;var Mm={usingClientEntryPoint:!1,Events:[Ao,er,Di,nf,rf,Za]},Ur={findFiberByHostInstance:An,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Om={bundleType:Ur.bundleType,version:Ur.version,rendererPackageName:Ur.rendererPackageName,rendererConfig:Ur.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ht.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=uf(e),e===null?null:e.stateNode},findFiberByHostInstance:Ur.findFiberByHostInstance||jm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Go=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Go.isDisabled&&Go.supportsFiber)try{Ui=Go.inject(Om),xt=Go}catch{}}De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mm;De.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ou(t))throw Error(L(200));return Im(e,t,null,n)};De.createRoot=function(e,t){if(!ou(e))throw Error(L(299));var n=!1,r="",o=$p;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=tu(e,1,!1,null,null,n,!1,r,o),e[Rt]=t.current,fo(e.nodeType===8?e.parentNode:e),new ru(t)};De.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=uf(t),e=e===null?null:e.stateNode,e};De.flushSync=function(e){return Bn(e)};De.hydrate=function(e,t,n){if(!Yi(t))throw Error(L(200));return Ji(null,e,t,!0,n)};De.hydrateRoot=function(e,t,n){if(!ou(e))throw Error(L(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",l=$p;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=zp(t,null,e,1,n??null,o,!1,i,l),e[Rt]=t.current,fo(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Zi(t)};De.render=function(e,t,n){if(!Yi(t))throw Error(L(200));return Ji(null,e,t,!1,n)};De.unmountComponentAtNode=function(e){if(!Yi(e))throw Error(L(40));return e._reactRootContainer?(Bn(function(){Ji(null,null,e,!1,function(){e._reactRootContainer=null,e[Rt]=null})}),!0):!1};De.unstable_batchedUpdates=Za;De.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yi(n))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return Ji(e,t,n,!1,r)};De.version="18.3.1-next-f1338f8080-20240426";function Fp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Fp)}catch(e){console.error(e)}}Fp(),$d.exports=De;var Bm=$d.exports,Dp,Jc=Bm;Dp=Jc.createRoot,Jc.hydrateRoot;const ed=e=>{let t;const n=new Set,r=(d,m)=>{const s=typeof d=="function"?d(t):d;if(!Object.is(s,t)){const c=t;t=m??(typeof s!="object"||s===null)?s:Object.assign({},t,s),n.forEach(f=>f(t,c))}},o=()=>t,u={setState:r,getState:o,getInitialState:()=>a,subscribe:d=>(n.add(d),()=>n.delete(d))},a=t=e(r,o,u);return u},Hm=e=>e?ed(e):ed,Um=e=>e;function zm(e,t=Um){const n=qu.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return qu.useDebugValue(n),n}const td=e=>{const t=Hm(e),n=r=>zm(t,r);return Object.assign(n,t),n},Vp=e=>e?td(e):td,$m=e=>(t,n,r)=>{const o=r.subscribe;return r.subscribe=(l,u,a)=>{let d=l;if(u){const m=(a==null?void 0:a.equalityFn)||Object.is;let s=l(r.getState());d=c=>{const f=l(c);if(!m(s,f)){const p=s;u(s=f,p)}},a!=null&&a.fireImmediately&&u(s,s)}return o(d)},e(t,n,r)},Fm=$m,Ds=1200,Dm=5,Vm=11,Wm=50,Gm=40,qm=100,Km=80,nd=(e=0)=>{const t=[];for(let n=0;n<Dm;n++)for(let r=0;r<Vm;r++)t.push({id:`alien-${n}-${r}`,x:qm+r*Wm,y:Km+n*Gm+e,type:n<1?3:n<3?2:1,alive:!0});return t},_e=Vp()(Fm((e,t)=>({phase:"auth",score:0,level:1,highScore:parseInt(localStorage.getItem("spaceInvadersHighScore")||"0"),player:{x:Ds/2,lives:3},aliens:[],bullets:[],alienDirection:1,alienSpeed:1,alienDropAmount:20,lastAlienShot:0,channel:{outgoing:20,incoming:20},userPubkey:null,userName:null,isAnonymous:!1,hasPaid:!1,setPhase:n=>e({phase:n}),setScore:n=>{const{highScore:r}=t();n>r?(localStorage.setItem("spaceInvadersHighScore",n.toString()),e({score:n,highScore:n})):e({score:n})},addScore:n=>{const{score:r,highScore:o}=t(),i=r+n;i>o?(localStorage.setItem("spaceInvadersHighScore",i.toString()),e({score:i,highScore:i})):e({score:i})},setLevel:n=>e({level:n}),setPlayer:n=>e(r=>({player:{...r.player,...n}})),setAliens:n=>e({aliens:n}),setBullets:n=>e({bullets:n}),addBullet:n=>e(r=>({bullets:[...r.bullets,n]})),removeBullet:n=>e(r=>({bullets:r.bullets.filter(o=>o.id!==n)})),setAlienDirection:n=>e({alienDirection:n}),setAlienSpeed:n=>e({alienSpeed:n}),setLastAlienShot:n=>e({lastAlienShot:n}),setChannel:n=>e(r=>({channel:{...r.channel,...n}})),playerShoot:()=>{const{channel:n}=t();return n.outgoing>=1?(e({channel:{outgoing:n.outgoing-1,incoming:n.incoming+1}}),!0):!1},enemyShoot:()=>{const{channel:n}=t();n.incoming>=1&&e({channel:{incoming:n.incoming-1,outgoing:n.outgoing+1}})},resetChannelForWave:()=>e({channel:{outgoing:20,incoming:20}}),setUserPubkey:n=>e({userPubkey:n}),setUserName:n=>e({userName:n}),setIsAnonymous:n=>e({isAnonymous:n}),setHasPaid:n=>e({hasPaid:n}),initializeGame:()=>{e({phase:"playing",score:0,level:1,player:{x:Ds/2,lives:3},aliens:nd(0),bullets:[],alienDirection:1,alienSpeed:1,lastAlienShot:0,channel:{outgoing:20,incoming:20}})},nextWave:()=>{const{level:n}=t(),r=n+1,o=Math.min((r-1)*20,200);e({level:r,aliens:nd(o),bullets:[],alienDirection:1,alienSpeed:1+(r-1)*.4,lastAlienShot:0,channel:{outgoing:20,incoming:20}})},loseLife:()=>{const{player:n,score:r,highScore:o}=t(),i=n.lives-1;i<=0?(r>o&&localStorage.setItem("spaceInvadersHighScore",r.toString()),e({player:{...n,lives:0},phase:"gameOver"})):e({player:{...n,lives:i},bullets:[]})},resetGame:()=>{e({phase:"welcome",score:0,level:1,player:{x:Ds/2,lives:3},aliens:[],bullets:[],alienDirection:1,alienSpeed:1,lastAlienShot:0,channel:{outgoing:20,incoming:20}})}})));function rd(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function Wp(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function Qm(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");rd(e.outputLen),rd(e.blockLen)}function Ii(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Xm(e,t){Wp(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Vs=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Gp=e=>e instanceof Uint8Array,Ws=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),ft=(e,t)=>e<<32-t|e>>>t,Zm=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Zm)throw new Error("Non little-endian hardware is not supported");function Ym(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function iu(e){if(typeof e=="string"&&(e=Ym(e)),!Gp(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function Jm(...e){const t=new Uint8Array(e.reduce((r,o)=>r+o.length,0));let n=0;return e.forEach(r=>{if(!Gp(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}let qp=class{clone(){return this._cloneInto()}};function ev(e){const t=r=>e().update(iu(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Kp(e=32){if(Vs&&typeof Vs.getRandomValues=="function")return Vs.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function tv(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const o=BigInt(32),i=BigInt(4294967295),l=Number(n>>o&i),u=Number(n&i),a=r?4:0,d=r?0:4;e.setUint32(t+a,l,r),e.setUint32(t+d,u,r)}let nv=class extends qp{constructor(t,n,r,o){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Ws(this.buffer)}update(t){Ii(this);const{view:n,buffer:r,blockLen:o}=this;t=iu(t);const i=t.length;for(let l=0;l<i;){const u=Math.min(o-this.pos,i-l);if(u===o){const a=Ws(t);for(;o<=i-l;l+=o)this.process(a,l);continue}r.set(t.subarray(l,l+u),this.pos),this.pos+=u,l+=u,this.pos===o&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Ii(this),Xm(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:o,isLE:i}=this;let{pos:l}=this;n[l++]=128,this.buffer.subarray(l).fill(0),this.padOffset>o-l&&(this.process(r,0),l=0);for(let s=l;s<o;s++)n[s]=0;tv(r,o-8,BigInt(this.length*8),i),this.process(r,0);const u=Ws(t),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=a/4,m=this.get();if(d>m.length)throw new Error("_sha2: outputLen bigger than state");for(let s=0;s<d;s++)u.setUint32(4*s,m[s],i)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:o,finished:i,destroyed:l,pos:u}=this;return t.length=o,t.pos=u,t.finished=i,t.destroyed=l,o%n&&t.buffer.set(r),t}};const rv=(e,t,n)=>e&t^~e&n,ov=(e,t,n)=>e&t^e&n^t&n,iv=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Dt=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Vt=new Uint32Array(64);let sv=class extends nv{constructor(){super(64,32,8,!1),this.A=Dt[0]|0,this.B=Dt[1]|0,this.C=Dt[2]|0,this.D=Dt[3]|0,this.E=Dt[4]|0,this.F=Dt[5]|0,this.G=Dt[6]|0,this.H=Dt[7]|0}get(){const{A:t,B:n,C:r,D:o,E:i,F:l,G:u,H:a}=this;return[t,n,r,o,i,l,u,a]}set(t,n,r,o,i,l,u,a){this.A=t|0,this.B=n|0,this.C=r|0,this.D=o|0,this.E=i|0,this.F=l|0,this.G=u|0,this.H=a|0}process(t,n){for(let s=0;s<16;s++,n+=4)Vt[s]=t.getUint32(n,!1);for(let s=16;s<64;s++){const c=Vt[s-15],f=Vt[s-2],p=ft(c,7)^ft(c,18)^c>>>3,y=ft(f,17)^ft(f,19)^f>>>10;Vt[s]=y+Vt[s-7]+p+Vt[s-16]|0}let{A:r,B:o,C:i,D:l,E:u,F:a,G:d,H:m}=this;for(let s=0;s<64;s++){const c=ft(u,6)^ft(u,11)^ft(u,25),f=m+c+rv(u,a,d)+iv[s]+Vt[s]|0,y=(ft(r,2)^ft(r,13)^ft(r,22))+ov(r,o,i)|0;m=d,d=a,a=u,u=l+f|0,l=i,i=o,o=r,r=f+y|0}r=r+this.A|0,o=o+this.B|0,i=i+this.C|0,l=l+this.D|0,u=u+this.E|0,a=a+this.F|0,d=d+this.G|0,m=m+this.H|0,this.set(r,o,i,l,u,a,d,m)}roundClean(){Vt.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const Jl=ev(()=>new sv);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Qp=BigInt(0),es=BigInt(1),lv=BigInt(2),ts=e=>e instanceof Uint8Array,av=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Er(e){if(!ts(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=av[e[n]];return t}function Xp(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function su(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}function Sr(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const o=r*2,i=e.slice(o,o+2),l=Number.parseInt(i,16);if(Number.isNaN(l)||l<0)throw new Error("Invalid byte sequence");n[r]=l}return n}function Oe(e){return su(Er(e))}function lu(e){if(!ts(e))throw new Error("Uint8Array expected");return su(Er(Uint8Array.from(e).reverse()))}function yn(e,t){return Sr(e.toString(16).padStart(t*2,"0"))}function au(e,t){return yn(e,t).reverse()}function uv(e){return Sr(Xp(e))}function Ee(e,t,n){let r;if(typeof t=="string")try{r=Sr(t)}catch(i){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${i}`)}else if(ts(t))r=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const o=r.length;if(typeof n=="number"&&o!==n)throw new Error(`${e} expected ${n} bytes, got ${o}`);return r}function Hn(...e){const t=new Uint8Array(e.reduce((r,o)=>r+o.length,0));let n=0;return e.forEach(r=>{if(!ts(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}function cv(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function dv(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function fv(e){let t;for(t=0;e>Qp;e>>=es,t+=1);return t}function pv(e,t){return e>>BigInt(t)&es}const hv=(e,t,n)=>e|(n?es:Qp)<<BigInt(t),uu=e=>(lv<<BigInt(e-1))-es,Gs=e=>new Uint8Array(e),od=e=>Uint8Array.from(e);function Zp(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Gs(e),o=Gs(e),i=0;const l=()=>{r.fill(1),o.fill(0),i=0},u=(...s)=>n(o,r,...s),a=(s=Gs())=>{o=u(od([0]),s),r=u(),s.length!==0&&(o=u(od([1]),s),r=u())},d=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let s=0;const c=[];for(;s<t;){r=u();const f=r.slice();c.push(f),s+=r.length}return Hn(...c)};return(s,c)=>{l(),a(s);let f;for(;!(f=c(d()));)a();return l(),f}}const yv={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function To(e,t,n={}){const r=(o,i,l)=>{const u=yv[i];if(typeof u!="function")throw new Error(`Invalid validator "${i}", expected function`);const a=e[o];if(!(l&&a===void 0)&&!u(a,e))throw new Error(`Invalid param ${String(o)}=${a} (${typeof a}), expected ${i}`)};for(const[o,i]of Object.entries(t))r(o,i,!1);for(const[o,i]of Object.entries(n))r(o,i,!0);return e}const gv=Object.freeze(Object.defineProperty({__proto__:null,bitGet:pv,bitLen:fv,bitMask:uu,bitSet:hv,bytesToHex:Er,bytesToNumberBE:Oe,bytesToNumberLE:lu,concatBytes:Hn,createHmacDrbg:Zp,ensureBytes:Ee,equalBytes:cv,hexToBytes:Sr,hexToNumber:su,numberToBytesBE:yn,numberToBytesLE:au,numberToHexUnpadded:Xp,numberToVarBytesBE:uv,utf8ToBytes:dv,validateObject:To},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ce=BigInt(0),ie=BigInt(1),bn=BigInt(2),mv=BigInt(3),ea=BigInt(4),id=BigInt(5),sd=BigInt(8);BigInt(9);BigInt(16);function pe(e,t){const n=e%t;return n>=ce?n:t+n}function vv(e,t,n){if(n<=ce||t<ce)throw new Error("Expected power/modulo > 0");if(n===ie)return ce;let r=ie;for(;t>ce;)t&ie&&(r=r*e%n),e=e*e%n,t>>=ie;return r}function We(e,t,n){let r=e;for(;t-- >ce;)r*=r,r%=n;return r}function ta(e,t){if(e===ce||t<=ce)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=pe(e,t),r=t,o=ce,i=ie;for(;n!==ce;){const u=r/n,a=r%n,d=o-i*u;r=n,n=a,o=i,i=d}if(r!==ie)throw new Error("invert: does not exist");return pe(o,t)}function wv(e){const t=(e-ie)/bn;let n,r,o;for(n=e-ie,r=0;n%bn===ce;n/=bn,r++);for(o=bn;o<e&&vv(o,t,e)!==e-ie;o++);if(r===1){const l=(e+ie)/ea;return function(a,d){const m=a.pow(d,l);if(!a.eql(a.sqr(m),d))throw new Error("Cannot find square root");return m}}const i=(n+ie)/bn;return function(u,a){if(u.pow(a,t)===u.neg(u.ONE))throw new Error("Cannot find square root");let d=r,m=u.pow(u.mul(u.ONE,o),n),s=u.pow(a,i),c=u.pow(a,n);for(;!u.eql(c,u.ONE);){if(u.eql(c,u.ZERO))return u.ZERO;let f=1;for(let y=u.sqr(c);f<d&&!u.eql(y,u.ONE);f++)y=u.sqr(y);const p=u.pow(m,ie<<BigInt(d-f-1));m=u.sqr(p),s=u.mul(s,p),c=u.mul(c,m),d=f}return s}}function xv(e){if(e%ea===mv){const t=(e+ie)/ea;return function(r,o){const i=r.pow(o,t);if(!r.eql(r.sqr(i),o))throw new Error("Cannot find square root");return i}}if(e%sd===id){const t=(e-id)/sd;return function(r,o){const i=r.mul(o,bn),l=r.pow(i,t),u=r.mul(o,l),a=r.mul(r.mul(u,bn),l),d=r.mul(u,r.sub(a,r.ONE));if(!r.eql(r.sqr(d),o))throw new Error("Cannot find square root");return d}}return wv(e)}const _v=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Ev(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=_v.reduce((r,o)=>(r[o]="function",r),t);return To(e,n)}function Sv(e,t,n){if(n<ce)throw new Error("Expected power > 0");if(n===ce)return e.ONE;if(n===ie)return t;let r=e.ONE,o=t;for(;n>ce;)n&ie&&(r=e.mul(r,o)),o=e.sqr(o),n>>=ie;return r}function bv(e,t){const n=new Array(t.length),r=t.reduce((i,l,u)=>e.is0(l)?i:(n[u]=i,e.mul(i,l)),e.ONE),o=e.inv(r);return t.reduceRight((i,l,u)=>e.is0(l)?i:(n[u]=e.mul(i,n[u]),e.mul(i,l)),o),n}function Yp(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function kv(e,t,n=!1,r={}){if(e<=ce)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:o,nByteLength:i}=Yp(e,t);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const l=xv(e),u=Object.freeze({ORDER:e,BITS:o,BYTES:i,MASK:uu(o),ZERO:ce,ONE:ie,create:a=>pe(a,e),isValid:a=>{if(typeof a!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof a}`);return ce<=a&&a<e},is0:a=>a===ce,isOdd:a=>(a&ie)===ie,neg:a=>pe(-a,e),eql:(a,d)=>a===d,sqr:a=>pe(a*a,e),add:(a,d)=>pe(a+d,e),sub:(a,d)=>pe(a-d,e),mul:(a,d)=>pe(a*d,e),pow:(a,d)=>Sv(u,a,d),div:(a,d)=>pe(a*ta(d,e),e),sqrN:a=>a*a,addN:(a,d)=>a+d,subN:(a,d)=>a-d,mulN:(a,d)=>a*d,inv:a=>ta(a,e),sqrt:r.sqrt||(a=>l(u,a)),invertBatch:a=>bv(u,a),cmov:(a,d,m)=>m?d:a,toBytes:a=>n?au(a,i):yn(a,i),fromBytes:a=>{if(a.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${a.length}`);return n?lu(a):Oe(a)}});return Object.freeze(u)}function Jp(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function eh(e){const t=Jp(e);return t+Math.ceil(t/2)}function Av(e,t,n=!1){const r=e.length,o=Jp(t),i=eh(t);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const l=n?Oe(e):lu(e),u=pe(l,t-ie)+ie;return n?au(u,o):yn(u,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Nv=BigInt(0),qs=BigInt(1);function Tv(e,t){const n=(o,i)=>{const l=i.negate();return o?l:i},r=o=>{const i=Math.ceil(t/o)+1,l=2**(o-1);return{windows:i,windowSize:l}};return{constTimeNegate:n,unsafeLadder(o,i){let l=e.ZERO,u=o;for(;i>Nv;)i&qs&&(l=l.add(u)),u=u.double(),i>>=qs;return l},precomputeWindow(o,i){const{windows:l,windowSize:u}=r(i),a=[];let d=o,m=d;for(let s=0;s<l;s++){m=d,a.push(m);for(let c=1;c<u;c++)m=m.add(d),a.push(m);d=m.double()}return a},wNAF(o,i,l){const{windows:u,windowSize:a}=r(o);let d=e.ZERO,m=e.BASE;const s=BigInt(2**o-1),c=2**o,f=BigInt(o);for(let p=0;p<u;p++){const y=p*a;let w=Number(l&s);l>>=f,w>a&&(w-=c,l+=qs);const h=y,g=y+Math.abs(w)-1,x=p%2!==0,_=w<0;w===0?m=m.add(n(x,i[h])):d=d.add(n(_,i[g]))}return{p:d,f:m}},wNAFCached(o,i,l,u){const a=o._WINDOW_SIZE||1;let d=i.get(o);return d||(d=this.precomputeWindow(o,a),a!==1&&i.set(o,u(d))),this.wNAF(a,d,l)}}}function th(e){return Ev(e.Fp),To(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Yp(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Cv(e){const t=th(e);To(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:o}=t;if(n){if(!r.eql(o,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:Lv,hexToBytes:Pv}=gv,Cn={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){const{Err:t}=Cn;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(r[0]&128)throw new t("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:Lv(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=Cn,n=typeof e=="string"?Pv(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:o,l:i}=Cn._parseInt(n.subarray(2)),{d:l,l:u}=Cn._parseInt(i);if(u.length)throw new t("Invalid signature: left bytes after parsing");return{r:o,s:l}},hexFromSig(e){const t=d=>Number.parseInt(d[0],16)&8?"00"+d:d,n=d=>{const m=d.toString(16);return m.length&1?`0${m}`:m},r=t(n(e.s)),o=t(n(e.r)),i=r.length/2,l=o.length/2,u=n(i),a=n(l);return`30${n(l+i+4)}02${a}${o}02${u}${r}`}},At=BigInt(0),Ge=BigInt(1);BigInt(2);const ld=BigInt(3);BigInt(4);function Iv(e){const t=Cv(e),{Fp:n}=t,r=t.toBytes||((p,y,w)=>{const h=y.toAffine();return Hn(Uint8Array.from([4]),n.toBytes(h.x),n.toBytes(h.y))}),o=t.fromBytes||(p=>{const y=p.subarray(1),w=n.fromBytes(y.subarray(0,n.BYTES)),h=n.fromBytes(y.subarray(n.BYTES,2*n.BYTES));return{x:w,y:h}});function i(p){const{a:y,b:w}=t,h=n.sqr(p),g=n.mul(h,p);return n.add(n.add(g,n.mul(p,y)),w)}if(!n.eql(n.sqr(t.Gy),i(t.Gx)))throw new Error("bad generator point: equation left != right");function l(p){return typeof p=="bigint"&&At<p&&p<t.n}function u(p){if(!l(p))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function a(p){const{allowedPrivateKeyLengths:y,nByteLength:w,wrapPrivateKey:h,n:g}=t;if(y&&typeof p!="bigint"){if(p instanceof Uint8Array&&(p=Er(p)),typeof p!="string"||!y.includes(p.length))throw new Error("Invalid key");p=p.padStart(w*2,"0")}let x;try{x=typeof p=="bigint"?p:Oe(Ee("private key",p,w))}catch{throw new Error(`private key must be ${w} bytes, hex or bigint, not ${typeof p}`)}return h&&(x=pe(x,g)),u(x),x}const d=new Map;function m(p){if(!(p instanceof s))throw new Error("ProjectivePoint expected")}class s{constructor(y,w,h){if(this.px=y,this.py=w,this.pz=h,y==null||!n.isValid(y))throw new Error("x required");if(w==null||!n.isValid(w))throw new Error("y required");if(h==null||!n.isValid(h))throw new Error("z required")}static fromAffine(y){const{x:w,y:h}=y||{};if(!y||!n.isValid(w)||!n.isValid(h))throw new Error("invalid affine point");if(y instanceof s)throw new Error("projective point not allowed");const g=x=>n.eql(x,n.ZERO);return g(w)&&g(h)?s.ZERO:new s(w,h,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){const w=n.invertBatch(y.map(h=>h.pz));return y.map((h,g)=>h.toAffine(w[g])).map(s.fromAffine)}static fromHex(y){const w=s.fromAffine(o(Ee("pointHex",y)));return w.assertValidity(),w}static fromPrivateKey(y){return s.BASE.multiply(a(y))}_setWindowSize(y){this._WINDOW_SIZE=y,d.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:y,y:w}=this.toAffine();if(!n.isValid(y)||!n.isValid(w))throw new Error("bad point: x or y not FE");const h=n.sqr(w),g=i(y);if(!n.eql(h,g))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y}=this.toAffine();if(n.isOdd)return!n.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){m(y);const{px:w,py:h,pz:g}=this,{px:x,py:_,pz:N}=y,S=n.eql(n.mul(w,N),n.mul(x,g)),b=n.eql(n.mul(h,N),n.mul(_,g));return S&&b}negate(){return new s(this.px,n.neg(this.py),this.pz)}double(){const{a:y,b:w}=t,h=n.mul(w,ld),{px:g,py:x,pz:_}=this;let N=n.ZERO,S=n.ZERO,b=n.ZERO,k=n.mul(g,g),I=n.mul(x,x),j=n.mul(_,_),P=n.mul(g,x);return P=n.add(P,P),b=n.mul(g,_),b=n.add(b,b),N=n.mul(y,b),S=n.mul(h,j),S=n.add(N,S),N=n.sub(I,S),S=n.add(I,S),S=n.mul(N,S),N=n.mul(P,N),b=n.mul(h,b),j=n.mul(y,j),P=n.sub(k,j),P=n.mul(y,P),P=n.add(P,b),b=n.add(k,k),k=n.add(b,k),k=n.add(k,j),k=n.mul(k,P),S=n.add(S,k),j=n.mul(x,_),j=n.add(j,j),k=n.mul(j,P),N=n.sub(N,k),b=n.mul(j,I),b=n.add(b,b),b=n.add(b,b),new s(N,S,b)}add(y){m(y);const{px:w,py:h,pz:g}=this,{px:x,py:_,pz:N}=y;let S=n.ZERO,b=n.ZERO,k=n.ZERO;const I=t.a,j=n.mul(t.b,ld);let P=n.mul(w,x),$=n.mul(h,_),F=n.mul(g,N),V=n.add(w,h),C=n.add(x,_);V=n.mul(V,C),C=n.add(P,$),V=n.sub(V,C),C=n.add(w,g);let E=n.add(x,N);return C=n.mul(C,E),E=n.add(P,F),C=n.sub(C,E),E=n.add(h,g),S=n.add(_,N),E=n.mul(E,S),S=n.add($,F),E=n.sub(E,S),k=n.mul(I,C),S=n.mul(j,F),k=n.add(S,k),S=n.sub($,k),k=n.add($,k),b=n.mul(S,k),$=n.add(P,P),$=n.add($,P),F=n.mul(I,F),C=n.mul(j,C),$=n.add($,F),F=n.sub(P,F),F=n.mul(I,F),C=n.add(C,F),P=n.mul($,C),b=n.add(b,P),P=n.mul(E,C),S=n.mul(V,S),S=n.sub(S,P),P=n.mul(V,$),k=n.mul(E,k),k=n.add(k,P),new s(S,b,k)}subtract(y){return this.add(y.negate())}is0(){return this.equals(s.ZERO)}wNAF(y){return f.wNAFCached(this,d,y,w=>{const h=n.invertBatch(w.map(g=>g.pz));return w.map((g,x)=>g.toAffine(h[x])).map(s.fromAffine)})}multiplyUnsafe(y){const w=s.ZERO;if(y===At)return w;if(u(y),y===Ge)return this;const{endo:h}=t;if(!h)return f.unsafeLadder(this,y);let{k1neg:g,k1:x,k2neg:_,k2:N}=h.splitScalar(y),S=w,b=w,k=this;for(;x>At||N>At;)x&Ge&&(S=S.add(k)),N&Ge&&(b=b.add(k)),k=k.double(),x>>=Ge,N>>=Ge;return g&&(S=S.negate()),_&&(b=b.negate()),b=new s(n.mul(b.px,h.beta),b.py,b.pz),S.add(b)}multiply(y){u(y);let w=y,h,g;const{endo:x}=t;if(x){const{k1neg:_,k1:N,k2neg:S,k2:b}=x.splitScalar(w);let{p:k,f:I}=this.wNAF(N),{p:j,f:P}=this.wNAF(b);k=f.constTimeNegate(_,k),j=f.constTimeNegate(S,j),j=new s(n.mul(j.px,x.beta),j.py,j.pz),h=k.add(j),g=I.add(P)}else{const{p:_,f:N}=this.wNAF(w);h=_,g=N}return s.normalizeZ([h,g])[0]}multiplyAndAddUnsafe(y,w,h){const g=s.BASE,x=(N,S)=>S===At||S===Ge||!N.equals(g)?N.multiplyUnsafe(S):N.multiply(S),_=x(this,w).add(x(y,h));return _.is0()?void 0:_}toAffine(y){const{px:w,py:h,pz:g}=this,x=this.is0();y==null&&(y=x?n.ONE:n.inv(g));const _=n.mul(w,y),N=n.mul(h,y),S=n.mul(g,y);if(x)return{x:n.ZERO,y:n.ZERO};if(!n.eql(S,n.ONE))throw new Error("invZ was invalid");return{x:_,y:N}}isTorsionFree(){const{h:y,isTorsionFree:w}=t;if(y===Ge)return!0;if(w)return w(s,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:y,clearCofactor:w}=t;return y===Ge?this:w?w(s,this):this.multiplyUnsafe(t.h)}toRawBytes(y=!0){return this.assertValidity(),r(s,this,y)}toHex(y=!0){return Er(this.toRawBytes(y))}}s.BASE=new s(t.Gx,t.Gy,n.ONE),s.ZERO=new s(n.ZERO,n.ONE,n.ZERO);const c=t.nBitLength,f=Tv(s,t.endo?Math.ceil(c/2):c);return{CURVE:t,ProjectivePoint:s,normPrivateKeyToScalar:a,weierstrassEquation:i,isWithinCurveOrder:l}}function jv(e){const t=th(e);return To(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function Rv(e){const t=jv(e),{Fp:n,n:r}=t,o=n.BYTES+1,i=2*n.BYTES+1;function l(C){return At<C&&C<n.ORDER}function u(C){return pe(C,r)}function a(C){return ta(C,r)}const{ProjectivePoint:d,normPrivateKeyToScalar:m,weierstrassEquation:s,isWithinCurveOrder:c}=Iv({...t,toBytes(C,E,R){const A=E.toAffine(),T=n.toBytes(A.x),M=Hn;return R?M(Uint8Array.from([E.hasEvenY()?2:3]),T):M(Uint8Array.from([4]),T,n.toBytes(A.y))},fromBytes(C){const E=C.length,R=C[0],A=C.subarray(1);if(E===o&&(R===2||R===3)){const T=Oe(A);if(!l(T))throw new Error("Point is not on curve");const M=s(T);let H=n.sqrt(M);const U=(H&Ge)===Ge;return(R&1)===1!==U&&(H=n.neg(H)),{x:T,y:H}}else if(E===i&&R===4){const T=n.fromBytes(A.subarray(0,n.BYTES)),M=n.fromBytes(A.subarray(n.BYTES,2*n.BYTES));return{x:T,y:M}}else throw new Error(`Point of length ${E} was invalid. Expected ${o} compressed bytes or ${i} uncompressed bytes`)}}),f=C=>Er(yn(C,t.nByteLength));function p(C){const E=r>>Ge;return C>E}function y(C){return p(C)?u(-C):C}const w=(C,E,R)=>Oe(C.slice(E,R));class h{constructor(E,R,A){this.r=E,this.s=R,this.recovery=A,this.assertValidity()}static fromCompact(E){const R=t.nByteLength;return E=Ee("compactSignature",E,R*2),new h(w(E,0,R),w(E,R,2*R))}static fromDER(E){const{r:R,s:A}=Cn.toSig(Ee("DER",E));return new h(R,A)}assertValidity(){if(!c(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!c(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(E){return new h(this.r,this.s,E)}recoverPublicKey(E){const{r:R,s:A,recovery:T}=this,M=b(Ee("msgHash",E));if(T==null||![0,1,2,3].includes(T))throw new Error("recovery id invalid");const H=T===2||T===3?R+t.n:R;if(H>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const U=T&1?"03":"02",ge=d.fromHex(U+f(H)),me=a(H),ct=u(-M*me),Be=u(A*me),He=d.BASE.multiplyAndAddUnsafe(ge,ct,Be);if(!He)throw new Error("point at infinify");return He.assertValidity(),He}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new h(this.r,u(-this.s),this.recovery):this}toDERRawBytes(){return Sr(this.toDERHex())}toDERHex(){return Cn.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Sr(this.toCompactHex())}toCompactHex(){return f(this.r)+f(this.s)}}const g={isValidPrivateKey(C){try{return m(C),!0}catch{return!1}},normPrivateKeyToScalar:m,randomPrivateKey:()=>{const C=eh(t.n);return Av(t.randomBytes(C),t.n)},precompute(C=8,E=d.BASE){return E._setWindowSize(C),E.multiply(BigInt(3)),E}};function x(C,E=!0){return d.fromPrivateKey(C).toRawBytes(E)}function _(C){const E=C instanceof Uint8Array,R=typeof C=="string",A=(E||R)&&C.length;return E?A===o||A===i:R?A===2*o||A===2*i:C instanceof d}function N(C,E,R=!0){if(_(C))throw new Error("first arg must be private key");if(!_(E))throw new Error("second arg must be public key");return d.fromHex(E).multiply(m(C)).toRawBytes(R)}const S=t.bits2int||function(C){const E=Oe(C),R=C.length*8-t.nBitLength;return R>0?E>>BigInt(R):E},b=t.bits2int_modN||function(C){return u(S(C))},k=uu(t.nBitLength);function I(C){if(typeof C!="bigint")throw new Error("bigint expected");if(!(At<=C&&C<k))throw new Error(`bigint expected < 2^${t.nBitLength}`);return yn(C,t.nByteLength)}function j(C,E,R=P){if(["recovered","canonical"].some(xn=>xn in R))throw new Error("sign() legacy options not supported");const{hash:A,randomBytes:T}=t;let{lowS:M,prehash:H,extraEntropy:U}=R;M==null&&(M=!0),C=Ee("msgHash",C),H&&(C=Ee("prehashed msgHash",A(C)));const ge=b(C),me=m(E),ct=[I(me),I(ge)];if(U!=null){const xn=U===!0?T(n.BYTES):U;ct.push(Ee("extraEntropy",xn))}const Be=Hn(...ct),He=ge;function gs(xn){const Dn=S(xn);if(!c(Dn))return;const $u=a(Dn),Vn=d.BASE.multiply(Dn).toAffine(),et=u(Vn.x);if(et===At)return;const Wn=u($u*u(He+et*me));if(Wn===At)return;let Fu=(Vn.x===et?0:2)|Number(Vn.y&Ge),Du=Wn;return M&&p(Wn)&&(Du=y(Wn),Fu^=1),new h(et,Du,Fu)}return{seed:Be,k2sig:gs}}const P={lowS:t.lowS,prehash:!1},$={lowS:t.lowS,prehash:!1};function F(C,E,R=P){const{seed:A,k2sig:T}=j(C,E,R),M=t;return Zp(M.hash.outputLen,M.nByteLength,M.hmac)(A,T)}d.BASE._setWindowSize(8);function V(C,E,R,A=$){var Vn;const T=C;if(E=Ee("msgHash",E),R=Ee("publicKey",R),"strict"in A)throw new Error("options.strict was renamed to lowS");const{lowS:M,prehash:H}=A;let U,ge;try{if(typeof T=="string"||T instanceof Uint8Array)try{U=h.fromDER(T)}catch(et){if(!(et instanceof Cn.Err))throw et;U=h.fromCompact(T)}else if(typeof T=="object"&&typeof T.r=="bigint"&&typeof T.s=="bigint"){const{r:et,s:Wn}=T;U=new h(et,Wn)}else throw new Error("PARSE");ge=d.fromHex(R)}catch(et){if(et.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(M&&U.hasHighS())return!1;H&&(E=t.hash(E));const{r:me,s:ct}=U,Be=b(E),He=a(ct),gs=u(Be*He),xn=u(me*He),Dn=(Vn=d.BASE.multiplyAndAddUnsafe(ge,gs,xn))==null?void 0:Vn.toAffine();return Dn?u(Dn.x)===me:!1}return{CURVE:t,getPublicKey:x,getSharedSecret:N,sign:F,verify:V,ProjectivePoint:d,Signature:h,utils:g}}let nh=class extends qp{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Qm(t);const r=iu(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,i=new Uint8Array(o);i.set(r.length>o?t.create().update(r).digest():r);for(let l=0;l<i.length;l++)i[l]^=54;this.iHash.update(i),this.oHash=t.create();for(let l=0;l<i.length;l++)i[l]^=106;this.oHash.update(i),i.fill(0)}update(t){return Ii(this),this.iHash.update(t),this}digestInto(t){Ii(this),Wp(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:o,destroyed:i,blockLen:l,outputLen:u}=this;return t=t,t.finished=o,t.destroyed=i,t.blockLen=l,t.outputLen=u,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const rh=(e,t,n)=>new nh(e,t).update(n).digest();rh.create=(e,t)=>new nh(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Mv(e){return{hash:e,hmac:(t,...n)=>rh(e,t,Jm(...n)),randomBytes:Kp}}function Ov(e,t){const n=r=>Rv({...e,...Mv(r)});return Object.freeze({...n(t),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ns=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ji=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),oh=BigInt(1),Ri=BigInt(2),ad=(e,t)=>(e+t/Ri)/t;function ih(e){const t=ns,n=BigInt(3),r=BigInt(6),o=BigInt(11),i=BigInt(22),l=BigInt(23),u=BigInt(44),a=BigInt(88),d=e*e*e%t,m=d*d*e%t,s=We(m,n,t)*m%t,c=We(s,n,t)*m%t,f=We(c,Ri,t)*d%t,p=We(f,o,t)*f%t,y=We(p,i,t)*p%t,w=We(y,u,t)*y%t,h=We(w,a,t)*w%t,g=We(h,u,t)*y%t,x=We(g,n,t)*m%t,_=We(x,l,t)*p%t,N=We(_,r,t)*d%t,S=We(N,Ri,t);if(!na.eql(na.sqr(S),e))throw new Error("Cannot find square root");return S}const na=kv(ns,void 0,void 0,{sqrt:ih}),Tr=Ov({a:BigInt(0),b:BigInt(7),Fp:na,n:ji,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=ji,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-oh*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,l=BigInt("0x100000000000000000000000000000000"),u=ad(i*e,t),a=ad(-r*e,t);let d=pe(e-u*n-a*o,t),m=pe(-u*r-a*i,t);const s=d>l,c=m>l;if(s&&(d=t-d),c&&(m=t-m),d>l||m>l)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:s,k1:d,k2neg:c,k2:m}}}},Jl),rs=BigInt(0),sh=e=>typeof e=="bigint"&&rs<e&&e<ns,Bv=e=>typeof e=="bigint"&&rs<e&&e<ji,ud={};function Mi(e,...t){let n=ud[e];if(n===void 0){const r=Jl(Uint8Array.from(e,o=>o.charCodeAt(0)));n=Hn(r,r),ud[e]=n}return Jl(Hn(n,...t))}const cu=e=>e.toRawBytes(!0).slice(1),ra=e=>yn(e,32),Ks=e=>pe(e,ns),_o=e=>pe(e,ji),du=Tr.ProjectivePoint,Hv=(e,t,n)=>du.BASE.multiplyAndAddUnsafe(e,t,n);function oa(e){let t=Tr.utils.normPrivateKeyToScalar(e),n=du.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:_o(-t),bytes:cu(n)}}function lh(e){if(!sh(e))throw new Error("bad x: need 0 < x < p");const t=Ks(e*e),n=Ks(t*e+BigInt(7));let r=ih(n);r%Ri!==rs&&(r=Ks(-r));const o=new du(e,r,oh);return o.assertValidity(),o}function ah(...e){return _o(Oe(Mi("BIP0340/challenge",...e)))}function Uv(e){return oa(e).bytes}function zv(e,t,n=Kp(32)){const r=Ee("message",e),{bytes:o,scalar:i}=oa(t),l=Ee("auxRand",n,32),u=ra(i^Oe(Mi("BIP0340/aux",l))),a=Mi("BIP0340/nonce",u,o,r),d=_o(Oe(a));if(d===rs)throw new Error("sign failed: k is zero");const{bytes:m,scalar:s}=oa(d),c=ah(m,o,r),f=new Uint8Array(64);if(f.set(m,0),f.set(ra(_o(s+c*i)),32),!uh(f,r,o))throw new Error("sign: Invalid signature produced");return f}function uh(e,t,n){const r=Ee("signature",e,64),o=Ee("message",t),i=Ee("publicKey",n,32);try{const l=lh(Oe(i)),u=Oe(r.subarray(0,32));if(!sh(u))return!1;const a=Oe(r.subarray(32,64));if(!Bv(a))return!1;const d=ah(ra(u),cu(l),o),m=Hv(l,a,_o(-d));return!(!m||!m.hasEvenY()||m.toAffine().x!==u)}catch{return!1}}const zr={getPublicKey:Uv,sign:zv,verify:uh,utils:{randomPrivateKey:Tr.utils.randomPrivateKey,lift_x:lh,pointToBytes:cu,numberToBytesBE:yn,bytesToNumberBE:Oe,taggedHash:Mi,mod:pe}},Qs=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const fu=e=>e instanceof Uint8Array,Xs=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),pt=(e,t)=>e<<32-t|e>>>t,$v=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!$v)throw new Error("Non little-endian hardware is not supported");const Fv=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Se(e){if(!fu(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=Fv[e[n]];return t}function Un(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const o=r*2,i=e.slice(o,o+2),l=Number.parseInt(i,16);if(Number.isNaN(l)||l<0)throw new Error("Invalid byte sequence");n[r]=l}return n}function Dv(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Eo(e){if(typeof e=="string"&&(e=Dv(e)),!fu(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function os(...e){const t=new Uint8Array(e.reduce((r,o)=>r+o.length,0));let n=0;return e.forEach(r=>{if(!fu(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}class ch{clone(){return this._cloneInto()}}function dh(e){const t=r=>e().update(Eo(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function fh(e=32){if(Qs&&typeof Qs.getRandomValues=="function")return Qs.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function ia(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function Vv(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function ph(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function Wv(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");ia(e.outputLen),ia(e.blockLen)}function Gv(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function qv(e,t){ph(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const mt={number:ia,bool:Vv,bytes:ph,hash:Wv,exists:Gv,output:qv};function Kv(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const o=BigInt(32),i=BigInt(4294967295),l=Number(n>>o&i),u=Number(n&i),a=r?4:0,d=r?0:4;e.setUint32(t+a,l,r),e.setUint32(t+d,u,r)}class Qv extends ch{constructor(t,n,r,o){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Xs(this.buffer)}update(t){mt.exists(this);const{view:n,buffer:r,blockLen:o}=this;t=Eo(t);const i=t.length;for(let l=0;l<i;){const u=Math.min(o-this.pos,i-l);if(u===o){const a=Xs(t);for(;o<=i-l;l+=o)this.process(a,l);continue}r.set(t.subarray(l,l+u),this.pos),this.pos+=u,l+=u,this.pos===o&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){mt.exists(this),mt.output(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:o,isLE:i}=this;let{pos:l}=this;n[l++]=128,this.buffer.subarray(l).fill(0),this.padOffset>o-l&&(this.process(r,0),l=0);for(let s=l;s<o;s++)n[s]=0;Kv(r,o-8,BigInt(this.length*8),i),this.process(r,0);const u=Xs(t),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=a/4,m=this.get();if(d>m.length)throw new Error("_sha2: outputLen bigger than state");for(let s=0;s<d;s++)u.setUint32(4*s,m[s],i)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:o,finished:i,destroyed:l,pos:u}=this;return t.length=o,t.pos=u,t.finished=i,t.destroyed=l,o%n&&t.buffer.set(r),t}}const Xv=(e,t,n)=>e&t^~e&n,Zv=(e,t,n)=>e&t^e&n^t&n,Yv=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Wt=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Gt=new Uint32Array(64);class hh extends Qv{constructor(){super(64,32,8,!1),this.A=Wt[0]|0,this.B=Wt[1]|0,this.C=Wt[2]|0,this.D=Wt[3]|0,this.E=Wt[4]|0,this.F=Wt[5]|0,this.G=Wt[6]|0,this.H=Wt[7]|0}get(){const{A:t,B:n,C:r,D:o,E:i,F:l,G:u,H:a}=this;return[t,n,r,o,i,l,u,a]}set(t,n,r,o,i,l,u,a){this.A=t|0,this.B=n|0,this.C=r|0,this.D=o|0,this.E=i|0,this.F=l|0,this.G=u|0,this.H=a|0}process(t,n){for(let s=0;s<16;s++,n+=4)Gt[s]=t.getUint32(n,!1);for(let s=16;s<64;s++){const c=Gt[s-15],f=Gt[s-2],p=pt(c,7)^pt(c,18)^c>>>3,y=pt(f,17)^pt(f,19)^f>>>10;Gt[s]=y+Gt[s-7]+p+Gt[s-16]|0}let{A:r,B:o,C:i,D:l,E:u,F:a,G:d,H:m}=this;for(let s=0;s<64;s++){const c=pt(u,6)^pt(u,11)^pt(u,25),f=m+c+Xv(u,a,d)+Yv[s]+Gt[s]|0,y=(pt(r,2)^pt(r,13)^pt(r,22))+Zv(r,o,i)|0;m=d,d=a,a=u,u=l+f|0,l=i,i=o,o=r,r=f+y|0}r=r+this.A|0,o=o+this.B|0,i=i+this.C|0,l=l+this.D|0,u=u+this.E|0,a=a+this.F|0,d=d+this.G|0,m=m+this.H|0,this.set(r,o,i,l,u,a,d,m)}roundClean(){Gt.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class Jv extends hh{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const Fn=dh(()=>new hh);dh(()=>new Jv);/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Cr(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function Ut(...e){const t=(o,i)=>l=>o(i(l)),n=Array.from(e).reverse().reduce((o,i)=>o?t(o,i.encode):i.encode,void 0),r=e.reduce((o,i)=>o?t(o,i.decode):i.decode,void 0);return{encode:n,decode:r}}function zt(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return t.map(n=>{if(Cr(n),n<0||n>=e.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${e.length})`);return e[n]})},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("alphabet.decode input should be array of strings");return t.map(n=>{if(typeof n!="string")throw new Error(`alphabet.decode: not string element=${n}`);const r=e.indexOf(n);if(r===-1)throw new Error(`Unknown letter: "${n}". Allowed: ${e}`);return r})}}}function $t(e=""){if(typeof e!="string")throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("join.encode input should be array of strings");for(let n of t)if(typeof n!="string")throw new Error(`join.encode: non-string input=${n}`);return t.join(e)},decode:t=>{if(typeof t!="string")throw new Error("join.decode input should be string");return t.split(e)}}}function is(e,t="="){if(Cr(e),typeof t!="string")throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let r of n)if(typeof r!="string")throw new Error(`padding.encode: non-string input=${r}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let o of n)if(typeof o!="string")throw new Error(`padding.decode: non-string input=${o}`);let r=n.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function yh(e){if(typeof e!="function")throw new Error("normalize fn should be function");return{encode:t=>t,decode:t=>e(t)}}function cd(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let r=0;const o=[],i=Array.from(e);for(i.forEach(l=>{if(Cr(l),l<0||l>=t)throw new Error(`Wrong integer: ${l}`)});;){let l=0,u=!0;for(let a=r;a<i.length;a++){const d=i[a],m=t*l+d;if(!Number.isSafeInteger(m)||t*l/t!==l||m-d!==t*l)throw new Error("convertRadix: carry overflow");if(l=m%n,i[a]=Math.floor(m/n),!Number.isSafeInteger(i[a])||i[a]*n+l!==m)throw new Error("convertRadix: carry overflow");if(u)i[a]?u=!1:r=a;else continue}if(o.push(l),u)break}for(let l=0;l<e.length-1&&e[l]===0;l++)o.push(0);return o.reverse()}const gh=(e,t)=>t?gh(t,e%t):e,Oi=(e,t)=>e+(t-gh(e,t));function sa(e,t,n,r){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(Oi(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${Oi(t,n)}`);let o=0,i=0;const l=2**n-1,u=[];for(const a of e){if(Cr(a),a>=2**t)throw new Error(`convertRadix2: invalid data word=${a} from=${t}`);if(o=o<<t|a,i+t>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${t}`);for(i+=t;i>=n;i-=n)u.push((o>>i-n&l)>>>0);o&=2**i-1}if(o=o<<n-i&l,!r&&i>=t)throw new Error("Excess padding");if(!r&&o)throw new Error(`Non-zero padding: ${o}`);return r&&i>0&&u.push(o>>>0),u}function e1(e){return Cr(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return cd(Array.from(t),2**8,e)},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(cd(t,e,2**8))}}}function wn(e,t=!1){if(Cr(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(Oi(8,e)>32||Oi(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return sa(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&typeof n[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(sa(n,e,8,t))}}}function dd(e){if(typeof e!="function")throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch{}}}const t1=Ut(wn(4),zt("0123456789ABCDEF"),$t("")),n1=Ut(wn(5),zt("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),is(5),$t(""));Ut(wn(5),zt("0123456789ABCDEFGHIJKLMNOPQRSTUV"),is(5),$t(""));Ut(wn(5),zt("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),$t(""),yh(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const Bt=Ut(wn(6),zt("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),is(6),$t("")),r1=Ut(wn(6),zt("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),is(6),$t("")),pu=e=>Ut(e1(58),zt(e),$t("")),la=pu("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");pu("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ");pu("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const fd=[0,2,3,5,6,7,9,10,11],o1={encode(e){let t="";for(let n=0;n<e.length;n+=8){const r=e.subarray(n,n+8);t+=la.encode(r).padStart(fd[r.length],"1")}return t},decode(e){let t=[];for(let n=0;n<e.length;n+=11){const r=e.slice(n,n+11),o=fd.indexOf(r.length),i=la.decode(r);for(let l=0;l<i.length-o;l++)if(i[l]!==0)throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(i.slice(i.length-o)))}return Uint8Array.from(t)}},aa=Ut(zt("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),$t("")),pd=[996825010,642813549,513874426,1027748829,705979059];function $r(e){const t=e>>25;let n=(e&33554431)<<5;for(let r=0;r<pd.length;r++)(t>>r&1)===1&&(n^=pd[r]);return n}function hd(e,t,n=1){const r=e.length;let o=1;for(let i=0;i<r;i++){const l=e.charCodeAt(i);if(l<33||l>126)throw new Error(`Invalid prefix (${e})`);o=$r(o)^l>>5}o=$r(o);for(let i=0;i<r;i++)o=$r(o)^e.charCodeAt(i)&31;for(let i of t)o=$r(o)^i;for(let i=0;i<6;i++)o=$r(o);return o^=n,aa.encode(sa([o%2**30],30,5,!1))}function mh(e){const t=e==="bech32"?1:734539939,n=wn(5),r=n.decode,o=n.encode,i=dd(r);function l(m,s,c=90){if(typeof m!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof m}`);if(!Array.isArray(s)||s.length&&typeof s[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof s}`);const f=m.length+7+s.length;if(c!==!1&&f>c)throw new TypeError(`Length ${f} exceeds limit ${c}`);return m=m.toLowerCase(),`${m}1${aa.encode(s)}${hd(m,s,t)}`}function u(m,s=90){if(typeof m!="string")throw new Error(`bech32.decode input should be string, not ${typeof m}`);if(m.length<8||s!==!1&&m.length>s)throw new TypeError(`Wrong string length: ${m.length} (${m}). Expected (8..${s})`);const c=m.toLowerCase();if(m!==c&&m!==m.toUpperCase())throw new Error("String must be lowercase or uppercase");m=c;const f=m.lastIndexOf("1");if(f===0||f===-1)throw new Error('Letter "1" must be present between prefix and data only');const p=m.slice(0,f),y=m.slice(f+1);if(y.length<6)throw new Error("Data must be at least 6 characters long");const w=aa.decode(y).slice(0,-6),h=hd(p,w,t);if(!y.endsWith(h))throw new Error(`Invalid checksum in ${m}: expected "${h}"`);return{prefix:p,words:w}}const a=dd(u);function d(m){const{prefix:s,words:c}=u(m,!1);return{prefix:s,words:c,bytes:r(c)}}return{encode:l,decode:u,decodeToBytes:d,decodeUnsafe:a,fromWords:r,fromWordsUnsafe:i,toWords:o}}const br=mh("bech32");mh("bech32m");const i1={encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)},s1=Ut(wn(4),zt("0123456789abcdef"),$t(""),yh(e=>{if(typeof e!="string"||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})),l1={utf8:i1,hex:s1,base16:t1,base32:n1,base64:Bt,base64url:r1,base58:la,base58xmr:o1};`${Object.keys(l1).join(", ")}`;function Zs(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function yd(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}function a1(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function vt(e,...t){if(!a1(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */const ke=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),u1=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!u1)throw new Error("Non little-endian hardware is not supported");const c1=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function qn(e){vt(e);let t="";for(let n=0;n<e.length;n++)t+=c1[e[n]];return t}const Et={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function gd(e){if(e>=Et._0&&e<=Et._9)return e-Et._0;if(e>=Et._A&&e<=Et._F)return e-(Et._A-10);if(e>=Et._a&&e<=Et._f)return e-(Et._a-10)}function vh(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let o=0,i=0;o<n;o++,i+=2){const l=gd(e.charCodeAt(i)),u=gd(e.charCodeAt(i+1));if(l===void 0||u===void 0){const a=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+a+'" at index '+i)}r[o]=l*16+u}return r}function d1(e,t){if(t==null||typeof t!="object")throw new Error("options must be defined");return Object.assign(e,t)}function f1(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}const p1=(e,t)=>(Object.assign(t,e),t),fn=16,h1=283;function hu(e){return e<<1^h1&-(e>>7)}function lr(e,t){let n=0;for(;t>0;t>>=1)n^=e&-(t&1),e=hu(e);return n}const ua=(()=>{let e=new Uint8Array(256);for(let n=0,r=1;n<256;n++,r^=hu(r))e[n]=r;const t=new Uint8Array(256);t[0]=99;for(let n=0;n<255;n++){let r=e[255-n];r|=r<<8,t[e[n]]=(r^r>>4^r>>5^r>>6^r>>7^99)&255}return t})(),y1=ua.map((e,t)=>ua.indexOf(t)),g1=e=>e<<24|e>>>8,Ys=e=>e<<8|e>>>24;function wh(e,t){if(e.length!==256)throw new Error("Wrong sbox length");const n=new Uint32Array(256).map((d,m)=>t(e[m])),r=n.map(Ys),o=r.map(Ys),i=o.map(Ys),l=new Uint32Array(256*256),u=new Uint32Array(256*256),a=new Uint16Array(256*256);for(let d=0;d<256;d++)for(let m=0;m<256;m++){const s=d*256+m;l[s]=n[d]^r[m],u[s]=o[d]^i[m],a[s]=e[d]<<8|e[m]}return{sbox:e,sbox2:a,T0:n,T1:r,T2:o,T3:i,T01:l,T23:u}}const yu=wh(ua,e=>lr(e,3)<<24|e<<16|e<<8|lr(e,2)),xh=wh(y1,e=>lr(e,11)<<24|lr(e,13)<<16|lr(e,9)<<8|lr(e,14)),m1=(()=>{const e=new Uint8Array(16);for(let t=0,n=1;t<16;t++,n=hu(n))e[t]=n;return e})();function _h(e){vt(e);const t=e.length;if(![16,24,32].includes(t))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${t}`);const{sbox2:n}=yu,r=ke(e),o=r.length,i=u=>wt(n,u,u,u,u),l=new Uint32Array(t+28);l.set(r);for(let u=o;u<l.length;u++){let a=l[u-1];u%o===0?a=i(g1(a))^m1[u/o-1]:o>6&&u%o===4&&(a=i(a)),l[u]=l[u-o]^a}return l}function v1(e){const t=_h(e),n=t.slice(),r=t.length,{sbox2:o}=yu,{T0:i,T1:l,T2:u,T3:a}=xh;for(let d=0;d<r;d+=4)for(let m=0;m<4;m++)n[d+m]=t[r-d-4+m];t.fill(0);for(let d=4;d<r-4;d++){const m=n[d],s=wt(o,m,m,m,m);n[d]=i[s&255]^l[s>>>8&255]^u[s>>>16&255]^a[s>>>24]}return n}function tn(e,t,n,r,o,i){return e[n<<8&65280|r>>>8&255]^t[o>>>8&65280|i>>>24&255]}function wt(e,t,n,r,o){return e[t&255|n&65280]|e[r>>>16&255|o>>>16&65280]<<16}function md(e,t,n,r,o){const{sbox2:i,T01:l,T23:u}=yu;let a=0;t^=e[a++],n^=e[a++],r^=e[a++],o^=e[a++];const d=e.length/4-2;for(let p=0;p<d;p++){const y=e[a++]^tn(l,u,t,n,r,o),w=e[a++]^tn(l,u,n,r,o,t),h=e[a++]^tn(l,u,r,o,t,n),g=e[a++]^tn(l,u,o,t,n,r);t=y,n=w,r=h,o=g}const m=e[a++]^wt(i,t,n,r,o),s=e[a++]^wt(i,n,r,o,t),c=e[a++]^wt(i,r,o,t,n),f=e[a++]^wt(i,o,t,n,r);return{s0:m,s1:s,s2:c,s3:f}}function w1(e,t,n,r,o){const{sbox2:i,T01:l,T23:u}=xh;let a=0;t^=e[a++],n^=e[a++],r^=e[a++],o^=e[a++];const d=e.length/4-2;for(let p=0;p<d;p++){const y=e[a++]^tn(l,u,t,o,r,n),w=e[a++]^tn(l,u,n,t,o,r),h=e[a++]^tn(l,u,r,n,t,o),g=e[a++]^tn(l,u,o,r,n,t);t=y,n=w,r=h,o=g}const m=e[a++]^wt(i,t,o,r,n),s=e[a++]^wt(i,n,t,o,r),c=e[a++]^wt(i,r,n,t,o),f=e[a++]^wt(i,o,r,n,t);return{s0:m,s1:s,s2:c,s3:f}}function Eh(e,t){if(!t)return new Uint8Array(e);if(vt(t),t.length<e)throw new Error(`aes: wrong destination length, expected at least ${e}, got: ${t.length}`);return t}function x1(e){if(vt(e),e.length%fn!==0)throw new Error(`aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size ${fn}`)}function _1(e,t,n){let r=e.length;const o=r%fn;if(!t&&o!==0)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");const i=ke(e);if(t){let a=fn-o;a||(a=fn),r=r+a}const l=Eh(r,n),u=ke(l);return{b:i,o:u,out:l}}function E1(e,t){if(!t)return e;const n=e.length;if(!n)throw new Error("aes/pcks5: empty ciphertext not allowed");const r=e[n-1];if(r<=0||r>16)throw new Error(`aes/pcks5: wrong padding byte: ${r}`);const o=e.subarray(0,-r);for(let i=0;i<r;i++)if(e[n-i-1]!==r)throw new Error("aes/pcks5: wrong padding");return o}function S1(e){const t=new Uint8Array(16),n=ke(t);t.set(e);const r=fn-e.length;for(let o=fn-r;o<fn;o++)t[o]=r;return n}const Sh=p1({blockSize:16,nonceLength:16},function(t,n,r={}){vt(t),vt(n,16);const o=!r.disablePadding;return{encrypt:(i,l)=>{const u=_h(t),{b:a,o:d,out:m}=_1(i,o,l),s=ke(n);let c=s[0],f=s[1],p=s[2],y=s[3],w=0;for(;w+4<=a.length;)c^=a[w+0],f^=a[w+1],p^=a[w+2],y^=a[w+3],{s0:c,s1:f,s2:p,s3:y}=md(u,c,f,p,y),d[w++]=c,d[w++]=f,d[w++]=p,d[w++]=y;if(o){const h=S1(i.subarray(w*4));c^=h[0],f^=h[1],p^=h[2],y^=h[3],{s0:c,s1:f,s2:p,s3:y}=md(u,c,f,p,y),d[w++]=c,d[w++]=f,d[w++]=p,d[w++]=y}return u.fill(0),m},decrypt:(i,l)=>{x1(i);const u=v1(t),a=ke(n),d=Eh(i.length,l),m=ke(i),s=ke(d);let c=a[0],f=a[1],p=a[2],y=a[3];for(let w=0;w+4<=m.length;){const h=c,g=f,x=p,_=y;c=m[w+0],f=m[w+1],p=m[w+2],y=m[w+3];const{s0:N,s1:S,s2:b,s3:k}=w1(u,c,f,p,y);s[w++]=N^h,s[w++]=S^g,s[w++]=b^x,s[w++]=k^_}return u.fill(0),E1(d,o)}}}),bh=e=>Uint8Array.from(e.split("").map(t=>t.charCodeAt(0))),b1=bh("expand 16-byte k"),k1=bh("expand 32-byte k"),A1=ke(b1),kh=ke(k1);kh.slice();function G(e,t){return e<<t|e>>>32-t}function ca(e){return e.byteOffset%4===0}const qo=64,N1=16,Ah=2**32-1,vd=new Uint32Array;function T1(e,t,n,r,o,i,l,u){const a=o.length,d=new Uint8Array(qo),m=ke(d),s=ca(o)&&ca(i),c=s?ke(o):vd,f=s?ke(i):vd;for(let p=0;p<a;l++){if(e(t,n,r,m,l,u),l>=Ah)throw new Error("arx: counter overflow");const y=Math.min(qo,a-p);if(s&&y===qo){const w=p/4;if(p%4!==0)throw new Error("arx: invalid block position");for(let h=0,g;h<N1;h++)g=w+h,f[g]=c[g]^m[h];p+=qo;continue}for(let w=0,h;w<y;w++)h=p+w,i[h]=o[h]^d[w];p+=y}}function C1(e,t){const{allowShortKeys:n,extendNonceFn:r,counterLength:o,counterRight:i,rounds:l}=d1({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof e!="function")throw new Error("core must be a function");return Zs(o),Zs(l),yd(i),yd(n),(u,a,d,m,s=0)=>{vt(u),vt(a),vt(d);const c=d.length;if(m||(m=new Uint8Array(c)),vt(m),Zs(s),s<0||s>=Ah)throw new Error("arx: counter overflow");if(m.length<c)throw new Error(`arx: output (${m.length}) is shorter than data (${c})`);const f=[];let p=u.length,y,w;if(p===32)y=u.slice(),f.push(y),w=kh;else if(p===16&&n)y=new Uint8Array(32),y.set(u),y.set(u,16),w=A1,f.push(y);else throw new Error(`arx: invalid 32-byte key, got length=${p}`);ca(a)||(a=a.slice(),f.push(a));const h=ke(y);if(r){if(a.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(w,h,ke(a.subarray(0,16)),h),a=a.subarray(16)}const g=16-o;if(g!==a.length)throw new Error(`arx: nonce must be ${g} or 16 bytes`);if(g!==12){const _=new Uint8Array(12);_.set(a,i?0:12-a.length),a=_,f.push(a)}const x=ke(a);for(T1(e,w,h,x,d,m,s,l);f.length>0;)f.pop().fill(0);return m}}function L1(e,t,n,r,o,i=20){let l=e[0],u=e[1],a=e[2],d=e[3],m=t[0],s=t[1],c=t[2],f=t[3],p=t[4],y=t[5],w=t[6],h=t[7],g=o,x=n[0],_=n[1],N=n[2],S=l,b=u,k=a,I=d,j=m,P=s,$=c,F=f,V=p,C=y,E=w,R=h,A=g,T=x,M=_,H=N;for(let ge=0;ge<i;ge+=2)S=S+j|0,A=G(A^S,16),V=V+A|0,j=G(j^V,12),S=S+j|0,A=G(A^S,8),V=V+A|0,j=G(j^V,7),b=b+P|0,T=G(T^b,16),C=C+T|0,P=G(P^C,12),b=b+P|0,T=G(T^b,8),C=C+T|0,P=G(P^C,7),k=k+$|0,M=G(M^k,16),E=E+M|0,$=G($^E,12),k=k+$|0,M=G(M^k,8),E=E+M|0,$=G($^E,7),I=I+F|0,H=G(H^I,16),R=R+H|0,F=G(F^R,12),I=I+F|0,H=G(H^I,8),R=R+H|0,F=G(F^R,7),S=S+P|0,H=G(H^S,16),E=E+H|0,P=G(P^E,12),S=S+P|0,H=G(H^S,8),E=E+H|0,P=G(P^E,7),b=b+$|0,A=G(A^b,16),R=R+A|0,$=G($^R,12),b=b+$|0,A=G(A^b,8),R=R+A|0,$=G($^R,7),k=k+F|0,T=G(T^k,16),V=V+T|0,F=G(F^V,12),k=k+F|0,T=G(T^k,8),V=V+T|0,F=G(F^V,7),I=I+j|0,M=G(M^I,16),C=C+M|0,j=G(j^C,12),I=I+j|0,M=G(M^I,8),C=C+M|0,j=G(j^C,7);let U=0;r[U++]=l+S|0,r[U++]=u+b|0,r[U++]=a+k|0,r[U++]=d+I|0,r[U++]=m+j|0,r[U++]=s+P|0,r[U++]=c+$|0,r[U++]=f+F|0,r[U++]=p+V|0,r[U++]=y+C|0,r[U++]=w+E|0,r[U++]=h+R|0,r[U++]=g+A|0,r[U++]=x+T|0,r[U++]=_+M|0,r[U++]=N+H|0}const Nh=C1(L1,{counterRight:!1,counterLength:4,allowShortKeys:!1});class Th extends ch{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,mt.hash(t);const r=Eo(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,i=new Uint8Array(o);i.set(r.length>o?t.create().update(r).digest():r);for(let l=0;l<i.length;l++)i[l]^=54;this.iHash.update(i),this.oHash=t.create();for(let l=0;l<i.length;l++)i[l]^=106;this.oHash.update(i),i.fill(0)}update(t){return mt.exists(this),this.iHash.update(t),this}digestInto(t){mt.exists(this),mt.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:o,destroyed:i,blockLen:l,outputLen:u}=this;return t=t,t.finished=o,t.destroyed=i,t.blockLen=l,t.outputLen=u,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const ss=(e,t,n)=>new Th(e,t).update(n).digest();ss.create=(e,t)=>new Th(e,t);function P1(e,t,n){return mt.hash(e),ss(e,Eo(n),Eo(t))}const Js=new Uint8Array([0]),wd=new Uint8Array;function I1(e,t,n,r=32){if(mt.hash(e),mt.number(r),r>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");const o=Math.ceil(r/e.outputLen);n===void 0&&(n=wd);const i=new Uint8Array(o*e.outputLen),l=ss.create(e,t),u=l._cloneInto(),a=new Uint8Array(l.outputLen);for(let d=0;d<o;d++)Js[0]=d+1,u.update(d===0?wd:a).update(n).update(Js).digestInto(a),i.set(a,e.outputLen*d),l._cloneInto(u);return l.destroy(),u.destroy(),a.fill(0),Js.fill(0),i.slice(0,r)}var j1=Object.defineProperty,Z=(e,t)=>{for(var n in t)j1(e,n,{get:t[n],enumerable:!0})},Xt=Symbol("verified"),R1=e=>e instanceof Object;function ls(e){if(!R1(e)||typeof e.kind!="number"||typeof e.content!="string"||typeof e.created_at!="number"||typeof e.pubkey!="string"||!e.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){let n=e.tags[t];if(!Array.isArray(n))return!1;for(let r=0;r<n.length;r++)if(typeof n[r]!="string")return!1}return!0}var Ch={};Z(Ch,{Queue:()=>Ph,QueueNode:()=>Lh,binarySearch:()=>gu,bytesToHex:()=>Se,hexToBytes:()=>Un,insertEventIntoAscendingList:()=>O1,insertEventIntoDescendingList:()=>M1,normalizeURL:()=>kn,utf8Decoder:()=>Lt,utf8Encoder:()=>ut});var Lt=new TextDecoder("utf-8"),ut=new TextEncoder;function kn(e){try{e.indexOf("://")===-1&&(e="wss://"+e);let t=new URL(e);return t.protocol==="http:"?t.protocol="ws:":t.protocol==="https:"&&(t.protocol="wss:"),t.pathname=t.pathname.replace(/\/+/g,"/"),t.pathname.endsWith("/")&&(t.pathname=t.pathname.slice(0,-1)),(t.port==="80"&&t.protocol==="ws:"||t.port==="443"&&t.protocol==="wss:")&&(t.port=""),t.searchParams.sort(),t.hash="",t.toString()}catch{throw new Error(`Invalid URL: ${e}`)}}function M1(e,t){const[n,r]=gu(e,o=>t.id===o.id?0:t.created_at===o.created_at?-1:o.created_at-t.created_at);return r||e.splice(n,0,t),e}function O1(e,t){const[n,r]=gu(e,o=>t.id===o.id?0:t.created_at===o.created_at?-1:t.created_at-o.created_at);return r||e.splice(n,0,t),e}function gu(e,t){let n=0,r=e.length-1;for(;n<=r;){const o=Math.floor((n+r)/2),i=t(e[o]);if(i===0)return[o,!0];i<0?r=o-1:n=o+1}return[n,!1]}var Lh=class{constructor(e){O(this,"value");O(this,"next",null);O(this,"prev",null);this.value=e}},Ph=class{constructor(){O(this,"first");O(this,"last");this.first=null,this.last=null}enqueue(e){const t=new Lh(e);return this.last?this.last===this.first?(this.last=t,this.last.prev=this.first,this.first.next=t):(t.prev=this.last,this.last.next=t,this.last=t):(this.first=t,this.last=t),!0}dequeue(){if(!this.first)return null;if(this.first===this.last){const t=this.first;return this.first=null,this.last=null,t.value}const e=this.first;return this.first=e.next,this.first&&(this.first.prev=null),e.value}},B1=class{generateSecretKey(){return zr.utils.randomPrivateKey()}getPublicKey(e){return Se(zr.getPublicKey(e))}finalizeEvent(e,t){const n=e;return n.pubkey=Se(zr.getPublicKey(t)),n.id=no(n),n.sig=Se(zr.sign(no(n),t)),n[Xt]=!0,n}verifyEvent(e){if(typeof e[Xt]=="boolean")return e[Xt];const t=no(e);if(t!==e.id)return e[Xt]=!1,!1;try{const n=zr.verify(e.sig,t,e.pubkey);return e[Xt]=n,n}catch{return e[Xt]=!1,!1}}};function Ih(e){if(!ls(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}function no(e){let t=Fn(ut.encode(Ih(e)));return Se(t)}var as=new B1,mu=as.generateSecretKey,Lr=as.getPublicKey,Je=as.finalizeEvent,Co=as.verifyEvent,jh={};Z(jh,{Application:()=>Ow,BadgeAward:()=>W1,BadgeDefinition:()=>Cw,BlockedRelaysList:()=>pw,BookmarkList:()=>cw,Bookmarksets:()=>Aw,Calendar:()=>Dw,CalendarEventRSVP:()=>Vw,ChannelCreation:()=>Uh,ChannelHideMessage:()=>Fh,ChannelMessage:()=>$h,ChannelMetadata:()=>zh,ChannelMuteUser:()=>Dh,ClassifiedListing:()=>Uw,ClientAuth:()=>Wh,CommunitiesList:()=>dw,CommunityDefinition:()=>qw,CommunityPostApproval:()=>J1,Contacts:()=>F1,CreateOrUpdateProduct:()=>Iw,CreateOrUpdateStall:()=>Pw,Curationsets:()=>Nw,Date:()=>$w,DirectMessageRelaysList:()=>mw,DraftClassifiedListing:()=>zw,DraftLong:()=>Rw,Emojisets:()=>Mw,EncryptedDirectMessage:()=>D1,EventDeletion:()=>V1,FileMetadata:()=>q1,FileServerPreference:()=>vw,Followsets:()=>Sw,GenericRepost:()=>Eu,Genericlists:()=>bw,GiftWrap:()=>Vh,HTTPAuth:()=>Su,Handlerinformation:()=>Gw,Handlerrecommendation:()=>Ww,Highlights:()=>sw,InterestsList:()=>yw,Interestsets:()=>Lw,JobFeedback:()=>nw,JobRequest:()=>ew,JobResult:()=>tw,Label:()=>Y1,LightningPubRPC:()=>xw,LiveChatMessage:()=>K1,LiveEvent:()=>Bw,LongFormArticle:()=>jw,Metadata:()=>z1,Mutelist:()=>lw,NWCWalletInfo:()=>ww,NWCWalletRequest:()=>Gh,NWCWalletResponse:()=>_w,NostrConnect:()=>Ew,OpenTimestamps:()=>G1,Pinlist:()=>aw,PrivateDirectMessage:()=>Hh,ProblemTracker:()=>Q1,ProfileBadges:()=>Tw,PublicChatsList:()=>fw,Reaction:()=>_u,RecommendRelay:()=>$1,RelayList:()=>uw,Relaysets:()=>kw,Report:()=>X1,Reporting:()=>Z1,Repost:()=>xu,Seal:()=>Bh,SearchRelaysList:()=>hw,ShortTextNote:()=>Oh,Time:()=>Fw,UserEmojiList:()=>gw,UserStatuses:()=>Hw,Zap:()=>iw,ZapGoal:()=>rw,ZapRequest:()=>ow,classifyKind:()=>H1,isAddressableKind:()=>wu,isEphemeralKind:()=>Mh,isKind:()=>U1,isRegularKind:()=>Rh,isReplaceableKind:()=>vu});function Rh(e){return e<1e4&&e!==0&&e!==3}function vu(e){return e===0||e===3||1e4<=e&&e<2e4}function Mh(e){return 2e4<=e&&e<3e4}function wu(e){return 3e4<=e&&e<4e4}function H1(e){return Rh(e)?"regular":vu(e)?"replaceable":Mh(e)?"ephemeral":wu(e)?"parameterized":"unknown"}function U1(e,t){const n=t instanceof Array?t:[t];return ls(e)&&n.includes(e.kind)||!1}var z1=0,Oh=1,$1=2,F1=3,D1=4,V1=5,xu=6,_u=7,W1=8,Bh=13,Hh=14,Eu=16,Uh=40,zh=41,$h=42,Fh=43,Dh=44,G1=1040,Vh=1059,q1=1063,K1=1311,Q1=1971,X1=1984,Z1=1984,Y1=1985,J1=4550,ew=5999,tw=6999,nw=7e3,rw=9041,ow=9734,iw=9735,sw=9802,lw=1e4,aw=10001,uw=10002,cw=10003,dw=10004,fw=10005,pw=10006,hw=10007,yw=10015,gw=10030,mw=10050,vw=10096,ww=13194,xw=21e3,Wh=22242,Gh=23194,_w=23195,Ew=24133,Su=27235,Sw=3e4,bw=30001,kw=30002,Aw=30003,Nw=30004,Tw=30008,Cw=30009,Lw=30015,Pw=30017,Iw=30018,jw=30023,Rw=30024,Mw=30030,Ow=30078,Bw=30311,Hw=30315,Uw=30402,zw=30403,$w=31922,Fw=31923,Dw=31924,Vw=31925,Ww=31989,Gw=31990,qw=34550;function qh(e,t){if(e.ids&&e.ids.indexOf(t.id)===-1||e.kinds&&e.kinds.indexOf(t.kind)===-1||e.authors&&e.authors.indexOf(t.pubkey)===-1)return!1;for(let n in e)if(n[0]==="#"){let r=n.slice(1),o=e[`#${r}`];if(o&&!t.tags.find(([i,l])=>i===n.slice(1)&&o.indexOf(l)!==-1))return!1}return!(e.since&&t.created_at<e.since||e.until&&t.created_at>e.until)}function Kh(e,t){for(let n=0;n<e.length;n++)if(qh(e[n],t))return!0;return!1}var Qh={};Z(Qh,{getHex64:()=>us,getInt:()=>Xh,getSubscriptionId:()=>Zh,matchEventId:()=>Kw,matchEventKind:()=>Xw,matchEventPubkey:()=>Qw});function us(e,t){let n=t.length+3,r=e.indexOf(`"${t}":`)+n,o=e.slice(r).indexOf('"')+r+1;return e.slice(o,o+64)}function Xh(e,t){let n=t.length,r=e.indexOf(`"${t}":`)+n+3,o=e.slice(r),i=Math.min(o.indexOf(","),o.indexOf("}"));return parseInt(o.slice(0,i),10)}function Zh(e){let t=e.slice(0,22).indexOf('"EVENT"');if(t===-1)return null;let n=e.slice(t+7+1).indexOf('"');if(n===-1)return null;let r=t+7+1+n,o=e.slice(r+1,80).indexOf('"');if(o===-1)return null;let i=r+1+o;return e.slice(r+1,i)}function Kw(e,t){return t===us(e,"id")}function Qw(e,t){return t===us(e,"pubkey")}function Xw(e,t){return t===Xh(e,"kind")}var Yh={};Z(Yh,{makeAuthEvent:()=>Jh});function Jh(e,t){return{kind:Wh,created_at:Math.floor(Date.now()/1e3),tags:[["relay",e],["challenge",t]],content:""}}async function Zw(){return new Promise((e,t)=>{try{if(typeof MessageChannel<"u"){const n=new MessageChannel,r=()=>{n.port1.removeEventListener("message",r),e()};n.port1.addEventListener("message",r),n.port2.postMessage(0),n.port1.start()}else typeof setImmediate<"u"?setImmediate(e):typeof setTimeout<"u"?setTimeout(e,0):e()}catch(n){console.error("during yield: ",n),t(n)}})}var Yw=e=>(e[Xt]=!0,!0),e0=class extends Error{constructor(e,t){super(`Tried to send message '${e} on a closed connection to ${t}.`),this.name="SendingOnClosedConnection"}},t0=class{constructor(e,t){O(this,"url");O(this,"_connected",!1);O(this,"onclose",null);O(this,"onnotice",e=>console.debug(`NOTICE from ${this.url}: ${e}`));O(this,"baseEoseTimeout",4400);O(this,"connectionTimeout",4400);O(this,"publishTimeout",4400);O(this,"pingFrequency",2e4);O(this,"pingTimeout",2e4);O(this,"resubscribeBackoff",[1e4,1e4,1e4,2e4,2e4,3e4,6e4]);O(this,"openSubs",new Map);O(this,"enablePing");O(this,"enableReconnect");O(this,"connectionTimeoutHandle");O(this,"reconnectTimeoutHandle");O(this,"pingTimeoutHandle");O(this,"reconnectAttempts",0);O(this,"closedIntentionally",!1);O(this,"connectionPromise");O(this,"openCountRequests",new Map);O(this,"openEventPublishes",new Map);O(this,"ws");O(this,"incomingMessageQueue",new Ph);O(this,"queueRunning",!1);O(this,"challenge");O(this,"authPromise");O(this,"serial",0);O(this,"verifyEvent");O(this,"_WebSocket");this.url=kn(e),this.verifyEvent=t.verifyEvent,this._WebSocket=t.websocketImplementation||WebSocket,this.enablePing=t.enablePing,this.enableReconnect=t.enableReconnect||!1}static async connect(e,t){const n=new t0(e,t);return await n.connect(),n}closeAllSubscriptions(e){for(let[t,n]of this.openSubs)n.close(e);this.openSubs.clear();for(let[t,n]of this.openEventPublishes)n.reject(new Error(e));this.openEventPublishes.clear();for(let[t,n]of this.openCountRequests)n.reject(new Error(e));this.openCountRequests.clear()}get connected(){return this._connected}async reconnect(){const e=this.resubscribeBackoff[Math.min(this.reconnectAttempts,this.resubscribeBackoff.length-1)];this.reconnectAttempts++,this.reconnectTimeoutHandle=setTimeout(async()=>{try{await this.connect()}catch{}},e)}handleHardClose(e){var n;this.pingTimeoutHandle&&(clearTimeout(this.pingTimeoutHandle),this.pingTimeoutHandle=void 0),this._connected=!1,this.connectionPromise=void 0;const t=this.closedIntentionally;this.closedIntentionally=!1,(n=this.onclose)==null||n.call(this),this.enableReconnect&&!t?this.reconnect():this.closeAllSubscriptions(e)}async connect(){return this.connectionPromise?this.connectionPromise:(this.challenge=void 0,this.authPromise=void 0,this.connectionPromise=new Promise((e,t)=>{this.connectionTimeoutHandle=setTimeout(()=>{var n;t("connection timed out"),this.connectionPromise=void 0,(n=this.onclose)==null||n.call(this),this.closeAllSubscriptions("relay connection timed out")},this.connectionTimeout);try{this.ws=new this._WebSocket(this.url)}catch(n){clearTimeout(this.connectionTimeoutHandle),t(n);return}this.ws.onopen=()=>{this.reconnectTimeoutHandle&&(clearTimeout(this.reconnectTimeoutHandle),this.reconnectTimeoutHandle=void 0),clearTimeout(this.connectionTimeoutHandle),this._connected=!0,this.reconnectAttempts=0;for(const n of this.openSubs.values())n.eosed=!1,typeof this.enableReconnect=="function"&&(n.filters=this.enableReconnect(n.filters)),n.fire();this.enablePing&&this.pingpong(),e()},this.ws.onerror=n=>{clearTimeout(this.connectionTimeoutHandle),t(n.message||"websocket error"),this.handleHardClose("relay connection errored")},this.ws.onclose=n=>{clearTimeout(this.connectionTimeoutHandle),t(n.message||"websocket closed"),this.handleHardClose("relay connection closed")},this.ws.onmessage=this._onmessage.bind(this)}),this.connectionPromise)}waitForPingPong(){return new Promise(e=>{this.ws.once("pong",()=>e(!0)),this.ws.ping()})}async waitForDummyReq(){return new Promise((e,t)=>{const n=this.subscribe([{ids:["a".repeat(64)]}],{oneose:()=>{n.close(),e(!0)},eoseTimeout:this.pingTimeout+1e3})})}async pingpong(){var e,t,n;((e=this.ws)==null?void 0:e.readyState)===1&&(await Promise.any([this.ws&&this.ws.ping&&this.ws.once?this.waitForPingPong():this.waitForDummyReq(),new Promise(o=>setTimeout(()=>o(!1),this.pingTimeout))])?this.pingTimeoutHandle=setTimeout(()=>this.pingpong(),this.pingFrequency):((t=this.ws)==null?void 0:t.readyState)===this._WebSocket.OPEN&&((n=this.ws)==null||n.close()))}async runQueue(){for(this.queueRunning=!0;this.handleNext()!==!1;)await Zw();this.queueRunning=!1}handleNext(){var n,r,o;const e=this.incomingMessageQueue.dequeue();if(!e)return!1;const t=Zh(e);if(t){const i=this.openSubs.get(t);if(!i)return;const l=us(e,"id"),u=(n=i.alreadyHaveEvent)==null?void 0:n.call(i,l);if((r=i.receivedEvent)==null||r.call(i,this,l),u)return}try{let i=JSON.parse(e);switch(i[0]){case"EVENT":{const l=this.openSubs.get(i[1]),u=i[2];this.verifyEvent(u)&&Kh(l.filters,u)&&l.onevent(u);return}case"COUNT":{const l=i[1],u=i[2],a=this.openCountRequests.get(l);a&&(a.resolve(u.count),this.openCountRequests.delete(l));return}case"EOSE":{const l=this.openSubs.get(i[1]);if(!l)return;l.receivedEose();return}case"OK":{const l=i[1],u=i[2],a=i[3],d=this.openEventPublishes.get(l);d&&(clearTimeout(d.timeout),u?d.resolve(a):d.reject(new Error(a)),this.openEventPublishes.delete(l));return}case"CLOSED":{const l=i[1],u=this.openSubs.get(l);if(!u)return;u.closed=!0,u.close(i[2]);return}case"NOTICE":{this.onnotice(i[1]);return}case"AUTH":{this.challenge=i[1];return}default:{const l=this.openSubs.get(i[1]);(o=l==null?void 0:l.oncustom)==null||o.call(l,i);return}}}catch{return}}async send(e){if(!this.connectionPromise)throw new e0(e,this.url);this.connectionPromise.then(()=>{var t;(t=this.ws)==null||t.send(e)})}async auth(e){const t=this.challenge;if(!t)throw new Error("can't perform auth, no challenge was received");return this.authPromise?this.authPromise:(this.authPromise=new Promise(async(n,r)=>{try{let o=await e(Jh(this.url,t)),i=setTimeout(()=>{let l=this.openEventPublishes.get(o.id);l&&(l.reject(new Error("auth timed out")),this.openEventPublishes.delete(o.id))},this.publishTimeout);this.openEventPublishes.set(o.id,{resolve:n,reject:r,timeout:i}),this.send('["AUTH",'+JSON.stringify(o)+"]")}catch(o){console.warn("subscribe auth function failed:",o)}}),this.authPromise)}async publish(e){const t=new Promise((n,r)=>{const o=setTimeout(()=>{const i=this.openEventPublishes.get(e.id);i&&(i.reject(new Error("publish timed out")),this.openEventPublishes.delete(e.id))},this.publishTimeout);this.openEventPublishes.set(e.id,{resolve:n,reject:r,timeout:o})});return this.send('["EVENT",'+JSON.stringify(e)+"]"),t}async count(e,t){this.serial++;const n=(t==null?void 0:t.id)||"count:"+this.serial,r=new Promise((o,i)=>{this.openCountRequests.set(n,{resolve:o,reject:i})});return this.send('["COUNT","'+n+'",'+JSON.stringify(e).substring(1)),r}subscribe(e,t){const n=this.prepareSubscription(e,t);return n.fire(),n}prepareSubscription(e,t){this.serial++;const n=t.id||(t.label?t.label+":":"sub:")+this.serial,r=new Jw(this,n,e,t);return this.openSubs.set(n,r),r}close(){var e,t,n;this.closedIntentionally=!0,this.reconnectTimeoutHandle&&(clearTimeout(this.reconnectTimeoutHandle),this.reconnectTimeoutHandle=void 0),this.pingTimeoutHandle&&(clearTimeout(this.pingTimeoutHandle),this.pingTimeoutHandle=void 0),this.closeAllSubscriptions("relay connection closed by us"),this._connected=!1,(e=this.onclose)==null||e.call(this),((t=this.ws)==null?void 0:t.readyState)===this._WebSocket.OPEN&&((n=this.ws)==null||n.close())}_onmessage(e){this.incomingMessageQueue.enqueue(e.data),this.queueRunning||this.runQueue()}},Jw=class{constructor(e,t,n,r){O(this,"relay");O(this,"id");O(this,"closed",!1);O(this,"eosed",!1);O(this,"filters");O(this,"alreadyHaveEvent");O(this,"receivedEvent");O(this,"onevent");O(this,"oneose");O(this,"onclose");O(this,"oncustom");O(this,"eoseTimeout");O(this,"eoseTimeoutHandle");if(n.length===0)throw new Error("subscription can't be created with zero filters");this.relay=e,this.filters=n,this.id=t,this.alreadyHaveEvent=r.alreadyHaveEvent,this.receivedEvent=r.receivedEvent,this.eoseTimeout=r.eoseTimeout||e.baseEoseTimeout,this.oneose=r.oneose,this.onclose=r.onclose,this.onevent=r.onevent||(o=>{console.warn(`onevent() callback not defined for subscription '${this.id}' in relay ${this.relay.url}. event received:`,o)})}fire(){this.relay.send('["REQ","'+this.id+'",'+JSON.stringify(this.filters).substring(1)),this.eoseTimeoutHandle=setTimeout(this.receivedEose.bind(this),this.eoseTimeout)}receivedEose(){var e;this.eosed||(clearTimeout(this.eoseTimeoutHandle),this.eosed=!0,(e=this.oneose)==null||e.call(this))}close(e="closed by caller"){var t;if(!this.closed&&this.relay.connected){try{this.relay.send('["CLOSE",'+JSON.stringify(this.id)+"]")}catch(n){if(!(n instanceof e0))throw n}this.closed=!0}this.relay.openSubs.delete(this.id),(t=this.onclose)==null||t.call(this,e)}},ex;try{ex=WebSocket}catch{}var tx=class{constructor(e){O(this,"relays",new Map);O(this,"seenOn",new Map);O(this,"trackRelays",!1);O(this,"verifyEvent");O(this,"enablePing");O(this,"enableReconnect");O(this,"trustedRelayURLs",new Set);O(this,"_WebSocket");this.verifyEvent=e.verifyEvent,this._WebSocket=e.websocketImplementation,this.enablePing=e.enablePing,this.enableReconnect=e.enableReconnect}async ensureRelay(e,t){e=kn(e);let n=this.relays.get(e);return n||(n=new t0(e,{verifyEvent:this.trustedRelayURLs.has(e)?Yw:this.verifyEvent,websocketImplementation:this._WebSocket,enablePing:this.enablePing,enableReconnect:this.enableReconnect}),n.onclose=()=>{n&&!n.enableReconnect&&this.relays.delete(e)},t!=null&&t.connectionTimeout&&(n.connectionTimeout=t.connectionTimeout),this.relays.set(e,n)),await n.connect(),n}close(e){e.map(kn).forEach(t=>{var n;(n=this.relays.get(t))==null||n.close(),this.relays.delete(t)})}subscribe(e,t,n){n.onauth=n.onauth||n.doauth;const r=[];for(let o=0;o<e.length;o++){const i=kn(e[o]);r.find(l=>l.url===i)||r.push({url:i,filter:t})}return this.subscribeMap(r,n)}subscribeMany(e,t,n){n.onauth=n.onauth||n.doauth;const r=[],o=[];for(let i=0;i<e.length;i++){const l=kn(e[i]);o.indexOf(l)===-1&&(o.push(l),r.push({url:l,filter:t}))}return this.subscribeMap(r,n)}subscribeMap(e,t){t.onauth=t.onauth||t.doauth;const n=new Map;for(const c of e){const{url:f,filter:p}=c;n.has(f)||n.set(f,[]),n.get(f).push(p)}const r=Array.from(n.entries()).map(([c,f])=>({url:c,filters:f}));this.trackRelays&&(t.receivedEvent=(c,f)=>{let p=this.seenOn.get(f);p||(p=new Set,this.seenOn.set(f,p)),p.add(c)});const o=new Set,i=[],l=[];let u=c=>{var f;l[c]||(l[c]=!0,l.filter(p=>p).length===r.length&&((f=t.oneose)==null||f.call(t),u=()=>{}))};const a=[];let d=(c,f)=>{var p;a[c]||(u(c),a[c]=f,a.filter(y=>y).length===r.length&&((p=t.onclose)==null||p.call(t,a),d=()=>{}))};const m=c=>{var p;if((p=t.alreadyHaveEvent)!=null&&p.call(t,c))return!0;const f=o.has(c);return o.add(c),f},s=Promise.all(r.map(async({url:c,filters:f},p)=>{let y;try{y=await this.ensureRelay(c,{connectionTimeout:t.maxWait?Math.max(t.maxWait*.8,t.maxWait-1e3):void 0})}catch(h){d(p,(h==null?void 0:h.message)||String(h));return}let w=y.subscribe(f,{...t,oneose:()=>u(p),onclose:h=>{h.startsWith("auth-required: ")&&t.onauth?y.auth(t.onauth).then(()=>{y.subscribe(f,{...t,oneose:()=>u(p),onclose:g=>{d(p,g)},alreadyHaveEvent:m,eoseTimeout:t.maxWait})}).catch(g=>{d(p,`auth was required and attempted, but failed with: ${g}`)}):d(p,h)},alreadyHaveEvent:m,eoseTimeout:t.maxWait});i.push(w)}));return{async close(c){await s,i.forEach(f=>{f.close(c)})}}}subscribeEose(e,t,n){n.onauth=n.onauth||n.doauth;const r=this.subscribe(e,t,{...n,oneose(){r.close("closed automatically on eose")}});return r}subscribeManyEose(e,t,n){n.onauth=n.onauth||n.doauth;const r=this.subscribeMany(e,t,{...n,oneose(){r.close("closed automatically on eose")}});return r}async querySync(e,t,n){return new Promise(async r=>{const o=[];this.subscribeEose(e,t,{...n,onevent(i){o.push(i)},onclose(i){r(o)}})})}async get(e,t,n){t.limit=1;const r=await this.querySync(e,t,n);return r.sort((o,i)=>i.created_at-o.created_at),r[0]||null}publish(e,t,n){return e.map(kn).map(async(r,o,i)=>{if(i.indexOf(r)!==o)return Promise.reject("duplicate url");let l=await this.ensureRelay(r);return l.publish(t).catch(async u=>{if(u instanceof Error&&u.message.startsWith("auth-required: ")&&(n!=null&&n.onauth))return await l.auth(n.onauth),l.publish(t);throw u}).then(u=>{if(this.trackRelays){let a=this.seenOn.get(t.id);a||(a=new Set,this.seenOn.set(t.id,a)),a.add(l)}return u})})}listConnectionStatus(){const e=new Map;return this.relays.forEach((t,n)=>e.set(n,t.connected)),e}destroy(){this.relays.forEach(e=>e.close()),this.relays=new Map}},n0;try{n0=WebSocket}catch{}var r0=class extends tx{constructor(e){super({verifyEvent:Co,websocketImplementation:n0,...e})}},It={};Z(It,{BECH32_REGEX:()=>o0,Bech32MaxSize:()=>bu,NostrTypeGuard:()=>nx,decode:()=>cs,decodeNostrURI:()=>ox,encodeBytes:()=>fs,naddrEncode:()=>cx,neventEncode:()=>ux,noteEncode:()=>lx,nprofileEncode:()=>ax,npubEncode:()=>sx,nsecEncode:()=>ix});var nx={isNProfile:e=>/^nprofile1[a-z\d]+$/.test(e||""),isNEvent:e=>/^nevent1[a-z\d]+$/.test(e||""),isNAddr:e=>/^naddr1[a-z\d]+$/.test(e||""),isNSec:e=>/^nsec1[a-z\d]{58}$/.test(e||""),isNPub:e=>/^npub1[a-z\d]{58}$/.test(e||""),isNote:e=>/^note1[a-z\d]+$/.test(e||""),isNcryptsec:e=>/^ncryptsec1[a-z\d]+$/.test(e||"")},bu=5e3,o0=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function rx(e){const t=new Uint8Array(4);return t[0]=e>>24&255,t[1]=e>>16&255,t[2]=e>>8&255,t[3]=e&255,t}function ox(e){try{return e.startsWith("nostr:")&&(e=e.substring(6)),cs(e)}catch{return{type:"invalid",data:null}}}function cs(e){var o,i,l,u,a,d,m;let{prefix:t,words:n}=br.decode(e,bu),r=new Uint8Array(br.fromWords(n));switch(t){case"nprofile":{let s=el(r);if(!((o=s[0])!=null&&o[0]))throw new Error("missing TLV 0 for nprofile");if(s[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:Se(s[0][0]),relays:s[1]?s[1].map(c=>Lt.decode(c)):[]}}}case"nevent":{let s=el(r);if(!((i=s[0])!=null&&i[0]))throw new Error("missing TLV 0 for nevent");if(s[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");if(s[2]&&s[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(s[3]&&s[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:Se(s[0][0]),relays:s[1]?s[1].map(c=>Lt.decode(c)):[],author:(l=s[2])!=null&&l[0]?Se(s[2][0]):void 0,kind:(u=s[3])!=null&&u[0]?parseInt(Se(s[3][0]),16):void 0}}}case"naddr":{let s=el(r);if(!((a=s[0])!=null&&a[0]))throw new Error("missing TLV 0 for naddr");if(!((d=s[2])!=null&&d[0]))throw new Error("missing TLV 2 for naddr");if(s[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(!((m=s[3])!=null&&m[0]))throw new Error("missing TLV 3 for naddr");if(s[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:Lt.decode(s[0][0]),pubkey:Se(s[2][0]),kind:parseInt(Se(s[3][0]),16),relays:s[1]?s[1].map(c=>Lt.decode(c)):[]}}}case"nsec":return{type:t,data:r};case"npub":case"note":return{type:t,data:Se(r)};default:throw new Error(`unknown prefix ${t}`)}}function el(e){let t={},n=e;for(;n.length>0;){let r=n[0],o=n[1],i=n.slice(2,2+o);if(n=n.slice(2+o),i.length<o)throw new Error(`not enough data to read on TLV ${r}`);t[r]=t[r]||[],t[r].push(i)}return t}function ix(e){return fs("nsec",e)}function sx(e){return fs("npub",Un(e))}function lx(e){return fs("note",Un(e))}function ds(e,t){let n=br.toWords(t);return br.encode(e,n,bu)}function fs(e,t){return ds(e,t)}function ax(e){let t=ku({0:[Un(e.pubkey)],1:(e.relays||[]).map(n=>ut.encode(n))});return ds("nprofile",t)}function ux(e){let t;e.kind!==void 0&&(t=rx(e.kind));let n=ku({0:[Un(e.id)],1:(e.relays||[]).map(r=>ut.encode(r)),2:e.author?[Un(e.author)]:[],3:t?[new Uint8Array(t)]:[]});return ds("nevent",n)}function cx(e){let t=new ArrayBuffer(4);new DataView(t).setUint32(0,e.kind,!1);let n=ku({0:[ut.encode(e.identifier)],1:(e.relays||[]).map(r=>ut.encode(r)),2:[Un(e.pubkey)],3:[new Uint8Array(t)]});return ds("naddr",n)}function ku(e){let t=[];return Object.entries(e).reverse().forEach(([n,r])=>{r.forEach(o=>{let i=new Uint8Array(o.length+2);i.set([parseInt(n)],0),i.set([o.length],1),i.set(o,2),t.push(i)})}),os(...t)}var i0={};Z(i0,{decrypt:()=>dx,encrypt:()=>s0});function s0(e,t,n){const r=e instanceof Uint8Array?Se(e):e,o=Tr.getSharedSecret(r,"02"+t),i=l0(o);let l=Uint8Array.from(fh(16)),u=ut.encode(n),a=Sh(i,l).encrypt(u),d=Bt.encode(new Uint8Array(a)),m=Bt.encode(new Uint8Array(l.buffer));return`${d}?iv=${m}`}function dx(e,t,n){const r=e instanceof Uint8Array?Se(e):e;let[o,i]=n.split("?iv="),l=Tr.getSharedSecret(r,"02"+t),u=l0(l),a=Bt.decode(i),d=Bt.decode(o),m=Sh(u,a).decrypt(d);return Lt.decode(m)}function l0(e){return e.slice(1,33)}var a0={};Z(a0,{NIP05_REGEX:()=>Au,isNip05:()=>fx,isValid:()=>yx,queryProfile:()=>u0,searchDomain:()=>hx,useFetchImplementation:()=>px});var Au=/^(?:([\w.+-]+)@)?([\w_-]+(\.[\w_-]+)+)$/,fx=e=>Au.test(e||""),ps;try{ps=fetch}catch{}function px(e){ps=e}async function hx(e,t=""){try{const n=`https://${e}/.well-known/nostr.json?name=${t}`,r=await ps(n,{redirect:"manual"});if(r.status!==200)throw Error("Wrong response code");return(await r.json()).names}catch{return{}}}async function u0(e){var o;const t=e.match(Au);if(!t)return null;const[,n="_",r]=t;try{const i=`https://${r}/.well-known/nostr.json?name=${n}`,l=await ps(i,{redirect:"manual"});if(l.status!==200)throw Error("Wrong response code");const u=await l.json(),a=u.names[n];return a?{pubkey:a,relays:(o=u.relays)==null?void 0:o[a]}:null}catch{return null}}async function yx(e,t){const n=await u0(t);return n?n.pubkey===e:!1}var c0={};Z(c0,{parse:()=>gx});function gx(e){const t={reply:void 0,root:void 0,mentions:[],profiles:[],quotes:[]};let n,r;for(let o=e.tags.length-1;o>=0;o--){const i=e.tags[o];if(i[0]==="e"&&i[1]){const[l,u,a,d,m]=i,s={id:u,relays:a?[a]:[],author:m};if(d==="root"){t.root=s;continue}if(d==="reply"){t.reply=s;continue}if(d==="mention"){t.mentions.push(s);continue}n?r=s:n=s,t.mentions.push(s);continue}if(i[0]==="q"&&i[1]){const[l,u,a]=i;t.quotes.push({id:u,relays:a?[a]:[]})}if(i[0]==="p"&&i[1]){t.profiles.push({pubkey:i[1],relays:i[2]?[i[2]]:[]});continue}}return t.root||(t.root=r||n||t.reply),t.reply||(t.reply=n||t.root),[t.reply,t.root].forEach(o=>{if(!o)return;let i=t.mentions.indexOf(o);if(i!==-1&&t.mentions.splice(i,1),o.author){let l=t.profiles.find(u=>u.pubkey===o.author);l&&l.relays&&(o.relays||(o.relays=[]),l.relays.forEach(u=>{var a;((a=o.relays)==null?void 0:a.indexOf(u))===-1&&o.relays.push(u)}),l.relays=o.relays)}}),t.mentions.forEach(o=>{if(o.author){let i=t.profiles.find(l=>l.pubkey===o.author);i&&i.relays&&(o.relays||(o.relays=[]),i.relays.forEach(l=>{o.relays.indexOf(l)===-1&&o.relays.push(l)}),i.relays=o.relays)}}),t}var d0={};Z(d0,{fetchRelayInformation:()=>vx,useFetchImplementation:()=>mx});var f0;try{f0=fetch}catch{}function mx(e){f0=e}async function vx(e){return await(await fetch(e.replace("ws://","http://").replace("wss://","https://"),{headers:{Accept:"application/nostr+json"}})).json()}var p0={};Z(p0,{fastEventHash:()=>y0,getPow:()=>h0,minePow:()=>wx});function h0(e){let t=0;for(let n=0;n<64;n+=8){const r=parseInt(e.substring(n,n+8),16);if(r===0)t+=32;else{t+=Math.clz32(r);break}}return t}function wx(e,t){let n=0;const r=e,o=["nonce",n.toString(),t.toString()];for(r.tags.push(o);;){const i=Math.floor(new Date().getTime()/1e3);if(i!==r.created_at&&(n=0,r.created_at=i),o[1]=(++n).toString(),r.id=y0(r),h0(r.id)>=t)break}return r}function y0(e){return Se(Fn(ut.encode(JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content]))))}var g0={};Z(g0,{unwrapEvent:()=>Cx,unwrapManyEvents:()=>Lx,wrapEvent:()=>P0,wrapManyEvents:()=>Tx});var m0={};Z(m0,{createRumor:()=>N0,createSeal:()=>T0,createWrap:()=>C0,unwrapEvent:()=>Pu,unwrapManyEvents:()=>L0,wrapEvent:()=>Bi,wrapManyEvents:()=>Ax});var v0={};Z(v0,{decrypt:()=>Lu,encrypt:()=>Cu,getConversationKey:()=>Nu,v2:()=>bx});var w0=1,x0=65535;function Nu(e,t){const n=Tr.getSharedSecret(e,"02"+t).subarray(1,33);return P1(Fn,n,"nip44-v2")}function _0(e,t){const n=I1(Fn,e,t,76);return{chacha_key:n.subarray(0,32),chacha_nonce:n.subarray(32,44),hmac_key:n.subarray(44,76)}}function Tu(e){if(!Number.isSafeInteger(e)||e<1)throw new Error("expected positive integer");if(e<=32)return 32;const t=1<<Math.floor(Math.log2(e-1))+1,n=t<=256?32:t/8;return n*(Math.floor((e-1)/n)+1)}function xx(e){if(!Number.isSafeInteger(e)||e<w0||e>x0)throw new Error("invalid plaintext size: must be between 1 and 65535 bytes");const t=new Uint8Array(2);return new DataView(t.buffer).setUint16(0,e,!1),t}function _x(e){const t=ut.encode(e),n=t.length,r=xx(n),o=new Uint8Array(Tu(n)-n);return os(r,t,o)}function Ex(e){const t=new DataView(e.buffer).getUint16(0),n=e.subarray(2,2+t);if(t<w0||t>x0||n.length!==t||e.length!==2+Tu(t))throw new Error("invalid padding");return Lt.decode(n)}function E0(e,t,n){if(n.length!==32)throw new Error("AAD associated data must be 32 bytes");const r=os(n,t);return ss(Fn,e,r)}function Sx(e){if(typeof e!="string")throw new Error("payload must be a valid string");const t=e.length;if(t<132||t>87472)throw new Error("invalid payload length: "+t);if(e[0]==="#")throw new Error("unknown encryption version");let n;try{n=Bt.decode(e)}catch(i){throw new Error("invalid base64: "+i.message)}const r=n.length;if(r<99||r>65603)throw new Error("invalid data length: "+r);const o=n[0];if(o!==2)throw new Error("unknown encryption version "+o);return{nonce:n.subarray(1,33),ciphertext:n.subarray(33,-32),mac:n.subarray(-32)}}function Cu(e,t,n=fh(32)){const{chacha_key:r,chacha_nonce:o,hmac_key:i}=_0(t,n),l=_x(e),u=Nh(r,o,l),a=E0(i,u,n);return Bt.encode(os(new Uint8Array([2]),n,u,a))}function Lu(e,t){const{nonce:n,ciphertext:r,mac:o}=Sx(e),{chacha_key:i,chacha_nonce:l,hmac_key:u}=_0(t,n),a=E0(u,r,n);if(!f1(a,o))throw new Error("invalid MAC");const d=Nh(i,l,r);return Ex(d)}var bx={utils:{getConversationKey:Nu,calcPaddedLen:Tu},encrypt:Cu,decrypt:Lu},kx=2*24*60*60,S0=()=>Math.round(Date.now()/1e3),b0=()=>Math.round(S0()-Math.random()*kx),k0=(e,t)=>Nu(e,t),A0=(e,t,n)=>Cu(JSON.stringify(e),k0(t,n)),xd=(e,t)=>JSON.parse(Lu(e.content,k0(t,e.pubkey)));function N0(e,t){const n={created_at:S0(),content:"",tags:[],...e,pubkey:Lr(t)};return n.id=no(n),n}function T0(e,t,n){return Je({kind:Bh,content:A0(e,t,n),created_at:b0(),tags:[]},t)}function C0(e,t){const n=mu();return Je({kind:Vh,content:A0(e,n,t),created_at:b0(),tags:[["p",t]]},n)}function Bi(e,t,n){const r=N0(e,t),o=T0(r,t,n);return C0(o,n)}function Ax(e,t,n){if(!n||n.length===0)throw new Error("At least one recipient is required.");const r=Lr(t),o=[Bi(e,t,r)];return n.forEach(i=>{o.push(Bi(e,t,i))}),o}function Pu(e,t){const n=xd(e,t);return xd(n,t)}function L0(e,t){let n=[];return e.forEach(r=>{n.push(Pu(r,t))}),n.sort((r,o)=>r.created_at-o.created_at),n}function Nx(e,t,n,r){const o={created_at:Math.ceil(Date.now()/1e3),kind:Hh,tags:[],content:t};return(Array.isArray(e)?e:[e]).forEach(({publicKey:l,relayUrl:u})=>{o.tags.push(u?["p",l,u]:["p",l])}),r&&o.tags.push(["e",r.eventId,r.relayUrl||"","reply"]),n&&o.tags.push(["subject",n]),o}function P0(e,t,n,r,o){const i=Nx(t,n,r,o);return Bi(i,e,t.publicKey)}function Tx(e,t,n,r,o){if(!t||t.length===0)throw new Error("At least one recipient is required.");return[{publicKey:Lr(e)},...t].map(l=>P0(e,l,n,r,o))}var Cx=Pu,Lx=L0,I0={};Z(I0,{finishRepostEvent:()=>Px,getRepostedEvent:()=>Ix,getRepostedEventPointer:()=>j0});function Px(e,t,n,r){var l;let o;const i=[...e.tags??[],["e",t.id,n],["p",t.pubkey]];return t.kind===Oh?o=xu:(o=Eu,i.push(["k",String(t.kind)])),Je({kind:o,tags:i,content:e.content===""||(l=t.tags)!=null&&l.find(u=>u[0]==="-")?"":JSON.stringify(t),created_at:e.created_at},r)}function j0(e){if(![xu,Eu].includes(e.kind))return;let t,n;for(let r=e.tags.length-1;r>=0&&(t===void 0||n===void 0);r--){const o=e.tags[r];o.length>=2&&(o[0]==="e"&&t===void 0?t=o:o[0]==="p"&&n===void 0&&(n=o))}if(t!==void 0)return{id:t[1],relays:[t[2],n==null?void 0:n[2]].filter(r=>typeof r=="string"),author:n==null?void 0:n[1]}}function Ix(e,{skipVerification:t}={}){const n=j0(e);if(n===void 0||e.content==="")return;let r;try{r=JSON.parse(e.content)}catch{return}if(r.id===n.id&&!(!t&&!Co(r)))return r}var R0={};Z(R0,{NOSTR_URI_REGEX:()=>Iu,parse:()=>Rx,test:()=>jx});var Iu=new RegExp(`nostr:(${o0.source})`);function jx(e){return typeof e=="string"&&new RegExp(`^${Iu.source}$`).test(e)}function Rx(e){const t=e.match(new RegExp(`^${Iu.source}$`));if(!t)throw new Error(`Invalid Nostr URI: ${e}`);return{uri:t[0],value:t[1],decoded:cs(t[1])}}var M0={};Z(M0,{finishReactionEvent:()=>Mx,getReactedEventPointer:()=>Ox});function Mx(e,t,n){const r=t.tags.filter(o=>o.length>=2&&(o[0]==="e"||o[0]==="p"));return Je({...e,kind:_u,tags:[...e.tags??[],...r,["e",t.id],["p",t.pubkey]],content:e.content??"+"},n)}function Ox(e){if(e.kind!==_u)return;let t,n;for(let r=e.tags.length-1;r>=0&&(t===void 0||n===void 0);r--){const o=e.tags[r];o.length>=2&&(o[0]==="e"&&t===void 0?t=o:o[0]==="p"&&n===void 0&&(n=o))}if(!(t===void 0||n===void 0))return{id:t[1],relays:[t[2],n[2]].filter(r=>r!==void 0),author:n[1]}}var O0={};Z(O0,{parse:()=>Hx});var _d=/\W/m,Ed=/\W |\W$|$|,| /m,Bx=42;function*Hx(e){let t=[];if(typeof e!="string"){for(let i=0;i<e.tags.length;i++){const l=e.tags[i];l[0]==="emoji"&&l.length>=3&&t.push({type:"emoji",shortcode:l[1],url:l[2]})}e=e.content}const n=e.length;let r=0,o=0;e:for(;o<n;){const i=e.indexOf(":",o),l=e.indexOf("#",o);if(i===-1&&l===-1)break e;if(i===-1||l>=0&&l<i){if(l===0||e[l-1]===" "){const u=e.slice(l+1,l+Bx).match(_d),a=u?l+1+u.index:n;yield{type:"text",text:e.slice(r,l)},yield{type:"hashtag",value:e.slice(l+1,a)},o=a,r=o;continue e}o=l+1;continue e}if(e.slice(i-5,i)==="nostr"){const u=e.slice(i+60).match(_d),a=u?i+60+u.index:n;try{let d,{data:m,type:s}=cs(e.slice(i+1,a));switch(s){case"npub":d={pubkey:m};break;case"nsec":case"note":o=a+1;continue;default:d=m}r!==i-5&&(yield{type:"text",text:e.slice(r,i-5)}),yield{type:"reference",pointer:d},o=a,r=o;continue e}catch{o=i+1;continue e}}else if(e.slice(i-5,i)==="https"||e.slice(i-4,i)==="http"){const u=e.slice(i+4).match(Ed),a=u?i+4+u.index:n,d=e[i-1]==="s"?5:4;try{let m=new URL(e.slice(i-d,a));if(m.hostname.indexOf(".")===-1)throw new Error("invalid url");if(r!==i-d&&(yield{type:"text",text:e.slice(r,i-d)}),/\.(png|jpe?g|gif|webp|heic|svg)$/i.test(m.pathname)){yield{type:"image",url:m.toString()},o=a,r=o;continue e}if(/\.(mp4|avi|webm|mkv|mov)$/i.test(m.pathname)){yield{type:"video",url:m.toString()},o=a,r=o;continue e}if(/\.(mp3|aac|ogg|opus|wav|flac)$/i.test(m.pathname)){yield{type:"audio",url:m.toString()},o=a,r=o;continue e}yield{type:"url",url:m.toString()},o=a,r=o;continue e}catch{o=a+1;continue e}}else if(e.slice(i-3,i)==="wss"||e.slice(i-2,i)==="ws"){const u=e.slice(i+4).match(Ed),a=u?i+4+u.index:n,d=e[i-1]==="s"?3:2;try{let m=new URL(e.slice(i-d,a));if(m.hostname.indexOf(".")===-1)throw new Error("invalid ws url");r!==i-d&&(yield{type:"text",text:e.slice(r,i-d)}),yield{type:"relay",url:m.toString()},o=a,r=o;continue e}catch{o=a+1;continue e}}else{for(let u=0;u<t.length;u++){const a=t[u];if(e[i+a.shortcode.length+1]===":"&&e.slice(i+1,i+a.shortcode.length+1)===a.shortcode){r!==i&&(yield{type:"text",text:e.slice(r,i)}),yield a,o=i+a.shortcode.length+2,r=o;continue e}}o=i+1;continue e}}r!==n&&(yield{type:"text",text:e.slice(r)})}var B0={};Z(B0,{channelCreateEvent:()=>Ux,channelHideMessageEvent:()=>Fx,channelMessageEvent:()=>$x,channelMetadataEvent:()=>zx,channelMuteUserEvent:()=>Dx});var Ux=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return Je({kind:Uh,tags:[...e.tags??[]],content:n,created_at:e.created_at},t)},zx=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return Je({kind:zh,tags:[["e",e.channel_create_event_id],...e.tags??[]],content:n,created_at:e.created_at},t)},$x=(e,t)=>{const n=[["e",e.channel_create_event_id,e.relay_url,"root"]];return e.reply_to_channel_message_event_id&&n.push(["e",e.reply_to_channel_message_event_id,e.relay_url,"reply"]),Je({kind:$h,tags:[...n,...e.tags??[]],content:e.content,created_at:e.created_at},t)},Fx=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return Je({kind:Fh,tags:[["e",e.channel_message_event_id],...e.tags??[]],content:n,created_at:e.created_at},t)},Dx=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return Je({kind:Dh,tags:[["p",e.pubkey_to_mute],...e.tags??[]],content:n,created_at:e.created_at},t)},H0={};Z(H0,{EMOJI_SHORTCODE_REGEX:()=>U0,matchAll:()=>Vx,regex:()=>ju,replaceAll:()=>Wx});var U0=/:(\w+):/,ju=()=>new RegExp(`\\B${U0.source}\\B`,"g");function*Vx(e){const t=e.matchAll(ju());for(const n of t)try{const[r,o]=n;yield{shortcode:r,name:o,start:n.index,end:n.index+r.length}}catch{}}function Wx(e,t){return e.replaceAll(ju(),(n,r)=>t({shortcode:n,name:r}))}var z0={};Z(z0,{useFetchImplementation:()=>Gx,validateGithub:()=>qx});var Ru;try{Ru=fetch}catch{}function Gx(e){Ru=e}async function qx(e,t,n){try{return await(await Ru(`https://gist.github.com/${t}/${n}/raw`)).text()===`Verifying that I control the following Nostr public key: ${e}`}catch{return!1}}var $0={};Z($0,{makeNwcRequestEvent:()=>Qx,parseConnectionString:()=>Kx});function Kx(e){const{host:t,pathname:n,searchParams:r}=new URL(e),o=n||t,i=r.get("relay"),l=r.get("secret");if(!o||!i||!l)throw new Error("invalid connection string");return{pubkey:o,relay:i,secret:l}}async function Qx(e,t,n){const o=s0(t,e,JSON.stringify({method:"pay_invoice",params:{invoice:n}})),i={kind:Gh,created_at:Math.round(Date.now()/1e3),content:o,tags:[["p",e]]};return Je(i,t)}var F0={};Z(F0,{normalizeIdentifier:()=>Xx});function Xx(e){return e=e.trim().toLowerCase(),e=e.normalize("NFKC"),Array.from(e).map(t=>new RegExp("\\p{Letter}","u").test(t)||new RegExp("\\p{Number}","u").test(t)?t:"-").join("")}var D0={};Z(D0,{getSatoshisAmountFromBolt11:()=>n_,getZapEndpoint:()=>Yx,makeZapReceipt:()=>t_,makeZapRequest:()=>Jx,useFetchImplementation:()=>Zx,validateZapRequest:()=>e_});var Mu;try{Mu=fetch}catch{}function Zx(e){Mu=e}async function Yx(e){try{let t="",{lud06:n,lud16:r}=JSON.parse(e.content);if(r){let[l,u]=r.split("@");t=new URL(`/.well-known/lnurlp/${l}`,`https://${u}`).toString()}else if(n){let{words:l}=br.decode(n,1e3),u=br.fromWords(l);t=Lt.decode(u)}else return null;let i=await(await Mu(t)).json();if(i.allowsNostr&&i.nostrPubkey)return i.callback}catch{}return null}function Jx(e){let t={kind:9734,created_at:Math.round(Date.now()/1e3),content:e.comment||"",tags:[["p","pubkey"in e?e.pubkey:e.event.pubkey],["amount",e.amount.toString()],["relays",...e.relays]]};if("event"in e){if(t.tags.push(["e",e.event.id]),vu(e.event.kind)){const n=["a",`${e.event.kind}:${e.event.pubkey}:`];t.tags.push(n)}else if(wu(e.event.kind)){let n=e.event.tags.find(([o,i])=>o==="d"&&i);if(!n)throw new Error("d tag not found or is empty");const r=["a",`${e.event.kind}:${e.event.pubkey}:${n[1]}`];t.tags.push(r)}t.tags.push(["k",e.event.kind.toString()])}return t}function e_(e){let t;try{t=JSON.parse(e)}catch{return"Invalid zap request JSON."}if(!ls(t))return"Zap request is not a valid Nostr event.";if(!Co(t))return"Invalid signature on zap request.";let n=t.tags.find(([i,l])=>i==="p"&&l);if(!n)return"Zap request doesn't have a 'p' tag.";if(!n[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let r=t.tags.find(([i,l])=>i==="e"&&l);return r&&!r[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":t.tags.find(([i,l])=>i==="relays"&&l)?null:"Zap request doesn't have a 'relays' tag."}function t_({zapRequest:e,preimage:t,bolt11:n,paidAt:r}){let o=JSON.parse(e),i=o.tags.filter(([u])=>u==="e"||u==="p"||u==="a"),l={kind:9735,created_at:Math.round(r.getTime()/1e3),content:"",tags:[...i,["P",o.pubkey],["bolt11",n],["description",e]]};return t&&l.tags.push(["preimage",t]),l}function n_(e){if(e.length<50)return 0;e=e.substring(0,50);const t=e.lastIndexOf("1");if(t===-1)return 0;const n=e.substring(0,t);if(!n.startsWith("lnbc"))return 0;const r=n.substring(4);if(r.length<1)return 0;const o=r[r.length-1],i=o.charCodeAt(0)-48,l=i>=0&&i<=9;let u=r.length-1;if(l&&u++,u<1)return 0;const a=parseInt(r.substring(0,u));switch(o){case"m":return a*1e5;case"u":return a*100;case"n":return a/10;case"p":return a/1e4;default:return a*1e8}}var V0={};Z(V0,{Negentropy:()=>G0,NegentropyStorageVector:()=>i_,NegentropySync:()=>s_});var tl=97,hr=32,W0=16,_n={Skip:0,Fingerprint:1,IdList:2},Nt=class{constructor(e){O(this,"_raw");O(this,"length");typeof e=="number"?(this._raw=new Uint8Array(e),this.length=0):e instanceof Uint8Array?(this._raw=new Uint8Array(e),this.length=e.length):(this._raw=new Uint8Array(512),this.length=0)}unwrap(){return this._raw.subarray(0,this.length)}get capacity(){return this._raw.byteLength}extend(e){if(e instanceof Nt&&(e=e.unwrap()),typeof e.length!="number")throw Error("bad length");const t=e.length+this.length;if(this.capacity<t){const n=this._raw,r=Math.max(this.capacity*2,t);this._raw=new Uint8Array(r),this._raw.set(n)}this._raw.set(e,this.length),this.length+=e.length}shift(){const e=this._raw[0];return this._raw=this._raw.subarray(1),this.length--,e}shiftN(e=1){const t=this._raw.subarray(0,e);return this._raw=this._raw.subarray(e),this.length-=e,t}};function Ko(e){let t=0;for(;;){if(e.length===0)throw Error("parse ends prematurely");let n=e.shift();if(t=t<<7|n&127,!(n&128))break}return t}function St(e){if(e===0)return new Nt(new Uint8Array([0]));let t=[];for(;e!==0;)t.push(e&127),e>>>=7;t.reverse();for(let n=0;n<t.length-1;n++)t[n]|=128;return new Nt(new Uint8Array(t))}function r_(e){return li(e,1)[0]}function li(e,t){if(e.length<t)throw Error("parse ends prematurely");return e.shiftN(t)}var o_=class{constructor(){O(this,"buf");this.setToZero()}setToZero(){this.buf=new Uint8Array(hr)}add(e){let t=0,n=0,r=new DataView(this.buf.buffer),o=new DataView(e.buffer);for(let i=0;i<8;i++){let l=i*4,u=r.getUint32(l,!0),a=o.getUint32(l,!0),d=u;d+=t,d+=a,d>4294967295&&(n=1),r.setUint32(l,d&4294967295,!0),t=n,n=0}}negate(){let e=new DataView(this.buf.buffer);for(let n=0;n<8;n++){let r=n*4;e.setUint32(r,~e.getUint32(r,!0))}let t=new Uint8Array(hr);t[0]=1,this.add(t)}getFingerprint(e){let t=new Nt;return t.extend(this.buf),t.extend(St(e)),Fn(t.unwrap()).subarray(0,W0)}},i_=class{constructor(){O(this,"items");O(this,"sealed");this.items=[],this.sealed=!1}insert(e,t){if(this.sealed)throw Error("already sealed");const n=vh(t);if(n.byteLength!==hr)throw Error("bad id size for added item");this.items.push({timestamp:e,id:n})}seal(){if(this.sealed)throw Error("already sealed");this.sealed=!0,this.items.sort(nl);for(let e=1;e<this.items.length;e++)if(nl(this.items[e-1],this.items[e])===0)throw Error("duplicate item inserted")}unseal(){this.sealed=!1}size(){return this._checkSealed(),this.items.length}getItem(e){if(this._checkSealed(),e>=this.items.length)throw Error("out of range");return this.items[e]}iterate(e,t,n){this._checkSealed(),this._checkBounds(e,t);for(let r=e;r<t&&n(this.items[r],r);++r);}findLowerBound(e,t,n){return this._checkSealed(),this._checkBounds(e,t),this._binarySearch(this.items,e,t,r=>nl(r,n)<0)}fingerprint(e,t){let n=new o_;return n.setToZero(),this.iterate(e,t,r=>(n.add(r.id),!0)),n.getFingerprint(t-e)}_checkSealed(){if(!this.sealed)throw Error("not sealed")}_checkBounds(e,t){if(e>t||t>this.items.length)throw Error("bad range")}_binarySearch(e,t,n,r){let o=n-t;for(;o>0;){let i=t,l=Math.floor(o/2);i+=l,r(e[i])?(t=++i,o-=l+1):o=l}return t}},G0=class{constructor(e,t=6e4){O(this,"storage");O(this,"frameSizeLimit");O(this,"lastTimestampIn");O(this,"lastTimestampOut");if(t<4096)throw Error("frameSizeLimit too small");this.storage=e,this.frameSizeLimit=t,this.lastTimestampIn=0,this.lastTimestampOut=0}_bound(e,t){return{timestamp:e,id:t||new Uint8Array(0)}}initiate(){let e=new Nt;return e.extend(new Uint8Array([tl])),this.splitRange(0,this.storage.size(),this._bound(Number.MAX_VALUE),e),qn(e.unwrap())}reconcile(e,t,n){const r=new Nt(vh(e));this.lastTimestampIn=this.lastTimestampOut=0;let o=new Nt;o.extend(new Uint8Array([tl]));let i=r_(r);if(i<96||i>111)throw Error("invalid negentropy protocol version byte");if(i!==tl)throw Error("unsupported negentropy protocol version requested: "+(i-96));let l=this.storage.size(),u=this._bound(0),a=0,d=!1;for(;r.length!==0;){let m=new Nt,s=()=>{d&&(d=!1,m.extend(this.encodeBound(u)),m.extend(St(_n.Skip)))},c=this.decodeBound(r),f=Ko(r),p=a,y=this.storage.findLowerBound(a,l,c);if(f===_n.Skip)d=!0;else if(f===_n.Fingerprint){let w=li(r,W0),h=this.storage.fingerprint(p,y);q0(w,h)!==0?(s(),this.splitRange(p,y,c,m)):d=!0}else if(f===_n.IdList){let w=Ko(r),h={};for(let g=0;g<w;g++){let x=li(r,hr);h[qn(x)]=x}if(d=!0,this.storage.iterate(p,y,g=>{let x=g.id;const _=qn(x);return h[_]?delete h[qn(x)]:t==null||t(_),!0}),n)for(let g of Object.values(h))n(qn(g))}else throw Error("unexpected mode");if(this.exceededFrameSizeLimit(o.length+m.length)){let w=this.storage.fingerprint(y,l);o.extend(this.encodeBound(this._bound(Number.MAX_VALUE))),o.extend(St(_n.Fingerprint)),o.extend(w);break}else o.extend(m);a=y,u=c}return o.length===1?null:qn(o.unwrap())}splitRange(e,t,n,r){let o=t-e,i=16;if(o<i*2)r.extend(this.encodeBound(n)),r.extend(St(_n.IdList)),r.extend(St(o)),this.storage.iterate(e,t,l=>(r.extend(l.id),!0));else{let l=Math.floor(o/i),u=o%i,a=e;for(let d=0;d<i;d++){let m=l+(d<u?1:0),s=this.storage.fingerprint(a,a+m);a+=m;let c;if(a===t)c=n;else{let f,p;this.storage.iterate(a-1,a+1,(y,w)=>(w===a-1?f=y:p=y,!0)),c=this.getMinimalBound(f,p)}r.extend(this.encodeBound(c)),r.extend(St(_n.Fingerprint)),r.extend(s)}}}exceededFrameSizeLimit(e){return e>this.frameSizeLimit-200}decodeTimestampIn(e){let t=Ko(e);return t=t===0?Number.MAX_VALUE:t-1,this.lastTimestampIn===Number.MAX_VALUE||t===Number.MAX_VALUE?(this.lastTimestampIn=Number.MAX_VALUE,Number.MAX_VALUE):(t+=this.lastTimestampIn,this.lastTimestampIn=t,t)}decodeBound(e){let t=this.decodeTimestampIn(e),n=Ko(e);if(n>hr)throw Error("bound key too long");let r=li(e,n);return{timestamp:t,id:r}}encodeTimestampOut(e){if(e===Number.MAX_VALUE)return this.lastTimestampOut=Number.MAX_VALUE,St(0);let t=e;return e-=this.lastTimestampOut,this.lastTimestampOut=t,St(e+1)}encodeBound(e){let t=new Nt;return t.extend(this.encodeTimestampOut(e.timestamp)),t.extend(St(e.id.length)),t.extend(e.id),t}getMinimalBound(e,t){if(t.timestamp!==e.timestamp)return this._bound(t.timestamp);{let n=0,r=t.id,o=e.id;for(let i=0;i<hr&&r[i]===o[i];i++)n++;return this._bound(t.timestamp,t.id.subarray(0,n+1))}}};function q0(e,t){for(let n=0;n<e.byteLength;n++){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return e.byteLength>t.byteLength?1:e.byteLength<t.byteLength?-1:0}function nl(e,t){return e.timestamp===t.timestamp?q0(e.id,t.id):e.timestamp-t.timestamp}var s_=class{constructor(e,t,n,r={}){O(this,"relay");O(this,"storage");O(this,"neg");O(this,"filter");O(this,"subscription");O(this,"onhave");O(this,"onneed");this.relay=e,this.storage=t,this.neg=new G0(t),this.onhave=r.onhave,this.onneed=r.onneed,this.filter=n,this.subscription=this.relay.prepareSubscription([{}],{label:r.label||"negentropy"}),this.subscription.oncustom=o=>{var i,l,u,a;switch(o[0]){case"NEG-MSG":{o.length<3&&console.warn(`got invalid NEG-MSG from ${this.relay.url}: ${o}`);try{const d=this.neg.reconcile(o[2],this.onhave,this.onneed);d?this.relay.send(`["NEG-MSG", "${this.subscription.id}", "${d}"]`):(this.close(),(i=r.onclose)==null||i.call(r))}catch(d){console.error("negentropy reconcile error:",d),(l=r==null?void 0:r.onclose)==null||l.call(r,`reconcile error: ${d}`)}break}case"NEG-CLOSE":{const d=o[2];console.warn("negentropy error:",d),(u=r.onclose)==null||u.call(r,d);break}case"NEG-ERR":(a=r.onclose)==null||a.call(r)}}}async start(){const e=this.neg.initiate();this.relay.send(`["NEG-OPEN","${this.subscription.id}",${JSON.stringify(this.filter)},"${e}"]`)}close(){this.relay.send(`["NEG-CLOSE","${this.subscription.id}"]`),this.subscription.close()}},K0={};Z(K0,{getToken:()=>l_,hashPayload:()=>Ou,unpackEventFromToken:()=>X0,validateEvent:()=>ny,validateEventKind:()=>Y0,validateEventMethodTag:()=>ey,validateEventPayloadTag:()=>ty,validateEventTimestamp:()=>Z0,validateEventUrlTag:()=>J0,validateToken:()=>a_});var Q0="Nostr ";async function l_(e,t,n,r=!1,o){const i={kind:Su,tags:[["u",e],["method",t]],created_at:Math.round(new Date().getTime()/1e3),content:""};o&&i.tags.push(["payload",Ou(o)]);const l=await n(i);return(r?Q0:"")+Bt.encode(ut.encode(JSON.stringify(l)))}async function a_(e,t,n){const r=await X0(e).catch(i=>{throw i});return await ny(r,t,n).catch(i=>{throw i})}async function X0(e){if(!e)throw new Error("Missing token");e=e.replace(Q0,"");const t=Lt.decode(Bt.decode(e));if(!t||t.length===0||!t.startsWith("{"))throw new Error("Invalid token");return JSON.parse(t)}function Z0(e){return e.created_at?Math.round(new Date().getTime()/1e3)-e.created_at<60:!1}function Y0(e){return e.kind===Su}function J0(e,t){const n=e.tags.find(r=>r[0]==="u");return n?n.length>0&&n[1]===t:!1}function ey(e,t){const n=e.tags.find(r=>r[0]==="method");return n?n.length>0&&n[1].toLowerCase()===t.toLowerCase():!1}function Ou(e){const t=Fn(ut.encode(JSON.stringify(e)));return Se(t)}function ty(e,t){const n=e.tags.find(o=>o[0]==="payload");if(!n)return!1;const r=Ou(t);return n.length>0&&n[1]===r}async function ny(e,t,n,r){if(!Co(e))throw new Error("Invalid nostr event, signature invalid");if(!Y0(e))throw new Error("Invalid nostr event, kind invalid");if(!Z0(e))throw new Error("Invalid nostr event, created_at timestamp invalid");if(!J0(e,t))throw new Error("Invalid nostr event, url tag invalid");if(!ey(e,n))throw new Error("Invalid nostr event, method tag invalid");if(r&&typeof r=="object"&&Object.keys(r).length>0&&!ty(e,r))throw new Error("Invalid nostr event, payload tag does not match request body hash");return!0}const u_=Object.freeze(Object.defineProperty({__proto__:null,SimplePool:r0,finalizeEvent:Je,fj:Qh,generateSecretKey:mu,getEventHash:no,getPublicKey:Lr,kinds:jh,matchFilter:qh,matchFilters:Kh,nip04:i0,nip05:a0,nip10:c0,nip11:d0,nip13:p0,nip17:g0,nip18:I0,nip19:It,nip21:R0,nip25:M0,nip27:O0,nip28:B0,nip30:H0,nip39:z0,nip42:Yh,nip44:v0,nip47:$0,nip54:F0,nip57:D0,nip59:m0,nip77:V0,nip98:K0,serializeEvent:Ih,utils:Ch,validateEvent:ls,verifiedSymbol:Xt,verifyEvent:Co},Symbol.toStringTag,{value:"Module"})),Bu=["wss://relay.damus.io","wss://relay.nostr.band","wss://nos.lol","wss://relay.primal.net"],ry=new r0;function oy(e){const t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2)t[n/2]=parseInt(e.substr(n,2),16);return t}function c_(e){let t=0;for(let r=0;r<e.length;r++){const o=e.charCodeAt(r);t=(t<<5)-t+o,t=t&t}return Math.abs(t).toString(16).padStart(64,"0").substring(0,64)}async function d_(){if(!window.nostr)throw new Error("No Nostr extension found. Please install a Nostr extension like Alby or nos2x.");try{const e=await window.nostr.getPublicKey(),t=It.npubEncode(e),n=await iy(e);return{pubkey:e,npub:t,name:(n==null?void 0:n.name)||(n==null?void 0:n.display_name),loginMethod:"extension"}}catch(e){throw console.error("Extension login error:",e),e}}async function f_(e){try{let t;if(e.startsWith("nsec")){const i=It.decode(e);if(i.type!=="nsec")throw new Error("Invalid nsec format");t=i.data}else t=oy(e);const n=Lr(t),r=It.npubEncode(n),o=await iy(n);return{pubkey:n,npub:r,nsec:It.nsecEncode(t),name:(o==null?void 0:o.name)||(o==null?void 0:o.display_name),loginMethod:"nsec"}}catch(t){throw console.error("Nsec login error:",t),new Error("Invalid private key format")}}function p_(){const e=mu(),t=Lr(e);return{nsec:It.nsecEncode(e),npub:It.npubEncode(t),pubkey:t}}async function iy(e){try{const t=await ry.querySync(Bu,{kinds:[0],authors:[e],limit:1});return t.length>0?JSON.parse(t[0].content):null}catch(t){return console.error("Error fetching profile:",t),null}}async function h_(e,t,n,r){try{const o={kind:30762,created_at:Math.floor(Date.now()/1e3),content:`New high score: ${e} points on level ${t}!`,tags:[["d",`bitcoin-space-invaders:${n}:level-${t}`],["game","bitcoin-space-invaders"],["score",e.toString()],["p",n],["state","active"],["level",t.toString()],["mode","single-player"],["t","test"]]},i=await r(o);return await Promise.any(ry.publish(Bu,i)),console.log("Score published to Gamestr:",i.id),i.id}catch(o){return console.error("Error publishing score:",o),null}}async function y_(e,t){let n;return t.startsWith("nsec")?n=It.decode(t).data:n=oy(t),Je(e,n)}async function g_(e){if(!window.nostr)throw new Error("No Nostr extension found");return window.nostr.signEvent(e)}function m_(e){return c_(`anonymous:${e}:${Date.now()}`)}/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sy=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var w_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=z.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:i,iconNode:l,...u},a)=>z.createElement("svg",{ref:a,...w_,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:sy("lucide",o),...u},[...l.map(([d,m])=>z.createElement(d,m)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=(e,t)=>{const n=z.forwardRef(({className:r,...o},i)=>z.createElement(x_,{ref:i,iconNode:t,className:sy(`lucide-${v_(e)}`,r),...o}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=ne("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ly=ne("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=ne("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=ne("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=ne("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=ne("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=ne("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=ne("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bd=ne("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=ne("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=ne("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A_=ne("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=ne("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=ne("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=ne("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=ne("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=ne("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kd=ne("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=ne("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=ne("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=ne("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=ne("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function j_(){const[e,t]=z.useState("select"),[n,r]=z.useState(""),[o,i]=z.useState(""),[l,u]=z.useState(""),[a,d]=z.useState(null),[m,s]=z.useState(!1),[c,f]=z.useState(!1),[p,y]=z.useState(null),{setUserPubkey:w,setUserName:h,setIsAnonymous:g,setPhase:x}=_e(),_=async()=>{f(!0),y(null);try{const P=await d_();P&&(w(P.pubkey),h(P.name||P.npub.substring(0,12)+"..."),g(!1),x("payment"))}catch(P){y(P.message||"Failed to connect with extension")}finally{f(!1)}},N=async()=>{if(!n.trim()){y("Please enter your private key");return}f(!0),y(null);try{const P=await f_(n);P&&(w(P.pubkey),h(P.name||P.npub.substring(0,12)+"..."),g(!1),localStorage.setItem("nostr_nsec",n),x("payment"))}catch(P){y(P.message||"Invalid private key")}finally{f(!1)}},S=async()=>{if(!o.trim()){y("Please enter your bunker connection string");return}f(!0),y(null);try{y("Bunker connection is not fully implemented yet. Please use another login method.")}catch(P){y(P.message||"Failed to connect to bunker")}finally{f(!1)}},b=()=>{const P=p_();d(P)},k=()=>{a&&(navigator.clipboard.writeText(a.nsec),s(!0),setTimeout(()=>s(!1),2e3))},I=()=>{a&&(w(a.pubkey),h(a.npub.substring(0,12)+"..."),g(!1),localStorage.setItem("nostr_nsec",a.nsec),x("payment"))},j=()=>{if(!l.trim()){y("Please enter a pseudonym");return}const P=m_(l);w(P),h(l),g(!0),x("payment")};return v.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center p-4",children:v.jsxs("div",{className:"w-full max-w-md",children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsx("h1",{className:"text-4xl font-bold text-green-400 mb-2 font-mono",children:" ROUTING RAIDERS "}),v.jsx("p",{className:"text-gray-400",children:"Defend Earth. Balance your channel. Stack sats."})]}),e==="select"&&v.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-lg p-6 space-y-4",children:[v.jsx("h2",{className:"text-xl font-bold text-white text-center mb-4",children:"Connect with NOSTR"}),v.jsxs("button",{onClick:()=>t("extension"),className:"w-full bg-purple-600 hover:bg-purple-500 text-white font-bold py-3 px-4 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[v.jsx(Sd,{size:20}),"Browser Extension (Alby, nos2x)"]}),v.jsxs("button",{onClick:()=>t("nsec"),className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 px-4 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[v.jsx(ol,{size:20}),"Private Key (nsec)"]}),v.jsxs("button",{onClick:()=>t("bunker"),className:"w-full bg-orange-600 hover:bg-orange-500 text-white font-bold py-3 px-4 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[v.jsx(In,{size:20}),"NOSTR Bunker"]}),v.jsxs("div",{className:"relative py-2",children:[v.jsx("div",{className:"absolute inset-0 flex items-center",children:v.jsx("div",{className:"w-full border-t border-gray-600"})}),v.jsx("div",{className:"relative flex justify-center",children:v.jsx("span",{className:"bg-gray-900 px-4 text-gray-400 text-sm",children:"or"})})]}),v.jsxs("button",{onClick:()=>t("signup"),className:"w-full bg-green-600 hover:bg-green-500 text-white font-bold py-3 px-4 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[v.jsx(rl,{size:20}),"New to NOSTR? Sign Up"]}),v.jsxs("button",{onClick:()=>t("anonymous"),className:"w-full bg-gray-700 hover:bg-gray-600 text-white font-bold py-3 px-4 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[v.jsx(rl,{size:20}),"Play Anonymously"]})]}),e==="extension"&&v.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-lg p-6 space-y-4",children:[v.jsx("h2",{className:"text-xl font-bold text-white text-center mb-4",children:"Browser Extension Login"}),v.jsx("p",{className:"text-gray-400 text-center text-sm",children:"Make sure you have a NOSTR extension installed (like Alby or nos2x)"}),p&&v.jsx("div",{className:"bg-red-900/50 border border-red-500 text-red-400 p-3 rounded-lg text-sm",children:p}),v.jsxs("button",{onClick:_,disabled:c,className:"w-full bg-purple-600 hover:bg-purple-500 disabled:bg-purple-800 text-white font-bold py-3 px-4 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[c?v.jsx(nn,{className:"animate-spin",size:20}):v.jsx(Sd,{size:20}),c?"Connecting...":"Connect Extension"]}),v.jsx("button",{onClick:()=>{t("select"),y(null)},className:"w-full bg-gray-700 hover:bg-gray-600 text-white py-2 px-4 rounded-lg transition-colors",children:"Back"})]}),e==="nsec"&&v.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-lg p-6 space-y-4",children:[v.jsx("h2",{className:"text-xl font-bold text-white text-center mb-4",children:"Login with Private Key"}),v.jsx("p",{className:"text-gray-400 text-center text-sm",children:"Enter your NOSTR private key (nsec or hex format)"}),p&&v.jsx("div",{className:"bg-red-900/50 border border-red-500 text-red-400 p-3 rounded-lg text-sm",children:p}),v.jsx("input",{type:"password",value:n,onChange:P=>r(P.target.value),placeholder:"nsec1... or hex private key",className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-blue-500"}),v.jsxs("button",{onClick:N,disabled:c,className:"w-full bg-blue-600 hover:bg-blue-500 disabled:bg-blue-800 text-white font-bold py-3 px-4 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[c?v.jsx(nn,{className:"animate-spin",size:20}):v.jsx(ol,{size:20}),c?"Logging in...":"Login"]}),v.jsx("button",{onClick:()=>{t("select"),y(null),r("")},className:"w-full bg-gray-700 hover:bg-gray-600 text-white py-2 px-4 rounded-lg transition-colors",children:"Back"})]}),e==="bunker"&&v.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-lg p-6 space-y-4",children:[v.jsx("h2",{className:"text-xl font-bold text-white text-center mb-4",children:"NOSTR Bunker Login"}),v.jsx("p",{className:"text-gray-400 text-center text-sm",children:"Enter your bunker connection string (bunker://...)"}),p&&v.jsx("div",{className:"bg-red-900/50 border border-red-500 text-red-400 p-3 rounded-lg text-sm",children:p}),v.jsx("input",{type:"text",value:o,onChange:P=>i(P.target.value),placeholder:"bunker://...",className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-orange-500"}),v.jsxs("button",{onClick:S,disabled:c,className:"w-full bg-orange-600 hover:bg-orange-500 disabled:bg-orange-800 text-white font-bold py-3 px-4 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[c?v.jsx(nn,{className:"animate-spin",size:20}):v.jsx(In,{size:20}),c?"Connecting...":"Connect Bunker"]}),v.jsx("button",{onClick:()=>{t("select"),y(null),i("")},className:"w-full bg-gray-700 hover:bg-gray-600 text-white py-2 px-4 rounded-lg transition-colors",children:"Back"})]}),e==="signup"&&v.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-lg p-6 space-y-4",children:[v.jsx("h2",{className:"text-xl font-bold text-white text-center mb-4",children:"Create NOSTR Account"}),a?v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"bg-yellow-900/30 border border-yellow-500 p-4 rounded-lg",children:[v.jsx("p",{className:"text-yellow-400 text-sm font-bold mb-2",children:" IMPORTANT: Save your private key!"}),v.jsx("p",{className:"text-yellow-200 text-xs",children:"Your private key is the only way to access your account. Store it securely and never share it."})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{className:"text-gray-400 text-sm",children:"Your Private Key (nsec):"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("input",{type:"text",value:a.nsec,readOnly:!0,className:"flex-1 bg-gray-800 border border-gray-600 rounded-lg px-3 py-2 text-green-400 font-mono text-xs"}),v.jsx("button",{onClick:k,className:"bg-gray-700 hover:bg-gray-600 p-2 rounded-lg transition-colors",children:m?v.jsx(Hu,{size:20,className:"text-green-400"}):v.jsx(ly,{size:20,className:"text-gray-400"})})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{className:"text-gray-400 text-sm",children:"Your Public Key (npub):"}),v.jsx("input",{type:"text",value:a.npub,readOnly:!0,className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-3 py-2 text-blue-400 font-mono text-xs"})]}),v.jsx("button",{onClick:I,className:"w-full bg-green-600 hover:bg-green-500 text-white font-bold py-3 px-4 rounded-lg transition-colors",children:"I've Saved My Key - Continue"})]}):v.jsxs(v.Fragment,{children:[v.jsx("p",{className:"text-gray-400 text-center text-sm",children:"Generate a new NOSTR keypair to get started"}),v.jsxs("button",{onClick:b,className:"w-full bg-green-600 hover:bg-green-500 text-white font-bold py-3 px-4 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[v.jsx(ol,{size:20}),"Generate New Keys"]})]}),v.jsx("button",{onClick:()=>{t("select"),d(null)},className:"w-full bg-gray-700 hover:bg-gray-600 text-white py-2 px-4 rounded-lg transition-colors",children:"Back"})]}),e==="anonymous"&&v.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-lg p-6 space-y-4",children:[v.jsx("h2",{className:"text-xl font-bold text-white text-center mb-4",children:"Play Anonymously"}),v.jsx("p",{className:"text-gray-400 text-center text-sm",children:"Enter a pseudonym to appear on the leaderboard"}),p&&v.jsx("div",{className:"bg-red-900/50 border border-red-500 text-red-400 p-3 rounded-lg text-sm",children:p}),v.jsx("input",{type:"text",value:l,onChange:P=>u(P.target.value),placeholder:"Enter your pseudonym",maxLength:20,className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-gray-500"}),v.jsxs("button",{onClick:j,className:"w-full bg-gray-600 hover:bg-gray-500 text-white font-bold py-3 px-4 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[v.jsx(rl,{size:20}),"Continue as ",l||"Anonymous"]}),v.jsx("button",{onClick:()=>{t("select"),y(null),u("")},className:"w-full bg-gray-700 hover:bg-gray-600 text-white py-2 px-4 rounded-lg transition-colors",children:"Back"})]})]})})}const R_="modulepreload",M_=function(e,t){return new URL(e,t).href},Nd={},O_=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){const l=document.getElementsByTagName("link"),u=document.querySelector("meta[property=csp-nonce]"),a=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));o=Promise.allSettled(n.map(d=>{if(d=M_(d,r),d in Nd)return;Nd[d]=!0;const m=d.endsWith(".css"),s=m?'[rel="stylesheet"]':"";if(!!r)for(let p=l.length-1;p>=0;p--){const y=l[p];if(y.href===d&&(!m||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${d}"]${s}`))return;const f=document.createElement("link");if(f.rel=m?"stylesheet":R_,m||(f.as="script"),f.crossOrigin="",f.href=d,a&&f.setAttribute("nonce",a),document.head.appendChild(f),m)return new Promise((p,y)=>{f.addEventListener("load",p),f.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return o.then(l=>{for(const u of l||[])u.status==="rejected"&&i(u.reason);return t().catch(i)})},B_="RoutingRaiders@coinos.io",hs=210;async function Uu(e=B_){const[t,n]=e.split("@"),r=`https://${n}/.well-known/lnurlp/${t}`,o=await fetch(r);if(!o.ok)throw new Error("Failed to fetch LNURL-pay info");return o.json()}async function zu(e,t,n){const r=new URL(e);r.searchParams.set("amount",t.toString()),r.searchParams.set("comment",n);const o=await fetch(r.toString());if(!o.ok)throw new Error("Failed to get invoice");return o.json()}async function H_(){if(!window.webln)throw new Error("WebLN not available. Please install a Lightning wallet extension like Alby.");try{await window.webln.enable();const e=await Uu(),t=hs*1e3;if(t<e.minSendable||t>e.maxSendable)throw new Error("Payment amount out of range");const n=await zu(e.callback,t,"Routing Raiders - Game Entry"),r=await window.webln.sendPayment(n.pr);return r.preimage?(console.log("Payment successful:",r.preimage),!0):!1}catch(e){throw console.error("WebLN payment error:",e),e}}async function U_(){try{const e=await Uu(),t=hs*1e3;if(t<e.minSendable||t>e.maxSendable)throw new Error("Payment amount out of range");return(await zu(e.callback,t,"Routing Raiders - Game Entry")).pr}catch(e){throw console.error("Error generating invoice:",e),e}}function z_(e){const t=new URL(e.replace("nostr+walletconnect://","https://")),n=t.hostname||t.pathname.replace("//",""),r=t.searchParams.get("relay")||"",o=t.searchParams.get("secret")||"";if(!n||!r||!o)throw new Error("Invalid NWC connection string");return{pubkey:n,relay:r,secret:o}}async function $_(e){try{const{nip19:t,finalizeEvent:n,getPublicKey:r}=await O_(async()=>{const{nip19:c,finalizeEvent:f,getPublicKey:p}=await Promise.resolve().then(()=>u_);return{nip19:c,finalizeEvent:f,getPublicKey:p}},void 0,import.meta.url),o=z_(e),i=await Uu(),l=hs*1e3,u=await zu(i.callback,l,"Routing Raiders - Game Entry");let a;if(o.secret.startsWith("nsec")){const c=t.decode(o.secret);if(c.type!=="nsec")throw new Error("Invalid nsec format");a=c.data}else a=new Uint8Array(o.secret.match(/.{1,2}/g).map(c=>parseInt(c,16)));const d={kind:23194,created_at:Math.floor(Date.now()/1e3),content:JSON.stringify({method:"pay_invoice",params:{invoice:u.pr}}),tags:[["p",o.pubkey]]},m=n(d,a);console.log("NWC payment sent to relay:",o.relay),console.log("NWC event:",m);const s=new WebSocket(o.relay);return new Promise((c,f)=>{const p=setTimeout(()=>{s.close(),f(new Error("NWC relay timeout"))},1e4);s.onopen=()=>{s.send(JSON.stringify(["EVENT",m]))},s.onmessage=y=>{JSON.parse(y.data)[0]==="OK"&&(clearTimeout(p),s.close(),c(!0))},s.onerror=y=>{clearTimeout(p),s.close(),f(y)}})}catch(t){throw console.error("NWC payment error:",t),t}}function F_(){return hs}function D_(e){try{const t=e.match(/ph([a-f0-9]{64})/i);return{paymentHash:t?t[1]:void 0}}catch{return{}}}async function V_(e){try{const t=D_(e);if(!t.paymentHash)return console.warn("Could not extract payment hash from invoice"),!1;const n=t.paymentHash.toLowerCase();try{const r=await fetch(`https://api.lnquery.com/api/v1/invoice/${n}`,{method:"GET"});if(r.ok){const o=await r.json();return console.log("LNQuery payment check:",o),o.settled===!0||o.paid===!0}}catch{console.log("LNQuery check failed, trying alternatives...")}try{const r=await fetch(`https://1ml.com/api/v1/invoice/${n}`,{method:"GET"});if(r.ok){const o=await r.json();if(o.paid||o.settled)return!0}}catch{console.log("1ML API check failed")}return!1}catch(t){return console.error("Error checking payment status:",t),!1}}function W_(){const[e,t]=z.useState("select"),[n,r]=z.useState(""),[o,i]=z.useState(null),[l,u]=z.useState(!1),[a,d]=z.useState(null),[m,s]=z.useState(!1),[c,f]=z.useState(!1),{userName:p,isAnonymous:y,setHasPaid:w,setPhase:h}=_e(),g=F_(),x=async()=>{var k,I;u(!0),d(null);try{await H_()&&(w(!0),h("welcome"))}catch(j){(k=j.message)!=null&&k.includes("WebLN not available")?d("No Lightning wallet found. Please install Alby or another WebLN-compatible wallet."):(I=j.message)!=null&&I.includes("User rejected")?d("Payment was cancelled."):d(j.message||"Payment failed. Please try again.")}finally{u(!1)}},_=async()=>{if(!n.trim()){d("Please enter your NWC connection string");return}u(!0),d(null);try{await $_(n)&&(w(!0),h("welcome"))}catch(k){d(k.message||"NWC connection failed")}finally{u(!1)}},N=async()=>{u(!0),d(null);try{const k=await U_();i(k),setTimeout(()=>f(!0),500)}catch(k){d(k.message||"Failed to generate invoice")}finally{u(!1)}};z.useEffect(()=>{if(!c||!o)return;let k=!0,I=0;const j=300,P=async()=>{try{if(I++,I%2===0){console.log(`Checking payment (${Math.floor(I/2)}/150)...`);const $=await V_(o);if(k&&$){console.log("Payment confirmed!"),f(!1),w(!0),h("welcome");return}}if(I>=j){k&&f(!1);return}setTimeout(P,1e3)}catch($){console.error("Poll error:",$),k&&I<j&&setTimeout(P,1e3)}};return P(),()=>{k=!1}},[c,o,w,h]);const S=()=>{o&&(navigator.clipboard.writeText(o),s(!0),setTimeout(()=>s(!1),2e3))},b=()=>{w(!0),h("welcome")};return v.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center p-4",children:v.jsxs("div",{className:"w-full max-w-md",children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsx("h1",{className:"text-3xl font-bold text-yellow-400 mb-2 font-mono",children:" ZAP TO PLAY "}),v.jsxs("p",{className:"text-gray-400",children:["Welcome, ",v.jsx("span",{className:"text-green-400",children:p}),y&&v.jsx("span",{className:"text-gray-500 text-sm",children:" (Anonymous)"})]})]}),v.jsx("div",{className:"bg-gray-900 border border-yellow-500 rounded-lg p-6 mb-4",children:v.jsxs("div",{className:"text-center mb-4",children:[v.jsx("div",{className:"text-5xl mb-2",children:""}),v.jsxs("div",{className:"text-3xl font-bold text-yellow-400",children:[g," sats"]}),v.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"One-time payment to start playing"})]})}),e==="select"&&v.jsxs("div",{className:"space-y-4",children:[v.jsxs("button",{onClick:()=>{t("webln"),x()},className:"w-full bg-yellow-500 hover:bg-yellow-400 text-black font-bold py-3 px-4 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[v.jsx(Ad,{size:20}),"Pay with WebLN (Alby, etc.)"]}),v.jsxs("button",{onClick:()=>t("nwc"),className:"w-full bg-orange-600 hover:bg-orange-500 text-white font-bold py-3 px-4 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[v.jsx(In,{size:20}),"NOSTR Wallet Connect (NWC)"]}),v.jsxs("button",{onClick:()=>{t("invoice"),N()},className:"w-full bg-purple-600 hover:bg-purple-500 text-white font-bold py-3 px-4 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[v.jsx(N_,{size:20}),"Pay Lightning Invoice"]}),v.jsxs("div",{className:"relative py-2",children:[v.jsx("div",{className:"absolute inset-0 flex items-center",children:v.jsx("div",{className:"w-full border-t border-gray-700"})}),v.jsx("div",{className:"relative flex justify-center",children:v.jsx("span",{className:"bg-black px-4 text-gray-500 text-xs",children:"DEMO MODE"})})]}),v.jsx("button",{onClick:b,className:"w-full bg-gray-800 hover:bg-gray-700 text-gray-400 py-2 px-4 rounded-lg text-sm transition-colors",children:"Skip Payment (Demo)"})]}),e==="webln"&&v.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-lg p-6 space-y-4",children:[v.jsx("h3",{className:"text-xl font-bold text-white text-center",children:"WebLN Payment"}),l&&v.jsxs("div",{className:"text-center py-4",children:[v.jsx(nn,{className:"animate-spin mx-auto text-yellow-400",size:40}),v.jsx("p",{className:"text-gray-400 mt-2",children:"Processing payment..."})]}),a&&v.jsx("div",{className:"bg-red-900/50 border border-red-500 text-red-400 p-3 rounded-lg text-sm",children:a}),!l&&v.jsxs("button",{onClick:x,className:"w-full bg-yellow-500 hover:bg-yellow-400 text-black font-bold py-3 px-4 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[v.jsx(Ad,{size:20}),"Try Again"]}),v.jsx("button",{onClick:()=>{t("select"),d(null)},className:"w-full bg-gray-700 hover:bg-gray-600 text-white py-2 px-4 rounded-lg transition-colors",children:"Back"})]}),e==="nwc"&&v.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-lg p-6 space-y-4",children:[v.jsx("h3",{className:"text-xl font-bold text-white text-center",children:"NOSTR Wallet Connect"}),v.jsx("p",{className:"text-gray-400 text-center text-sm",children:"Enter your NWC connection string"}),a&&v.jsx("div",{className:"bg-red-900/50 border border-red-500 text-red-400 p-3 rounded-lg text-sm",children:a}),v.jsx("input",{type:"text",value:n,onChange:k=>r(k.target.value),placeholder:"nostr+walletconnect://...",className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-orange-500 font-mono text-xs"}),v.jsxs("button",{onClick:_,disabled:l,className:"w-full bg-orange-600 hover:bg-orange-500 disabled:bg-orange-800 text-white font-bold py-3 px-4 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[l?v.jsx(nn,{className:"animate-spin",size:20}):v.jsx(In,{size:20}),l?"Connecting...":"Connect & Pay"]}),v.jsx("button",{onClick:()=>{t("select"),d(null),r("")},className:"w-full bg-gray-700 hover:bg-gray-600 text-white py-2 px-4 rounded-lg transition-colors",children:"Back"})]}),e==="invoice"&&v.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-lg p-6 space-y-4",children:[v.jsx("h3",{className:"text-xl font-bold text-white text-center",children:"Lightning Invoice"}),l&&v.jsxs("div",{className:"text-center py-4",children:[v.jsx(nn,{className:"animate-spin mx-auto text-purple-400",size:40}),v.jsx("p",{className:"text-gray-400 mt-2",children:"Generating invoice..."})]}),a&&v.jsx("div",{className:"bg-red-900/50 border border-red-500 text-red-400 p-3 rounded-lg text-sm",children:a}),o&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"bg-gray-800 border border-gray-600 rounded-lg p-4 flex flex-col items-center",children:[v.jsx("p",{className:"text-gray-400 text-xs mb-3",children:"Scan with any Lightning wallet:"}),v.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(`lightning:${o}`)}`,alt:"Lightning Invoice QR Code",className:"border-2 border-purple-500 rounded-lg"}),v.jsx("p",{className:"text-gray-400 text-xs mt-3",children:"Or copy the invoice:"}),v.jsxs("div",{className:"break-all text-purple-400 font-mono text-xs text-center max-w-xs",children:[o.substring(0,50),"..."]})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsxs("button",{onClick:S,className:"flex-1 bg-purple-600 hover:bg-purple-500 text-white font-bold py-2 px-4 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[m?v.jsx(Hu,{size:18}):v.jsx(ly,{size:18}),m?"Copied!":"Copy Invoice"]}),v.jsxs("a",{href:`lightning:${o}`,className:"flex-1 bg-yellow-500 hover:bg-yellow-400 text-black font-bold py-2 px-4 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[v.jsx(__,{size:18}),"Open Wallet"]})]}),c?v.jsxs("div",{className:"text-center text-green-400 text-sm bg-green-900/20 border border-green-500 rounded-lg p-4 space-y-2",children:[v.jsx(nn,{className:"animate-spin inline mr-2",size:18}),v.jsx("p",{className:"font-bold",children:"Checking payment status..."}),v.jsx("p",{className:"text-xs text-gray-400",children:"This may take a few moments"})]}):v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:()=>f(!0),className:"w-full bg-green-600 hover:bg-green-500 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:"Check Payment Status"}),v.jsx("button",{onClick:b,className:"w-full bg-gray-700 hover:bg-gray-600 text-gray-400 py-2 px-4 rounded-lg transition-colors text-sm",children:"Skip Payment (Demo)"})]})]}),v.jsx("button",{onClick:()=>{t("select"),d(null),i(null)},className:"w-full bg-gray-700 hover:bg-gray-600 text-white py-2 px-4 rounded-lg transition-colors",children:"Back"})]})]})})}var qt={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(e){(function(){var t=function(){this.init()};t.prototype={init:function(){var s=this||n;return s._counter=1e3,s._html5AudioPool=[],s.html5PoolSize=10,s._codecs={},s._howls=[],s._muted=!1,s._volume=1,s._canPlayEvent="canplaythrough",s._navigator=typeof window<"u"&&window.navigator?window.navigator:null,s.masterGain=null,s.noAudio=!1,s.usingWebAudio=!0,s.autoSuspend=!0,s.ctx=null,s.autoUnlock=!0,s._setup(),s},volume:function(s){var c=this||n;if(s=parseFloat(s),c.ctx||m(),typeof s<"u"&&s>=0&&s<=1){if(c._volume=s,c._muted)return c;c.usingWebAudio&&c.masterGain.gain.setValueAtTime(s,n.ctx.currentTime);for(var f=0;f<c._howls.length;f++)if(!c._howls[f]._webAudio)for(var p=c._howls[f]._getSoundIds(),y=0;y<p.length;y++){var w=c._howls[f]._soundById(p[y]);w&&w._node&&(w._node.volume=w._volume*s)}return c}return c._volume},mute:function(s){var c=this||n;c.ctx||m(),c._muted=s,c.usingWebAudio&&c.masterGain.gain.setValueAtTime(s?0:c._volume,n.ctx.currentTime);for(var f=0;f<c._howls.length;f++)if(!c._howls[f]._webAudio)for(var p=c._howls[f]._getSoundIds(),y=0;y<p.length;y++){var w=c._howls[f]._soundById(p[y]);w&&w._node&&(w._node.muted=s?!0:w._muted)}return c},stop:function(){for(var s=this||n,c=0;c<s._howls.length;c++)s._howls[c].stop();return s},unload:function(){for(var s=this||n,c=s._howls.length-1;c>=0;c--)s._howls[c].unload();return s.usingWebAudio&&s.ctx&&typeof s.ctx.close<"u"&&(s.ctx.close(),s.ctx=null,m()),s},codecs:function(s){return(this||n)._codecs[s.replace(/^x-/,"")]},_setup:function(){var s=this||n;if(s.state=s.ctx&&s.ctx.state||"suspended",s._autoSuspend(),!s.usingWebAudio)if(typeof Audio<"u")try{var c=new Audio;typeof c.oncanplaythrough>"u"&&(s._canPlayEvent="canplay")}catch{s.noAudio=!0}else s.noAudio=!0;try{var c=new Audio;c.muted&&(s.noAudio=!0)}catch{}return s.noAudio||s._setupCodecs(),s},_setupCodecs:function(){var s=this||n,c=null;try{c=typeof Audio<"u"?new Audio:null}catch{return s}if(!c||typeof c.canPlayType!="function")return s;var f=c.canPlayType("audio/mpeg;").replace(/^no$/,""),p=s._navigator?s._navigator.userAgent:"",y=p.match(/OPR\/(\d+)/g),w=y&&parseInt(y[0].split("/")[1],10)<33,h=p.indexOf("Safari")!==-1&&p.indexOf("Chrome")===-1,g=p.match(/Version\/(.*?) /),x=h&&g&&parseInt(g[1],10)<15;return s._codecs={mp3:!!(!w&&(f||c.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!f,opus:!!c.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!c.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!c.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(c.canPlayType('audio/wav; codecs="1"')||c.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!c.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!c.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(c.canPlayType("audio/x-m4a;")||c.canPlayType("audio/m4a;")||c.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(c.canPlayType("audio/x-m4b;")||c.canPlayType("audio/m4b;")||c.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(c.canPlayType("audio/x-mp4;")||c.canPlayType("audio/mp4;")||c.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!x&&c.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!x&&c.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!c.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(c.canPlayType("audio/x-flac;")||c.canPlayType("audio/flac;")).replace(/^no$/,"")},s},_unlockAudio:function(){var s=this||n;if(!(s._audioUnlocked||!s.ctx)){s._audioUnlocked=!1,s.autoUnlock=!1,!s._mobileUnloaded&&s.ctx.sampleRate!==44100&&(s._mobileUnloaded=!0,s.unload()),s._scratchBuffer=s.ctx.createBuffer(1,1,22050);var c=function(f){for(;s._html5AudioPool.length<s.html5PoolSize;)try{var p=new Audio;p._unlocked=!0,s._releaseHtml5Audio(p)}catch{s.noAudio=!0;break}for(var y=0;y<s._howls.length;y++)if(!s._howls[y]._webAudio)for(var w=s._howls[y]._getSoundIds(),h=0;h<w.length;h++){var g=s._howls[y]._soundById(w[h]);g&&g._node&&!g._node._unlocked&&(g._node._unlocked=!0,g._node.load())}s._autoResume();var x=s.ctx.createBufferSource();x.buffer=s._scratchBuffer,x.connect(s.ctx.destination),typeof x.start>"u"?x.noteOn(0):x.start(0),typeof s.ctx.resume=="function"&&s.ctx.resume(),x.onended=function(){x.disconnect(0),s._audioUnlocked=!0,document.removeEventListener("touchstart",c,!0),document.removeEventListener("touchend",c,!0),document.removeEventListener("click",c,!0),document.removeEventListener("keydown",c,!0);for(var _=0;_<s._howls.length;_++)s._howls[_]._emit("unlock")}};return document.addEventListener("touchstart",c,!0),document.addEventListener("touchend",c,!0),document.addEventListener("click",c,!0),document.addEventListener("keydown",c,!0),s}},_obtainHtml5Audio:function(){var s=this||n;if(s._html5AudioPool.length)return s._html5AudioPool.pop();var c=new Audio().play();return c&&typeof Promise<"u"&&(c instanceof Promise||typeof c.then=="function")&&c.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(s){var c=this||n;return s._unlocked&&c._html5AudioPool.push(s),c},_autoSuspend:function(){var s=this;if(!(!s.autoSuspend||!s.ctx||typeof s.ctx.suspend>"u"||!n.usingWebAudio)){for(var c=0;c<s._howls.length;c++)if(s._howls[c]._webAudio){for(var f=0;f<s._howls[c]._sounds.length;f++)if(!s._howls[c]._sounds[f]._paused)return s}return s._suspendTimer&&clearTimeout(s._suspendTimer),s._suspendTimer=setTimeout(function(){if(s.autoSuspend){s._suspendTimer=null,s.state="suspending";var p=function(){s.state="suspended",s._resumeAfterSuspend&&(delete s._resumeAfterSuspend,s._autoResume())};s.ctx.suspend().then(p,p)}},3e4),s}},_autoResume:function(){var s=this;if(!(!s.ctx||typeof s.ctx.resume>"u"||!n.usingWebAudio))return s.state==="running"&&s.ctx.state!=="interrupted"&&s._suspendTimer?(clearTimeout(s._suspendTimer),s._suspendTimer=null):s.state==="suspended"||s.state==="running"&&s.ctx.state==="interrupted"?(s.ctx.resume().then(function(){s.state="running";for(var c=0;c<s._howls.length;c++)s._howls[c]._emit("resume")}),s._suspendTimer&&(clearTimeout(s._suspendTimer),s._suspendTimer=null)):s.state==="suspending"&&(s._resumeAfterSuspend=!0),s}};var n=new t,r=function(s){var c=this;if(!s.src||s.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}c.init(s)};r.prototype={init:function(s){var c=this;return n.ctx||m(),c._autoplay=s.autoplay||!1,c._format=typeof s.format!="string"?s.format:[s.format],c._html5=s.html5||!1,c._muted=s.mute||!1,c._loop=s.loop||!1,c._pool=s.pool||5,c._preload=typeof s.preload=="boolean"||s.preload==="metadata"?s.preload:!0,c._rate=s.rate||1,c._sprite=s.sprite||{},c._src=typeof s.src!="string"?s.src:[s.src],c._volume=s.volume!==void 0?s.volume:1,c._xhr={method:s.xhr&&s.xhr.method?s.xhr.method:"GET",headers:s.xhr&&s.xhr.headers?s.xhr.headers:null,withCredentials:s.xhr&&s.xhr.withCredentials?s.xhr.withCredentials:!1},c._duration=0,c._state="unloaded",c._sounds=[],c._endTimers={},c._queue=[],c._playLock=!1,c._onend=s.onend?[{fn:s.onend}]:[],c._onfade=s.onfade?[{fn:s.onfade}]:[],c._onload=s.onload?[{fn:s.onload}]:[],c._onloaderror=s.onloaderror?[{fn:s.onloaderror}]:[],c._onplayerror=s.onplayerror?[{fn:s.onplayerror}]:[],c._onpause=s.onpause?[{fn:s.onpause}]:[],c._onplay=s.onplay?[{fn:s.onplay}]:[],c._onstop=s.onstop?[{fn:s.onstop}]:[],c._onmute=s.onmute?[{fn:s.onmute}]:[],c._onvolume=s.onvolume?[{fn:s.onvolume}]:[],c._onrate=s.onrate?[{fn:s.onrate}]:[],c._onseek=s.onseek?[{fn:s.onseek}]:[],c._onunlock=s.onunlock?[{fn:s.onunlock}]:[],c._onresume=[],c._webAudio=n.usingWebAudio&&!c._html5,typeof n.ctx<"u"&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(c),c._autoplay&&c._queue.push({event:"play",action:function(){c.play()}}),c._preload&&c._preload!=="none"&&c.load(),c},load:function(){var s=this,c=null;if(n.noAudio){s._emit("loaderror",null,"No audio support.");return}typeof s._src=="string"&&(s._src=[s._src]);for(var f=0;f<s._src.length;f++){var p,y;if(s._format&&s._format[f])p=s._format[f];else{if(y=s._src[f],typeof y!="string"){s._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}p=/^data:audio\/([^;,]+);/i.exec(y),p||(p=/\.([^.]+)$/.exec(y.split("?",1)[0])),p&&(p=p[1].toLowerCase())}if(p||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),p&&n.codecs(p)){c=s._src[f];break}}if(!c){s._emit("loaderror",null,"No codec support for selected audio sources.");return}return s._src=c,s._state="loading",window.location.protocol==="https:"&&c.slice(0,5)==="http:"&&(s._html5=!0,s._webAudio=!1),new o(s),s._webAudio&&l(s),s},play:function(s,c){var f=this,p=null;if(typeof s=="number")p=s,s=null;else{if(typeof s=="string"&&f._state==="loaded"&&!f._sprite[s])return null;if(typeof s>"u"&&(s="__default",!f._playLock)){for(var y=0,w=0;w<f._sounds.length;w++)f._sounds[w]._paused&&!f._sounds[w]._ended&&(y++,p=f._sounds[w]._id);y===1?s=null:p=null}}var h=p?f._soundById(p):f._inactiveSound();if(!h)return null;if(p&&!s&&(s=h._sprite||"__default"),f._state!=="loaded"){h._sprite=s,h._ended=!1;var g=h._id;return f._queue.push({event:"play",action:function(){f.play(g)}}),g}if(p&&!h._paused)return c||f._loadQueue("play"),h._id;f._webAudio&&n._autoResume();var x=Math.max(0,h._seek>0?h._seek:f._sprite[s][0]/1e3),_=Math.max(0,(f._sprite[s][0]+f._sprite[s][1])/1e3-x),N=_*1e3/Math.abs(h._rate),S=f._sprite[s][0]/1e3,b=(f._sprite[s][0]+f._sprite[s][1])/1e3;h._sprite=s,h._ended=!1;var k=function(){h._paused=!1,h._seek=x,h._start=S,h._stop=b,h._loop=!!(h._loop||f._sprite[s][2])};if(x>=b){f._ended(h);return}var I=h._node;if(f._webAudio){var j=function(){f._playLock=!1,k(),f._refreshBuffer(h);var V=h._muted||f._muted?0:h._volume;I.gain.setValueAtTime(V,n.ctx.currentTime),h._playStart=n.ctx.currentTime,typeof I.bufferSource.start>"u"?h._loop?I.bufferSource.noteGrainOn(0,x,86400):I.bufferSource.noteGrainOn(0,x,_):h._loop?I.bufferSource.start(0,x,86400):I.bufferSource.start(0,x,_),N!==1/0&&(f._endTimers[h._id]=setTimeout(f._ended.bind(f,h),N)),c||setTimeout(function(){f._emit("play",h._id),f._loadQueue()},0)};n.state==="running"&&n.ctx.state!=="interrupted"?j():(f._playLock=!0,f.once("resume",j),f._clearTimer(h._id))}else{var P=function(){I.currentTime=x,I.muted=h._muted||f._muted||n._muted||I.muted,I.volume=h._volume*n.volume(),I.playbackRate=h._rate;try{var V=I.play();if(V&&typeof Promise<"u"&&(V instanceof Promise||typeof V.then=="function")?(f._playLock=!0,k(),V.then(function(){f._playLock=!1,I._unlocked=!0,c?f._loadQueue():f._emit("play",h._id)}).catch(function(){f._playLock=!1,f._emit("playerror",h._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),h._ended=!0,h._paused=!0})):c||(f._playLock=!1,k(),f._emit("play",h._id)),I.playbackRate=h._rate,I.paused){f._emit("playerror",h._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}s!=="__default"||h._loop?f._endTimers[h._id]=setTimeout(f._ended.bind(f,h),N):(f._endTimers[h._id]=function(){f._ended(h),I.removeEventListener("ended",f._endTimers[h._id],!1)},I.addEventListener("ended",f._endTimers[h._id],!1))}catch(C){f._emit("playerror",h._id,C)}};I.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(I.src=f._src,I.load());var $=window&&window.ejecta||!I.readyState&&n._navigator.isCocoonJS;if(I.readyState>=3||$)P();else{f._playLock=!0,f._state="loading";var F=function(){f._state="loaded",P(),I.removeEventListener(n._canPlayEvent,F,!1)};I.addEventListener(n._canPlayEvent,F,!1),f._clearTimer(h._id)}}return h._id},pause:function(s){var c=this;if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"pause",action:function(){c.pause(s)}}),c;for(var f=c._getSoundIds(s),p=0;p<f.length;p++){c._clearTimer(f[p]);var y=c._soundById(f[p]);if(y&&!y._paused&&(y._seek=c.seek(f[p]),y._rateSeek=0,y._paused=!0,c._stopFade(f[p]),y._node))if(c._webAudio){if(!y._node.bufferSource)continue;typeof y._node.bufferSource.stop>"u"?y._node.bufferSource.noteOff(0):y._node.bufferSource.stop(0),c._cleanBuffer(y._node)}else(!isNaN(y._node.duration)||y._node.duration===1/0)&&y._node.pause();arguments[1]||c._emit("pause",y?y._id:null)}return c},stop:function(s,c){var f=this;if(f._state!=="loaded"||f._playLock)return f._queue.push({event:"stop",action:function(){f.stop(s)}}),f;for(var p=f._getSoundIds(s),y=0;y<p.length;y++){f._clearTimer(p[y]);var w=f._soundById(p[y]);w&&(w._seek=w._start||0,w._rateSeek=0,w._paused=!0,w._ended=!0,f._stopFade(p[y]),w._node&&(f._webAudio?w._node.bufferSource&&(typeof w._node.bufferSource.stop>"u"?w._node.bufferSource.noteOff(0):w._node.bufferSource.stop(0),f._cleanBuffer(w._node)):(!isNaN(w._node.duration)||w._node.duration===1/0)&&(w._node.currentTime=w._start||0,w._node.pause(),w._node.duration===1/0&&f._clearSound(w._node))),c||f._emit("stop",w._id))}return f},mute:function(s,c){var f=this;if(f._state!=="loaded"||f._playLock)return f._queue.push({event:"mute",action:function(){f.mute(s,c)}}),f;if(typeof c>"u")if(typeof s=="boolean")f._muted=s;else return f._muted;for(var p=f._getSoundIds(c),y=0;y<p.length;y++){var w=f._soundById(p[y]);w&&(w._muted=s,w._interval&&f._stopFade(w._id),f._webAudio&&w._node?w._node.gain.setValueAtTime(s?0:w._volume,n.ctx.currentTime):w._node&&(w._node.muted=n._muted?!0:s),f._emit("mute",w._id))}return f},volume:function(){var s=this,c=arguments,f,p;if(c.length===0)return s._volume;if(c.length===1||c.length===2&&typeof c[1]>"u"){var y=s._getSoundIds(),w=y.indexOf(c[0]);w>=0?p=parseInt(c[0],10):f=parseFloat(c[0])}else c.length>=2&&(f=parseFloat(c[0]),p=parseInt(c[1],10));var h;if(typeof f<"u"&&f>=0&&f<=1){if(s._state!=="loaded"||s._playLock)return s._queue.push({event:"volume",action:function(){s.volume.apply(s,c)}}),s;typeof p>"u"&&(s._volume=f),p=s._getSoundIds(p);for(var g=0;g<p.length;g++)h=s._soundById(p[g]),h&&(h._volume=f,c[2]||s._stopFade(p[g]),s._webAudio&&h._node&&!h._muted?h._node.gain.setValueAtTime(f,n.ctx.currentTime):h._node&&!h._muted&&(h._node.volume=f*n.volume()),s._emit("volume",h._id))}else return h=p?s._soundById(p):s._sounds[0],h?h._volume:0;return s},fade:function(s,c,f,p){var y=this;if(y._state!=="loaded"||y._playLock)return y._queue.push({event:"fade",action:function(){y.fade(s,c,f,p)}}),y;s=Math.min(Math.max(0,parseFloat(s)),1),c=Math.min(Math.max(0,parseFloat(c)),1),f=parseFloat(f),y.volume(s,p);for(var w=y._getSoundIds(p),h=0;h<w.length;h++){var g=y._soundById(w[h]);if(g){if(p||y._stopFade(w[h]),y._webAudio&&!g._muted){var x=n.ctx.currentTime,_=x+f/1e3;g._volume=s,g._node.gain.setValueAtTime(s,x),g._node.gain.linearRampToValueAtTime(c,_)}y._startFadeInterval(g,s,c,f,w[h],typeof p>"u")}}return y},_startFadeInterval:function(s,c,f,p,y,w){var h=this,g=c,x=f-c,_=Math.abs(x/.01),N=Math.max(4,_>0?p/_:p),S=Date.now();s._fadeTo=f,s._interval=setInterval(function(){var b=(Date.now()-S)/p;S=Date.now(),g+=x*b,g=Math.round(g*100)/100,x<0?g=Math.max(f,g):g=Math.min(f,g),h._webAudio?s._volume=g:h.volume(g,s._id,!0),w&&(h._volume=g),(f<c&&g<=f||f>c&&g>=f)&&(clearInterval(s._interval),s._interval=null,s._fadeTo=null,h.volume(f,s._id),h._emit("fade",s._id))},N)},_stopFade:function(s){var c=this,f=c._soundById(s);return f&&f._interval&&(c._webAudio&&f._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(f._interval),f._interval=null,c.volume(f._fadeTo,s),f._fadeTo=null,c._emit("fade",s)),c},loop:function(){var s=this,c=arguments,f,p,y;if(c.length===0)return s._loop;if(c.length===1)if(typeof c[0]=="boolean")f=c[0],s._loop=f;else return y=s._soundById(parseInt(c[0],10)),y?y._loop:!1;else c.length===2&&(f=c[0],p=parseInt(c[1],10));for(var w=s._getSoundIds(p),h=0;h<w.length;h++)y=s._soundById(w[h]),y&&(y._loop=f,s._webAudio&&y._node&&y._node.bufferSource&&(y._node.bufferSource.loop=f,f&&(y._node.bufferSource.loopStart=y._start||0,y._node.bufferSource.loopEnd=y._stop,s.playing(w[h])&&(s.pause(w[h],!0),s.play(w[h],!0)))));return s},rate:function(){var s=this,c=arguments,f,p;if(c.length===0)p=s._sounds[0]._id;else if(c.length===1){var y=s._getSoundIds(),w=y.indexOf(c[0]);w>=0?p=parseInt(c[0],10):f=parseFloat(c[0])}else c.length===2&&(f=parseFloat(c[0]),p=parseInt(c[1],10));var h;if(typeof f=="number"){if(s._state!=="loaded"||s._playLock)return s._queue.push({event:"rate",action:function(){s.rate.apply(s,c)}}),s;typeof p>"u"&&(s._rate=f),p=s._getSoundIds(p);for(var g=0;g<p.length;g++)if(h=s._soundById(p[g]),h){s.playing(p[g])&&(h._rateSeek=s.seek(p[g]),h._playStart=s._webAudio?n.ctx.currentTime:h._playStart),h._rate=f,s._webAudio&&h._node&&h._node.bufferSource?h._node.bufferSource.playbackRate.setValueAtTime(f,n.ctx.currentTime):h._node&&(h._node.playbackRate=f);var x=s.seek(p[g]),_=(s._sprite[h._sprite][0]+s._sprite[h._sprite][1])/1e3-x,N=_*1e3/Math.abs(h._rate);(s._endTimers[p[g]]||!h._paused)&&(s._clearTimer(p[g]),s._endTimers[p[g]]=setTimeout(s._ended.bind(s,h),N)),s._emit("rate",h._id)}}else return h=s._soundById(p),h?h._rate:s._rate;return s},seek:function(){var s=this,c=arguments,f,p;if(c.length===0)s._sounds.length&&(p=s._sounds[0]._id);else if(c.length===1){var y=s._getSoundIds(),w=y.indexOf(c[0]);w>=0?p=parseInt(c[0],10):s._sounds.length&&(p=s._sounds[0]._id,f=parseFloat(c[0]))}else c.length===2&&(f=parseFloat(c[0]),p=parseInt(c[1],10));if(typeof p>"u")return 0;if(typeof f=="number"&&(s._state!=="loaded"||s._playLock))return s._queue.push({event:"seek",action:function(){s.seek.apply(s,c)}}),s;var h=s._soundById(p);if(h)if(typeof f=="number"&&f>=0){var g=s.playing(p);g&&s.pause(p,!0),h._seek=f,h._ended=!1,s._clearTimer(p),!s._webAudio&&h._node&&!isNaN(h._node.duration)&&(h._node.currentTime=f);var x=function(){g&&s.play(p,!0),s._emit("seek",p)};if(g&&!s._webAudio){var _=function(){s._playLock?setTimeout(_,0):x()};setTimeout(_,0)}else x()}else if(s._webAudio){var N=s.playing(p)?n.ctx.currentTime-h._playStart:0,S=h._rateSeek?h._rateSeek-h._seek:0;return h._seek+(S+N*Math.abs(h._rate))}else return h._node.currentTime;return s},playing:function(s){var c=this;if(typeof s=="number"){var f=c._soundById(s);return f?!f._paused:!1}for(var p=0;p<c._sounds.length;p++)if(!c._sounds[p]._paused)return!0;return!1},duration:function(s){var c=this,f=c._duration,p=c._soundById(s);return p&&(f=c._sprite[p._sprite][1]/1e3),f},state:function(){return this._state},unload:function(){for(var s=this,c=s._sounds,f=0;f<c.length;f++)c[f]._paused||s.stop(c[f]._id),s._webAudio||(s._clearSound(c[f]._node),c[f]._node.removeEventListener("error",c[f]._errorFn,!1),c[f]._node.removeEventListener(n._canPlayEvent,c[f]._loadFn,!1),c[f]._node.removeEventListener("ended",c[f]._endFn,!1),n._releaseHtml5Audio(c[f]._node)),delete c[f]._node,s._clearTimer(c[f]._id);var p=n._howls.indexOf(s);p>=0&&n._howls.splice(p,1);var y=!0;for(f=0;f<n._howls.length;f++)if(n._howls[f]._src===s._src||s._src.indexOf(n._howls[f]._src)>=0){y=!1;break}return i&&y&&delete i[s._src],n.noAudio=!1,s._state="unloaded",s._sounds=[],s=null,null},on:function(s,c,f,p){var y=this,w=y["_on"+s];return typeof c=="function"&&w.push(p?{id:f,fn:c,once:p}:{id:f,fn:c}),y},off:function(s,c,f){var p=this,y=p["_on"+s],w=0;if(typeof c=="number"&&(f=c,c=null),c||f)for(w=0;w<y.length;w++){var h=f===y[w].id;if(c===y[w].fn&&h||!c&&h){y.splice(w,1);break}}else if(s)p["_on"+s]=[];else{var g=Object.keys(p);for(w=0;w<g.length;w++)g[w].indexOf("_on")===0&&Array.isArray(p[g[w]])&&(p[g[w]]=[])}return p},once:function(s,c,f){var p=this;return p.on(s,c,f,1),p},_emit:function(s,c,f){for(var p=this,y=p["_on"+s],w=y.length-1;w>=0;w--)(!y[w].id||y[w].id===c||s==="load")&&(setTimeout((function(h){h.call(this,c,f)}).bind(p,y[w].fn),0),y[w].once&&p.off(s,y[w].fn,y[w].id));return p._loadQueue(s),p},_loadQueue:function(s){var c=this;if(c._queue.length>0){var f=c._queue[0];f.event===s&&(c._queue.shift(),c._loadQueue()),s||f.action()}return c},_ended:function(s){var c=this,f=s._sprite;if(!c._webAudio&&s._node&&!s._node.paused&&!s._node.ended&&s._node.currentTime<s._stop)return setTimeout(c._ended.bind(c,s),100),c;var p=!!(s._loop||c._sprite[f][2]);if(c._emit("end",s._id),!c._webAudio&&p&&c.stop(s._id,!0).play(s._id),c._webAudio&&p){c._emit("play",s._id),s._seek=s._start||0,s._rateSeek=0,s._playStart=n.ctx.currentTime;var y=(s._stop-s._start)*1e3/Math.abs(s._rate);c._endTimers[s._id]=setTimeout(c._ended.bind(c,s),y)}return c._webAudio&&!p&&(s._paused=!0,s._ended=!0,s._seek=s._start||0,s._rateSeek=0,c._clearTimer(s._id),c._cleanBuffer(s._node),n._autoSuspend()),!c._webAudio&&!p&&c.stop(s._id,!0),c},_clearTimer:function(s){var c=this;if(c._endTimers[s]){if(typeof c._endTimers[s]!="function")clearTimeout(c._endTimers[s]);else{var f=c._soundById(s);f&&f._node&&f._node.removeEventListener("ended",c._endTimers[s],!1)}delete c._endTimers[s]}return c},_soundById:function(s){for(var c=this,f=0;f<c._sounds.length;f++)if(s===c._sounds[f]._id)return c._sounds[f];return null},_inactiveSound:function(){var s=this;s._drain();for(var c=0;c<s._sounds.length;c++)if(s._sounds[c]._ended)return s._sounds[c].reset();return new o(s)},_drain:function(){var s=this,c=s._pool,f=0,p=0;if(!(s._sounds.length<c)){for(p=0;p<s._sounds.length;p++)s._sounds[p]._ended&&f++;for(p=s._sounds.length-1;p>=0;p--){if(f<=c)return;s._sounds[p]._ended&&(s._webAudio&&s._sounds[p]._node&&s._sounds[p]._node.disconnect(0),s._sounds.splice(p,1),f--)}}},_getSoundIds:function(s){var c=this;if(typeof s>"u"){for(var f=[],p=0;p<c._sounds.length;p++)f.push(c._sounds[p]._id);return f}else return[s]},_refreshBuffer:function(s){var c=this;return s._node.bufferSource=n.ctx.createBufferSource(),s._node.bufferSource.buffer=i[c._src],s._panner?s._node.bufferSource.connect(s._panner):s._node.bufferSource.connect(s._node),s._node.bufferSource.loop=s._loop,s._loop&&(s._node.bufferSource.loopStart=s._start||0,s._node.bufferSource.loopEnd=s._stop||0),s._node.bufferSource.playbackRate.setValueAtTime(s._rate,n.ctx.currentTime),c},_cleanBuffer:function(s){var c=this,f=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(!s.bufferSource)return c;if(n._scratchBuffer&&s.bufferSource&&(s.bufferSource.onended=null,s.bufferSource.disconnect(0),f))try{s.bufferSource.buffer=n._scratchBuffer}catch{}return s.bufferSource=null,c},_clearSound:function(s){var c=/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent);c||(s.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var o=function(s){this._parent=s,this.init()};o.prototype={init:function(){var s=this,c=s._parent;return s._muted=c._muted,s._loop=c._loop,s._volume=c._volume,s._rate=c._rate,s._seek=0,s._paused=!0,s._ended=!0,s._sprite="__default",s._id=++n._counter,c._sounds.push(s),s.create(),s},create:function(){var s=this,c=s._parent,f=n._muted||s._muted||s._parent._muted?0:s._volume;return c._webAudio?(s._node=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),s._node.gain.setValueAtTime(f,n.ctx.currentTime),s._node.paused=!0,s._node.connect(n.masterGain)):n.noAudio||(s._node=n._obtainHtml5Audio(),s._errorFn=s._errorListener.bind(s),s._node.addEventListener("error",s._errorFn,!1),s._loadFn=s._loadListener.bind(s),s._node.addEventListener(n._canPlayEvent,s._loadFn,!1),s._endFn=s._endListener.bind(s),s._node.addEventListener("ended",s._endFn,!1),s._node.src=c._src,s._node.preload=c._preload===!0?"auto":c._preload,s._node.volume=f*n.volume(),s._node.load()),s},reset:function(){var s=this,c=s._parent;return s._muted=c._muted,s._loop=c._loop,s._volume=c._volume,s._rate=c._rate,s._seek=0,s._rateSeek=0,s._paused=!0,s._ended=!0,s._sprite="__default",s._id=++n._counter,s},_errorListener:function(){var s=this;s._parent._emit("loaderror",s._id,s._node.error?s._node.error.code:0),s._node.removeEventListener("error",s._errorFn,!1)},_loadListener:function(){var s=this,c=s._parent;c._duration=Math.ceil(s._node.duration*10)/10,Object.keys(c._sprite).length===0&&(c._sprite={__default:[0,c._duration*1e3]}),c._state!=="loaded"&&(c._state="loaded",c._emit("load"),c._loadQueue()),s._node.removeEventListener(n._canPlayEvent,s._loadFn,!1)},_endListener:function(){var s=this,c=s._parent;c._duration===1/0&&(c._duration=Math.ceil(s._node.duration*10)/10,c._sprite.__default[1]===1/0&&(c._sprite.__default[1]=c._duration*1e3),c._ended(s)),s._node.removeEventListener("ended",s._endFn,!1)}};var i={},l=function(s){var c=s._src;if(i[c]){s._duration=i[c].duration,d(s);return}if(/^data:[^;]+;base64,/.test(c)){for(var f=atob(c.split(",")[1]),p=new Uint8Array(f.length),y=0;y<f.length;++y)p[y]=f.charCodeAt(y);a(p.buffer,s)}else{var w=new XMLHttpRequest;w.open(s._xhr.method,c,!0),w.withCredentials=s._xhr.withCredentials,w.responseType="arraybuffer",s._xhr.headers&&Object.keys(s._xhr.headers).forEach(function(h){w.setRequestHeader(h,s._xhr.headers[h])}),w.onload=function(){var h=(w.status+"")[0];if(h!=="0"&&h!=="2"&&h!=="3"){s._emit("loaderror",null,"Failed loading audio file with status: "+w.status+".");return}a(w.response,s)},w.onerror=function(){s._webAudio&&(s._html5=!0,s._webAudio=!1,s._sounds=[],delete i[c],s.load())},u(w)}},u=function(s){try{s.send()}catch{s.onerror()}},a=function(s,c){var f=function(){c._emit("loaderror",null,"Decoding audio data failed.")},p=function(y){y&&c._sounds.length>0?(i[c._src]=y,d(c,y)):f()};typeof Promise<"u"&&n.ctx.decodeAudioData.length===1?n.ctx.decodeAudioData(s).then(p).catch(f):n.ctx.decodeAudioData(s,p,f)},d=function(s,c){c&&!s._duration&&(s._duration=c.duration),Object.keys(s._sprite).length===0&&(s._sprite={__default:[0,s._duration*1e3]}),s._state!=="loaded"&&(s._state="loaded",s._emit("load"),s._loadQueue())},m=function(){if(n.usingWebAudio){try{typeof AudioContext<"u"?n.ctx=new AudioContext:typeof webkitAudioContext<"u"?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch{n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var s=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),c=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),f=c?parseInt(c[1],10):null;if(s&&f&&f<9){var p=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!p&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};e.Howler=n,e.Howl=r,typeof Pr<"u"?(Pr.HowlerGlobal=t,Pr.Howler=n,Pr.Howl=r,Pr.Sound=o):typeof window<"u"&&(window.HowlerGlobal=t,window.Howler=n,window.Howl=r,window.Sound=o)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(n){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var o=r._howls.length-1;o>=0;o--)r._howls[o].stereo(n);return r},HowlerGlobal.prototype.pos=function(n,r,o){var i=this;if(!i.ctx||!i.ctx.listener)return i;if(r=typeof r!="number"?i._pos[1]:r,o=typeof o!="number"?i._pos[2]:o,typeof n=="number")i._pos=[n,r,o],typeof i.ctx.listener.positionX<"u"?(i.ctx.listener.positionX.setTargetAtTime(i._pos[0],Howler.ctx.currentTime,.1),i.ctx.listener.positionY.setTargetAtTime(i._pos[1],Howler.ctx.currentTime,.1),i.ctx.listener.positionZ.setTargetAtTime(i._pos[2],Howler.ctx.currentTime,.1)):i.ctx.listener.setPosition(i._pos[0],i._pos[1],i._pos[2]);else return i._pos;return i},HowlerGlobal.prototype.orientation=function(n,r,o,i,l,u){var a=this;if(!a.ctx||!a.ctx.listener)return a;var d=a._orientation;if(r=typeof r!="number"?d[1]:r,o=typeof o!="number"?d[2]:o,i=typeof i!="number"?d[3]:i,l=typeof l!="number"?d[4]:l,u=typeof u!="number"?d[5]:u,typeof n=="number")a._orientation=[n,r,o,i,l,u],typeof a.ctx.listener.forwardX<"u"?(a.ctx.listener.forwardX.setTargetAtTime(n,Howler.ctx.currentTime,.1),a.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),a.ctx.listener.forwardZ.setTargetAtTime(o,Howler.ctx.currentTime,.1),a.ctx.listener.upX.setTargetAtTime(i,Howler.ctx.currentTime,.1),a.ctx.listener.upY.setTargetAtTime(l,Howler.ctx.currentTime,.1),a.ctx.listener.upZ.setTargetAtTime(u,Howler.ctx.currentTime,.1)):a.ctx.listener.setOrientation(n,r,o,i,l,u);else return d;return a},Howl.prototype.init=function(n){return function(r){var o=this;return o._orientation=r.orientation||[1,0,0],o._stereo=r.stereo||null,o._pos=r.pos||null,o._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance<"u"?r.maxDistance:1e4,panningModel:typeof r.panningModel<"u"?r.panningModel:"HRTF",refDistance:typeof r.refDistance<"u"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:1},o._onstereo=r.onstereo?[{fn:r.onstereo}]:[],o._onpos=r.onpos?[{fn:r.onpos}]:[],o._onorientation=r.onorientation?[{fn:r.onorientation}]:[],n.call(this,r)}}(Howl.prototype.init),Howl.prototype.stereo=function(n,r){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"stereo",action:function(){o.stereo(n,r)}}),o;var i=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u")if(typeof n=="number")o._stereo=n,o._pos=[n,0,0];else return o._stereo;for(var l=o._getSoundIds(r),u=0;u<l.length;u++){var a=o._soundById(l[u]);if(a)if(typeof n=="number")a._stereo=n,a._pos=[n,0,0],a._node&&(a._pannerAttr.panningModel="equalpower",(!a._panner||!a._panner.pan)&&t(a,i),i==="spatial"?typeof a._panner.positionX<"u"?(a._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),a._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),a._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):a._panner.setPosition(n,0,0):a._panner.pan.setValueAtTime(n,Howler.ctx.currentTime)),o._emit("stereo",a._id);else return a._stereo}return o},Howl.prototype.pos=function(n,r,o,i){var l=this;if(!l._webAudio)return l;if(l._state!=="loaded")return l._queue.push({event:"pos",action:function(){l.pos(n,r,o,i)}}),l;if(r=typeof r!="number"?0:r,o=typeof o!="number"?-.5:o,typeof i>"u")if(typeof n=="number")l._pos=[n,r,o];else return l._pos;for(var u=l._getSoundIds(i),a=0;a<u.length;a++){var d=l._soundById(u[a]);if(d)if(typeof n=="number")d._pos=[n,r,o],d._node&&((!d._panner||d._panner.pan)&&t(d,"spatial"),typeof d._panner.positionX<"u"?(d._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),d._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),d._panner.positionZ.setValueAtTime(o,Howler.ctx.currentTime)):d._panner.setPosition(n,r,o)),l._emit("pos",d._id);else return d._pos}return l},Howl.prototype.orientation=function(n,r,o,i){var l=this;if(!l._webAudio)return l;if(l._state!=="loaded")return l._queue.push({event:"orientation",action:function(){l.orientation(n,r,o,i)}}),l;if(r=typeof r!="number"?l._orientation[1]:r,o=typeof o!="number"?l._orientation[2]:o,typeof i>"u")if(typeof n=="number")l._orientation=[n,r,o];else return l._orientation;for(var u=l._getSoundIds(i),a=0;a<u.length;a++){var d=l._soundById(u[a]);if(d)if(typeof n=="number")d._orientation=[n,r,o],d._node&&(d._panner||(d._pos||(d._pos=l._pos||[0,0,-.5]),t(d,"spatial")),typeof d._panner.orientationX<"u"?(d._panner.orientationX.setValueAtTime(n,Howler.ctx.currentTime),d._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),d._panner.orientationZ.setValueAtTime(o,Howler.ctx.currentTime)):d._panner.setOrientation(n,r,o)),l._emit("orientation",d._id);else return d._orientation}return l},Howl.prototype.pannerAttr=function(){var n=this,r=arguments,o,i,l;if(!n._webAudio)return n;if(r.length===0)return n._pannerAttr;if(r.length===1)if(typeof r[0]=="object")o=r[0],typeof i>"u"&&(o.pannerAttr||(o.pannerAttr={coneInnerAngle:o.coneInnerAngle,coneOuterAngle:o.coneOuterAngle,coneOuterGain:o.coneOuterGain,distanceModel:o.distanceModel,maxDistance:o.maxDistance,refDistance:o.refDistance,rolloffFactor:o.rolloffFactor,panningModel:o.panningModel}),n._pannerAttr={coneInnerAngle:typeof o.pannerAttr.coneInnerAngle<"u"?o.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:typeof o.pannerAttr.coneOuterAngle<"u"?o.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:typeof o.pannerAttr.coneOuterGain<"u"?o.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:typeof o.pannerAttr.distanceModel<"u"?o.pannerAttr.distanceModel:n._distanceModel,maxDistance:typeof o.pannerAttr.maxDistance<"u"?o.pannerAttr.maxDistance:n._maxDistance,refDistance:typeof o.pannerAttr.refDistance<"u"?o.pannerAttr.refDistance:n._refDistance,rolloffFactor:typeof o.pannerAttr.rolloffFactor<"u"?o.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:typeof o.pannerAttr.panningModel<"u"?o.pannerAttr.panningModel:n._panningModel});else return l=n._soundById(parseInt(r[0],10)),l?l._pannerAttr:n._pannerAttr;else r.length===2&&(o=r[0],i=parseInt(r[1],10));for(var u=n._getSoundIds(i),a=0;a<u.length;a++)if(l=n._soundById(u[a]),l){var d=l._pannerAttr;d={coneInnerAngle:typeof o.coneInnerAngle<"u"?o.coneInnerAngle:d.coneInnerAngle,coneOuterAngle:typeof o.coneOuterAngle<"u"?o.coneOuterAngle:d.coneOuterAngle,coneOuterGain:typeof o.coneOuterGain<"u"?o.coneOuterGain:d.coneOuterGain,distanceModel:typeof o.distanceModel<"u"?o.distanceModel:d.distanceModel,maxDistance:typeof o.maxDistance<"u"?o.maxDistance:d.maxDistance,refDistance:typeof o.refDistance<"u"?o.refDistance:d.refDistance,rolloffFactor:typeof o.rolloffFactor<"u"?o.rolloffFactor:d.rolloffFactor,panningModel:typeof o.panningModel<"u"?o.panningModel:d.panningModel};var m=l._panner;m||(l._pos||(l._pos=n._pos||[0,0,-.5]),t(l,"spatial"),m=l._panner),m.coneInnerAngle=d.coneInnerAngle,m.coneOuterAngle=d.coneOuterAngle,m.coneOuterGain=d.coneOuterGain,m.distanceModel=d.distanceModel,m.maxDistance=d.maxDistance,m.refDistance=d.refDistance,m.rolloffFactor=d.rolloffFactor,m.panningModel=d.panningModel}return n},Sound.prototype.init=function(n){return function(){var r=this,o=r._parent;r._orientation=o._orientation,r._stereo=o._stereo,r._pos=o._pos,r._pannerAttr=o._pannerAttr,n.call(this),r._stereo?o.stereo(r._stereo):r._pos&&o.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}}(Sound.prototype.init),Sound.prototype.reset=function(n){return function(){var r=this,o=r._parent;return r._orientation=o._orientation,r._stereo=o._stereo,r._pos=o._pos,r._pannerAttr=o._pannerAttr,r._stereo?o.stereo(r._stereo):r._pos?o.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,o._refreshBuffer(r)),n.call(this)}}(Sound.prototype.reset);var t=function(n,r){r=r||"spatial",r==="spatial"?(n._panner=Howler.ctx.createPanner(),n._panner.coneInnerAngle=n._pannerAttr.coneInnerAngle,n._panner.coneOuterAngle=n._pannerAttr.coneOuterAngle,n._panner.coneOuterGain=n._pannerAttr.coneOuterGain,n._panner.distanceModel=n._pannerAttr.distanceModel,n._panner.maxDistance=n._pannerAttr.maxDistance,n._panner.refDistance=n._pannerAttr.refDistance,n._panner.rolloffFactor=n._pannerAttr.rolloffFactor,n._panner.panningModel=n._pannerAttr.panningModel,typeof n._panner.positionX<"u"?(n._panner.positionX.setValueAtTime(n._pos[0],Howler.ctx.currentTime),n._panner.positionY.setValueAtTime(n._pos[1],Howler.ctx.currentTime),n._panner.positionZ.setValueAtTime(n._pos[2],Howler.ctx.currentTime)):n._panner.setPosition(n._pos[0],n._pos[1],n._pos[2]),typeof n._panner.orientationX<"u"?(n._panner.orientationX.setValueAtTime(n._orientation[0],Howler.ctx.currentTime),n._panner.orientationY.setValueAtTime(n._orientation[1],Howler.ctx.currentTime),n._panner.orientationZ.setValueAtTime(n._orientation[2],Howler.ctx.currentTime)):n._panner.setOrientation(n._orientation[0],n._orientation[1],n._orientation[2])):(n._panner=Howler.ctx.createStereoPanner(),n._panner.pan.setValueAtTime(n._stereo,Howler.ctx.currentTime)),n._panner.connect(n._node),n._paused||n._parent.pause(n._id,!0).play(n._id,!0)}})()})(qt);const ys=Vp((e,t)=>({isMuted:!1,backgroundMusic:null,shootSound:null,explosionSound:null,playerHitSound:null,gameOverSound:null,levelUpSound:null,initAudio:()=>{const n=new qt.Howl({src:["/sounds/background.mp3"],loop:!0,volume:.3,html5:!0}),r=new qt.Howl({src:["/sounds/hit.mp3"],volume:.4,rate:2}),o=new qt.Howl({src:["/sounds/hit.mp3"],volume:.5,rate:.8}),i=new qt.Howl({src:["/sounds/hit.mp3"],volume:.6,rate:.5}),l=new qt.Howl({src:["/sounds/hit.mp3"],volume:.7,rate:.3}),u=new qt.Howl({src:["/sounds/success.mp3"],volume:.6});e({backgroundMusic:n,shootSound:r,explosionSound:o,playerHitSound:i,gameOverSound:l,levelUpSound:u})},toggleMute:()=>{const{isMuted:n}=t(),r=!n;qt.Howler.mute(r),e({isMuted:r})},playShoot:()=>{const{shootSound:n,isMuted:r}=t();n&&!r&&n.play()},playExplosion:()=>{const{explosionSound:n,isMuted:r}=t();n&&!r&&n.play()},playPlayerHit:()=>{const{playerHitSound:n,isMuted:r}=t();n&&!r&&n.play()},playGameOver:()=>{const{gameOverSound:n,isMuted:r,backgroundMusic:o}=t();o&&o.stop(),n&&!r&&n.play()},playLevelUp:()=>{const{levelUpSound:n,isMuted:r}=t();n&&!r&&n.play()},startBackgroundMusic:()=>{const{backgroundMusic:n,isMuted:r}=t();n&&!r&&n.play()},stopBackgroundMusic:()=>{const{backgroundMusic:n}=t();n&&n.stop()}}));function G_(){const{userName:e,initializeGame:t}=_e(),{initAudio:n,startBackgroundMusic:r,isMuted:o,toggleMute:i}=ys(),l=()=>{n(),r(),t()};return v.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center p-4",children:v.jsxs("div",{className:"w-full max-w-2xl",children:[v.jsxs("div",{className:"text-center mb-6",children:[v.jsx("h1",{className:"text-4xl font-bold text-green-400 mb-2 font-mono",children:" ROUTING RAIDERS "}),v.jsxs("p",{className:"text-gray-400",children:["Welcome, ",v.jsx("span",{className:"text-yellow-400 font-bold",children:e}),"!"]})]}),v.jsxs("div",{className:"bg-gray-900 border border-green-500 rounded-lg p-6 mb-6",children:[v.jsxs("h2",{className:"text-xl font-bold text-green-400 mb-4 flex items-center gap-2",children:[v.jsx(bd,{size:24}),"Controls"]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[v.jsxs("div",{className:"bg-black/50 border border-gray-700 rounded-lg p-4",children:[v.jsxs("div",{className:"flex items-center gap-2 text-purple-400 mb-2",children:[v.jsx(bd,{size:20}),v.jsx("span",{className:"font-bold",children:"Keyboard"})]}),v.jsxs("ul",{className:"text-gray-300 text-sm space-y-1",children:[v.jsx("li",{children:"  Arrow keys to move"}),v.jsx("li",{children:"SPACE to shoot"}),v.jsx("li",{children:"ESC to pause"})]})]}),v.jsxs("div",{className:"bg-black/50 border border-gray-700 rounded-lg p-4",children:[v.jsxs("div",{className:"flex items-center gap-2 text-blue-400 mb-2",children:[v.jsx(L_,{size:20}),v.jsx("span",{className:"font-bold",children:"Mobile"})]}),v.jsxs("ul",{className:"text-gray-300 text-sm space-y-1",children:[v.jsx("li",{children:"Swipe left/right to move"}),v.jsx("li",{children:"Tap to shoot"})]})]}),v.jsxs("div",{className:"bg-black/50 border border-gray-700 rounded-lg p-4",children:[v.jsxs("div",{className:"flex items-center gap-2 text-orange-400 mb-2",children:[v.jsx(E_,{size:20}),v.jsx("span",{className:"font-bold",children:"Controller"})]}),v.jsxs("ul",{className:"text-gray-300 text-sm space-y-1",children:[v.jsx("li",{children:"Left stick to move"}),v.jsx("li",{children:"A/X button to shoot"})]})]})]})]}),v.jsxs("div",{className:"bg-gray-900 border border-yellow-500 rounded-lg p-6 mb-6",children:[v.jsxs("h2",{className:"text-xl font-bold text-yellow-400 mb-4 flex items-center gap-2",children:[v.jsx(In,{size:24}),"Lightning Channel Rules"]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx("div",{className:"bg-cyan-500/20 p-2 rounded-lg",children:v.jsx(P_,{className:"text-cyan-400",size:20})}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-cyan-400 font-bold",children:"Your Shots (Outgoing)"}),v.jsx("p",{className:"text-gray-300 text-sm",children:"Each shot costs 1 zap from your outgoing capacity. When outgoing reaches 0, you can't shoot until enemies fire back!"})]})]}),v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx("div",{className:"bg-orange-500/20 p-2 rounded-lg",children:v.jsx(In,{className:"text-orange-400",size:20})}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-orange-400 font-bold",children:"Enemy Shots (Incoming)"}),v.jsx("p",{className:"text-gray-300 text-sm",children:"Enemy shots use their incoming capacity. This rebalances sats back to your outgoing capacity!"})]})]}),v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx("div",{className:"bg-green-500/20 p-2 rounded-lg",children:v.jsx(S_,{className:"text-green-400",size:20})}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-green-400 font-bold",children:"Wave Reset"}),v.jsx("p",{className:"text-gray-300 text-sm",children:"Channel resets to 20/20 after each wave. Complete waves quickly to maintain balance!"})]})]})]}),v.jsxs("div",{className:"mt-4 bg-red-900/30 border border-red-500 rounded-lg p-3",children:[v.jsx("p",{className:"text-red-400 text-sm font-bold",children:" Strategic Tip:"}),v.jsx("p",{className:"text-gray-300 text-sm",children:"Don't spam shots! Let enemies fire occasionally to rebalance your channel. Running out of outgoing capacity leaves you defenseless!"})]})]}),v.jsxs("div",{className:"bg-gray-900 border border-purple-500 rounded-lg p-6 mb-6",children:[v.jsx("h2",{className:"text-xl font-bold text-purple-400 mb-4",children:"Game Rules"}),v.jsxs("ul",{className:"text-gray-300 space-y-2 text-sm",children:[v.jsx("li",{children:" Destroy all aliens to complete a wave"}),v.jsx("li",{children:" Each new wave starts lower and moves faster"}),v.jsx("li",{children:" Aliens speed up as their numbers decrease"}),v.jsx("li",{children:" You have 3 lives - game over when all are lost"}),v.jsx("li",{children:" Aliens reaching the bottom costs you a life"}),v.jsx("li",{children:" Your score is submitted to the Gamestr leaderboard!"})]})]}),v.jsxs("div",{className:"flex flex-col gap-4",children:[v.jsxs("button",{onClick:l,className:"w-full bg-green-500 hover:bg-green-400 text-black font-bold py-4 px-6 rounded-lg text-xl flex items-center justify-center gap-2 transition-all transform hover:scale-105",children:[v.jsx(In,{size:24}),"START GAME"]}),v.jsxs("button",{onClick:i,className:"w-full bg-gray-800 hover:bg-gray-700 text-gray-300 py-2 px-4 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[v.jsx(ay,{size:20}),o?"Sound: OFF":"Sound: ON"]})]})]})})}function q_(){const[e,t]=z.useState(!1),[n,r]=z.useState(!1),[o,i]=z.useState(null),{score:l,highScore:u,level:a,userPubkey:d,isAnonymous:m,initializeGame:s,setPhase:c,resetGame:f}=_e(),{playGameOver:p,initAudio:y,startBackgroundMusic:w}=ys(),h=l===u&&l>0;z.useEffect(()=>{p()},[p]);const g=async()=>{if(!(!d||e||n)){t(!0),i(null);try{let S;if(m){i("Anonymous players cannot publish to leaderboard"),t(!1);return}const b=localStorage.getItem("nostr_nsec");if(b)S=I=>y_(I,b);else if(window.nostr)S=g_;else{i("No signing method available"),t(!1);return}const k=await h_(l,a,d,S);k?(r(!0),console.log("Score published with event ID:",k)):i("Failed to publish score")}catch(S){console.error("Publish error:",S),i(S.message||"Failed to publish score")}finally{t(!1)}}},x=()=>{y(),w(),s()},_=()=>{f(),c("welcome")},N=()=>{const S=`I just scored ${l.toLocaleString()} points on Level ${a} in Routing Raiders! 

Can you beat my score?

#RoutingRaiders #Nostr #Gaming`;navigator.share?navigator.share({title:"Routing Raiders Score",text:S}).catch(console.error):navigator.clipboard.writeText(S)};return v.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center p-4",children:v.jsxs("div",{className:"w-full max-w-md text-center",children:[v.jsxs("div",{className:"mb-8",children:[v.jsx("h1",{className:"text-5xl font-bold text-red-500 mb-4 font-mono animate-pulse",children:"GAME OVER"}),h&&v.jsxs("div",{className:"bg-yellow-500/20 border-2 border-yellow-500 rounded-lg p-4 mb-4 animate-bounce",children:[v.jsx(kd,{className:"mx-auto text-yellow-400 mb-2",size:40}),v.jsx("p",{className:"text-yellow-400 font-bold text-xl",children:"NEW HIGH SCORE!"})]})]}),v.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-lg p-6 mb-6",children:[v.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[v.jsxs("div",{className:"bg-black/50 rounded-lg p-4",children:[v.jsx("p",{className:"text-gray-400 text-sm",children:"FINAL SCORE"}),v.jsx("p",{className:"text-3xl font-bold text-green-400",children:l.toLocaleString()})]}),v.jsxs("div",{className:"bg-black/50 rounded-lg p-4",children:[v.jsx("p",{className:"text-gray-400 text-sm",children:"LEVEL REACHED"}),v.jsx("p",{className:"text-3xl font-bold text-yellow-400",children:a})]})]}),v.jsxs("div",{className:"bg-black/50 rounded-lg p-3",children:[v.jsx("p",{className:"text-gray-400 text-sm",children:"HIGH SCORE"}),v.jsx("p",{className:"text-xl font-bold text-purple-400",children:u.toLocaleString()})]})]}),!m&&d&&v.jsxs("div",{className:"bg-gray-900 border border-purple-500 rounded-lg p-4 mb-6",children:[v.jsx("h3",{className:"text-purple-400 font-bold mb-3",children:"Gamestr Leaderboard"}),o&&v.jsx("div",{className:"bg-red-900/50 border border-red-500 text-red-400 p-2 rounded-lg text-sm mb-3",children:o}),n?v.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-400",children:[v.jsx(Hu,{size:20}),v.jsx("span",{children:"Score published to Gamestr!"})]}):v.jsx("button",{onClick:g,disabled:e,className:"w-full bg-purple-600 hover:bg-purple-500 disabled:bg-purple-800 text-white font-bold py-2 px-4 rounded-lg flex items-center justify-center gap-2 transition-colors",children:e?v.jsxs(v.Fragment,{children:[v.jsx(nn,{className:"animate-spin",size:18}),"Publishing..."]}):v.jsxs(v.Fragment,{children:[v.jsx(kd,{size:18}),"Publish Score to Leaderboard"]})})]}),v.jsxs("div",{className:"space-y-3",children:[v.jsxs("button",{onClick:x,className:"w-full bg-green-500 hover:bg-green-400 text-black font-bold py-3 px-4 rounded-lg flex items-center justify-center gap-2 transition-all transform hover:scale-105",children:[v.jsx(T_,{size:20}),"PLAY AGAIN"]}),v.jsxs("button",{onClick:N,className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 px-4 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[v.jsx(C_,{size:20}),"SHARE SCORE"]}),v.jsxs("button",{onClick:_,className:"w-full bg-gray-700 hover:bg-gray-600 text-white py-2 px-4 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[v.jsx(b_,{size:18}),"Main Menu"]})]}),v.jsxs("div",{className:"mt-8 text-gray-500 text-xs",children:[v.jsx("p",{children:"Published to NOSTR relays:"}),v.jsx("p",{className:"font-mono",children:Bu.slice(0,2).join(", ")})]})]})})}const nt=1200,xe=900,ht=50,Kn=30,Td=4,Cd=15,Fr=40,il=30,sl=8,K_=10,Q_=5;function X_(){const e=z.useRef(null),t=z.useRef(),n=z.useRef(new Set),r=z.useRef(0),o=z.useRef(0),i=z.useRef(null),l=z.useRef(0),u=z.useRef([]),{playShoot:a,playExplosion:d,playPlayerHit:m,playLevelUp:s}=ys(),c=z.useCallback(()=>{const f=Date.now();if(f-r.current<300)return;const p=_e.getState();if(p.phase==="playing"&&p.playerShoot()){r.current=f;const y={id:`player-bullet-${f}`,x:p.player.x,y:xe-80,isPlayerBullet:!0};p.addBullet(y),a()}},[a]);return z.useEffect(()=>{const f=y=>{const w=_e.getState();n.current.add(y.code),y.code==="Space"&&w.phase==="playing"&&(y.preventDefault(),c()),y.code==="Escape"&&(w.phase==="playing"||w.phase==="paused")&&w.setPhase(w.phase==="paused"?"playing":"paused")},p=y=>{n.current.delete(y.code)};return window.addEventListener("keydown",f),window.addEventListener("keyup",p),()=>{window.removeEventListener("keydown",f),window.removeEventListener("keyup",p)}},[c]),z.useEffect(()=>{const f=e.current;if(!f)return;const p=h=>{_e.getState().phase==="playing"&&(h.preventDefault(),i.current=h.touches[0].clientX)},y=h=>{const g=_e.getState();if(g.phase!=="playing"||i.current===null)return;h.preventDefault();const x=h.touches[0].clientX,_=x-i.current,N=f.getBoundingClientRect(),S=nt/N.width,b=Math.max(ht/2,Math.min(nt-ht/2,g.player.x+_*S*.5));g.setPlayer({x:b}),i.current=x},w=h=>{_e.getState().phase==="playing"&&(h.preventDefault(),h.changedTouches.length>0&&c(),i.current=null)};return f.addEventListener("touchstart",p,{passive:!1}),f.addEventListener("touchmove",y,{passive:!1}),f.addEventListener("touchend",w,{passive:!1}),()=>{f.removeEventListener("touchstart",p),f.removeEventListener("touchmove",y),f.removeEventListener("touchend",w)}},[c]),z.useEffect(()=>{let f=null;const p=g=>{f=g.gamepad.index,console.log("Gamepad connected:",g.gamepad.id)},y=()=>{f=null,console.log("Gamepad disconnected")};window.addEventListener("gamepadconnected",p),window.addEventListener("gamepaddisconnected",y);const h=setInterval(()=>{if(f===null)return;const g=_e.getState();if(g.phase!=="playing")return;const _=navigator.getGamepads()[f];if(!_)return;const N=_.axes[0];if(Math.abs(N)>.1){const b=Math.max(ht/2,Math.min(nt-ht/2,g.player.x+N*sl));g.setPlayer({x:b})}const S=Date.now();(_.buttons[0].pressed||_.buttons[2].pressed)&&S-o.current>300&&(o.current=S,c())},16);return()=>{window.removeEventListener("gamepadconnected",p),window.removeEventListener("gamepaddisconnected",y),clearInterval(h)}},[c]),z.useEffect(()=>{const f=e.current;if(!f)return;const p=f.getContext("2d");if(!p)return;const y=()=>{const w=_e.getState(),h=Date.now();if(w.phase!=="playing"){p.fillStyle="#000000",p.fillRect(0,0,nt,xe),p.fillStyle="#00FF00",p.font="24px monospace",p.textAlign="center",w.phase==="paused"&&(p.fillText("PAUSED",nt/2,xe/2),p.font="16px monospace",p.fillText("Press ESC to resume",nt/2,xe/2+30)),t.current=requestAnimationFrame(y);return}if(l.current+=1,n.current.has("ArrowLeft")||n.current.has("KeyA")){const E=Math.max(ht/2,w.player.x-sl);w.setPlayer({x:E})}if(n.current.has("ArrowRight")||n.current.has("KeyD")){const E=Math.min(nt-ht/2,w.player.x+sl);w.setPlayer({x:E})}const g=w.bullets.map(E=>({...E,y:E.isPlayerBullet?E.y-K_:E.y+Q_})).filter(E=>E.y>0&&E.y<xe),x=new Set,_=new Set;let N=0,S=!1;for(const E of g)if(!x.has(E.id))if(E.isPlayerBullet){for(const R of w.aliens)if(!(!R.alive||_.has(R.id))&&E.x>R.x-Fr/2&&E.x<R.x+Fr/2&&E.y>R.y-il/2&&E.y<R.y+il/2){_.add(R.id),x.add(E.id),N+=R.type===3?30:R.type===2?20:10,d();break}}else{const R=w.player.x;E.x>R-ht/2&&E.x<R+ht/2&&E.y>xe-70-Kn/2&&E.y<xe-70+Kn/2&&(x.add(E.id),S=!0)}if(S){m(),d(),u.current.push({x:w.player.x,y:xe-70,startTime:h}),w.loseLife(),t.current=requestAnimationFrame(y);return}N>0&&w.addScore(N);const b=w.aliens.map(E=>({...E,alive:E.alive&&!_.has(E.id)})),k=g.filter(E=>!x.has(E.id));w.setBullets(k);const I=b.filter(E=>E.alive);if(I.length===0){s(),w.nextWave(),t.current=requestAnimationFrame(y);return}let j=!1;const P=b.map(E=>{if(!E.alive)return E;const R=E.x+w.alienDirection*w.alienSpeed;return(R<=Fr/2||R>=nt-Fr/2)&&(j=!0),{...E,x:R}});if(j){const E=P.map(A=>({...A,x:A.x-w.alienDirection*w.alienSpeed,y:A.alive?A.y+20:A.y}));if(w.setAliens(E),w.setAlienDirection(-w.alienDirection),E.reduce((A,T)=>T.alive&&T.y>A?T.y:A,0)>=xe-100){m(),w.loseLife(),t.current=requestAnimationFrame(y);return}}else w.setAliens(P);const $=Math.max(300,1500-(55-I.length)*30-w.level*100);if(h-w.lastAlienShot>$&&w.channel.incoming>=1){const E=new Map;for(const A of I){const T=Math.round(A.x/50);(!E.has(T)||A.y>E.get(T).y)&&E.set(T,A)}const R=Array.from(E.values());if(R.length>0){const A=R[Math.floor(Math.random()*R.length)],T={id:`alien-bullet-${h}`,x:A.x,y:A.y+il/2,isPlayerBullet:!1};w.addBullet(T),w.enemyShoot(),w.setLastAlienShot(h)}}p.fillStyle="#000000",p.fillRect(0,0,nt,xe);for(let E=0;E<50;E++){const R=(E*137+l.current*.1)%nt,A=E*97%xe;p.fillStyle=`rgba(255, 255, 255, ${.3+E%3*.2})`,p.fillRect(R,A,2,2)}u.current=u.current.filter(E=>{const R=h-E.startTime;if(R>400)return!1;const A=R/400,T=60*(1-A),M=1-A;return p.fillStyle=`rgba(255, 165, 0, ${M*.8})`,p.beginPath(),p.arc(E.x,E.y,T,0,Math.PI*2),p.fill(),p.fillStyle=`rgba(255, 255, 0, ${M*.6})`,p.beginPath(),p.arc(E.x,E.y,T*.6,0,Math.PI*2),p.fill(),p.fillStyle=`rgba(255, 255, 255, ${M*.4})`,p.beginPath(),p.arc(E.x,E.y,T*.3,0,Math.PI*2),p.fill(),!0});const F=_e.getState().player;p.fillStyle="#00FF00",p.beginPath(),p.moveTo(F.x,xe-70-Kn/2),p.lineTo(F.x-ht/2+3,xe-70+Kn/2),p.lineTo(F.x+ht/2-3,xe-70+Kn/2),p.closePath(),p.fill(),p.fillStyle="#00FF00",p.fillRect(F.x-3,xe-70-Kn/2-10,6,10);const V=_e.getState().aliens;for(const E of V){if(!E.alive)continue;const R=["#FF0000","#FFFF00","#FF00FF"];p.fillStyle=R[E.type-1]||"#FFFFFF";const A=Math.sin(l.current*.1+E.x*.1)*2;p.beginPath(),p.arc(E.x,E.y+A,Fr/2.5,0,Math.PI*2),p.fill(),p.fillStyle="#000000",p.fillRect(E.x-8,E.y-5+A,5,5),p.fillRect(E.x+3,E.y-5+A,5,5);const T=Math.sin(l.current*.2)*3;p.fillStyle=R[E.type-1]||"#FFFFFF",p.fillRect(E.x-12,E.y+10+A+T,4,8),p.fillRect(E.x+8,E.y+10+A-T,4,8)}const C=_e.getState().bullets;for(const E of C)E.isPlayerBullet?(p.fillStyle="#00FFFF",p.shadowColor="#00FFFF",p.shadowBlur=10):(p.fillStyle="#FF6600",p.shadowColor="#FF6600",p.shadowBlur=10),p.fillRect(E.x-Td/2,E.y-Cd/2,Td,Cd),p.shadowBlur=0;t.current=requestAnimationFrame(y)};return t.current=requestAnimationFrame(y),()=>{t.current&&cancelAnimationFrame(t.current)}},[d,m,s]),v.jsx("canvas",{ref:e,width:nt,height:xe,className:"border-2 border-green-500 rounded-lg shadow-2xl shadow-green-500/20 max-w-full",style:{imageRendering:"pixelated",touchAction:"none"}})}function Z_(){const{score:e,highScore:t,level:n,player:r,channel:o,phase:i,setPhase:l}=_e(),{isMuted:u,toggleMute:a}=ys(),d=o.outgoing/40*100,m=o.incoming/40*100;return v.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[v.jsxs("div",{className:"absolute top-4 left-4 right-4 flex justify-between items-start pointer-events-auto",children:[v.jsxs("div",{className:"bg-black/80 border border-green-500 rounded-lg p-3 text-green-400 font-mono",children:[v.jsx("div",{className:"text-sm opacity-70",children:"SCORE"}),v.jsx("div",{className:"text-2xl font-bold",children:e.toLocaleString()}),v.jsxs("div",{className:"text-xs opacity-50 mt-1",children:["HIGH: ",t.toLocaleString()]})]}),v.jsxs("div",{className:"bg-black/80 border border-yellow-500 rounded-lg p-3 text-yellow-400 font-mono text-center",children:[v.jsx("div",{className:"text-sm opacity-70",children:"WAVE"}),v.jsx("div",{className:"text-2xl font-bold",children:n})]}),v.jsxs("div",{className:"flex flex-col gap-2",children:[v.jsxs("div",{className:"bg-black/80 border border-red-500 rounded-lg p-3 text-red-400 font-mono",children:[v.jsx("div",{className:"text-sm opacity-70",children:"LIVES"}),v.jsxs("div",{className:"text-xl",children:["".repeat(r.lives),"".repeat(3-r.lives)]})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:()=>l(i==="paused"?"playing":"paused"),className:"bg-black/80 border border-blue-500 rounded-lg p-2 text-blue-400 hover:bg-blue-500/20 transition-colors",children:i==="paused"?v.jsx(A_,{size:20}):v.jsx(k_,{size:20})}),v.jsx("button",{onClick:a,className:"bg-black/80 border border-purple-500 rounded-lg p-2 text-purple-400 hover:bg-purple-500/20 transition-colors",children:u?v.jsx(I_,{size:20}):v.jsx(ay,{size:20})})]})]})]}),v.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:v.jsxs("div",{className:"bg-black/80 border border-orange-500 rounded-lg p-3",children:[v.jsx("div",{className:"text-center text-orange-400 font-mono text-sm mb-2",children:"LIGHTNING CHANNEL"}),v.jsxs("div",{className:"flex gap-3 items-center",children:[v.jsx("div",{className:"text-2xl text-orange-500",children:""}),v.jsxs("div",{className:"flex-1",children:[v.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[v.jsxs("span",{className:"text-yellow-400",children:["OUTGOING ",o.outgoing]}),v.jsxs("span",{className:"text-orange-400",children:["INCOMING ",o.incoming]})]}),v.jsxs("div",{className:"h-4 bg-gray-800 rounded-full overflow-hidden flex",children:[v.jsx("div",{className:"bg-yellow-500 transition-all duration-200",style:{width:`${d}%`}}),v.jsx("div",{className:"bg-orange-500 transition-all duration-200",style:{width:`${m}%`}})]})]})]}),v.jsx("div",{className:"text-center text-xs text-gray-400 mt-2",children:"Each shot uses 1 unit | Channel resets to 20/20 each wave"})]})}),i==="paused"&&v.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 pointer-events-auto",children:v.jsxs("div",{className:"bg-black/90 border-2 border-yellow-500 rounded-lg p-8 text-center",children:[v.jsx("h2",{className:"text-3xl font-bold text-yellow-400 mb-4",children:"PAUSED"}),v.jsx("p",{className:"text-gray-400 mb-4",children:"Press ESC or click to resume"}),v.jsx("button",{onClick:()=>l("playing"),className:"bg-yellow-500 text-black font-bold px-6 py-2 rounded-lg hover:bg-yellow-400 transition-colors",children:"RESUME"})]})})]})}function Y_(){const{phase:e}=_e();return z.useEffect(()=>(document.body.style.overflow="hidden",document.body.style.touchAction="none",()=>{document.body.style.overflow="",document.body.style.touchAction=""}),[]),e==="auth"?v.jsx(j_,{}):e==="payment"?v.jsx(W_,{}):e==="welcome"?v.jsx(G_,{}):e==="gameOver"?v.jsx(q_,{}):v.jsx("div",{className:"w-screen h-screen bg-black flex items-center justify-center overflow-hidden",children:v.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[v.jsx(X_,{}),v.jsx(Z_,{})]})})}Dp(document.getElementById("root")).render(v.jsx(Y_,{}));
